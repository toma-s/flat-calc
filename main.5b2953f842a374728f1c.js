(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/6Yf":function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n("30Go"),i=n("qOnz"),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t=o);var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.a;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=Object(r.a)({identifier:o,optional:!1},t),n=e.optional,i=this.normalizeInstanceIdentifier(e.identifier);try{var s=this.getOrInitializeService(i);if(!s){if(n)return null;throw Error("Service "+this.name+" is not available")}return s}catch(a){if(n)return null;throw a}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService(o)}catch(h){}try{for(var i=Object(r.h)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=Object(r.e)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService(c);u.resolve(l)}catch(h){}}}catch(f){e={error:f}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return Object(r.b)(this,void 0,void 0,function(){var t;return Object(r.d)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(Object(r.f)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}),t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()})))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return t===o?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:o:t},t}(),u=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},0:function(t,e,n){t.exports=n("zUnb")},"2QA8":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())()},"2fFW":function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},"30Go":function(t,e,n){"use strict";n.d(e,"c",function(){return i}),n.d(e,"a",function(){return s}),n.d(e,"b",function(){return o}),n.d(e,"d",function(){return a}),n.d(e,"h",function(){return u}),n.d(e,"e",function(){return c}),n.d(e,"f",function(){return l}),n.d(e,"g",function(){return h});var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var s=function(){return(s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function o(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(o,a)}u((r=r.apply(t,e||[])).next())})}function a(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!((i=(i=o.trys).length>0&&i[i.length-1])||6!==s[0]&&2!==s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function u(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function c(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function l(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(c(arguments[e]));return t}function h(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}},"3N8a":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("quSY");class i extends r.a{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},"3UD+":function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},"5+tZ":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("lJxs"),i=n("Cfvw"),s=n("zx2A");function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>Object(i.a)(t(n,s)).pipe(Object(r.a)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.b{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.a(this),n=this.destination;n.add(e);const r=Object(s.c)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},"7o/Q":function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("n6bG"),i=n("gRHU"),s=n("quSY"),o=n("2QA8"),a=n("2fFW"),u=n("NJ4a");class c extends s.a{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.a;break;case 1:if(!t){this.destination=i.a;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.a](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){let o;super(),this._parentSubscriber=t;let a=this;Object(r.a)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.a&&(a=Object.create(e),Object(r.a)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.a.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.a;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):Object(u.a)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;Object(u.a)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.a.useDeprecatedSynchronousErrorHandling)throw n;Object(u.a)(n)}}__tryOrSetError(t,e,n){if(!a.a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.a.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(Object(u.a)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},"9ppp":function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},Cfvw:function(t,e,n){"use strict";n.d(e,"a",function(){return h});var r=n("HDdC"),i=n("SeVD"),s=n("quSY"),o=n("kJWO"),a=n("jZKg"),u=n("Lhse"),c=n("c2HN"),l=n("I55L");function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.a]}(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>{const i=t[o.a]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if(Object(c.a)(t))return function(t,e){return new r.a(n=>{const r=new s.a;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if(Object(l.a)(t))return Object(a.a)(t,e);if(function(t){return t&&"function"==typeof t[u.a]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a(n=>{const r=new s.a;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.a](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},D0XW:function(t,e,n){"use strict";n.d(e,"b",function(){return i}),n.d(e,"a",function(){return s});var r=n("3N8a");const i=new(n("IjjT").a)(r.a),s=i},DH7j:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>Array.isArray||(t=>t&&"number"==typeof t.length))()},EY2u:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n.d(e,"b",function(){return s});var r=n("HDdC");const i=new r.a(t=>t.complete());function s(t){return t?function(t){return new r.a(e=>t.schedule(()=>e.complete()))}(t):i}},HDdC:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r=n("7o/Q"),i=n("2QA8"),s=n("gRHU"),o=n("kJWO"),a=n("SpAZ"),u=n("2fFW");let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.a)return t;if(t[i.a])return t[i.a]()}return t||e||n?new r.a(t,e,n):new r.a(s.a)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.a.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.a.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.a.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.a?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.a](){return this}pipe(...t){return 0===t.length?this:(0===(e=t).length?a.a:1===e.length?e[0]:function(t){return e.reduce((t,e)=>e(t),t)})(this);var e}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.a.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},I55L:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},IjjT:function(t,e,n){"use strict";n.d(e,"a",function(){return i});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},Jgta:function(t,e,n){"use strict";var r=n("zIRd");n.d(e,"a",function(){return r.a}),r.a.registerVersion("firebase","8.2.6","app")},LRne:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("z+Ro"),i=n("yCtX"),s=n("jZKg");function o(...t){let e=t[t.length-1];return Object(r.a)(e)?(t.pop(),Object(s.a)(t,e)):Object(i.a)(t)}},Lhse:function(t,e,n){"use strict";function r(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}n.d(e,"a",function(){return i});const i=r()},NJ4a:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,"a",function(){return r})},SeVD:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var r=n("ngJS"),i=n("NJ4a"),s=n("Lhse"),o=n("kJWO"),a=n("I55L"),u=n("c2HN"),c=n("XoHu");const l=t=>{if(t&&"function"==typeof t[o.a])return l=t,t=>{const e=l[o.a]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Object(a.a)(t))return Object(r.a)(t);if(Object(u.a)(t))return n=t,t=>(n.then(e=>{t.closed||(t.next(e),t.complete())},e=>t.error(e)).then(null,i.a),t);if(t&&"function"==typeof t[s.a])return e=t,t=>{const n=e[s.a]();for(;;){let e;try{e=n.next()}catch(r){return t.error(r),t}if(e.done){t.complete();break}if(t.next(e.value),t.closed)break}return"function"==typeof n.return&&t.add(()=>{n.return&&n.return()}),t};{const e=Object(c.a)(t)?"an invalid object":`'${t}'`;throw new TypeError(`You provided ${e} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var e,n,l}},SpAZ:function(t,e,n){"use strict";function r(t){return t}n.d(e,"a",function(){return r})},VRyK:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("HDdC"),i=n("z+Ro"),s=n("bHdf"),o=n("yCtX");function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return Object(i.a)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.a?t[0]:Object(s.a)(e)(Object(o.a)(t,n))}},XNiG:function(t,e,n){"use strict";n.d(e,"b",function(){return c}),n.d(e,"a",function(){return l});var r=n("HDdC"),i=n("7o/Q"),s=n("quSY"),o=n("9ppp"),a=n("Ylt2"),u=n("2QA8");class c extends i.a{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.a{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.a](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.a;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.a;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.a;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.a;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.a;return this.hasError?(t.error(this.thrownError),s.a.EMPTY):this.isStopped?(t.complete(),s.a.EMPTY):(this.observers.push(t),new a.a(this,t))}asObservable(){const t=new r.a;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.a.EMPTY}}},XoHu:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,"a",function(){return r})},Y7HM:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("DH7j");function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},Ylt2:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("quSY");class i extends r.a{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},bHdf:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("5+tZ"),i=n("SpAZ");function s(t=Number.POSITIVE_INFINITY){return Object(r.a)(i.a,t)}},c2HN:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,"a",function(){return r})},fXoL:function(t,e,n){"use strict";n.d(e,"a",function(){return fn}),n.d(e,"b",function(){return Cu}),n.d(e,"c",function(){return vu}),n.d(e,"d",function(){return yu}),n.d(e,"e",function(){return bu}),n.d(e,"f",function(){return yc}),n.d(e,"g",function(){return ac}),n.d(e,"h",function(){return _a}),n.d(e,"i",function(){return Pu}),n.d(e,"j",function(){return Bo}),n.d(e,"k",function(){return Iu}),n.d(e,"l",function(){return Wo}),n.d(e,"m",function(){return Tr}),n.d(e,"n",function(){return Za}),n.d(e,"o",function(){return hs}),n.d(e,"p",function(){return Dn}),n.d(e,"q",function(){return N}),n.d(e,"r",function(){return hn}),n.d(e,"s",function(){return Is}),n.d(e,"t",function(){return da}),n.d(e,"u",function(){return ma}),n.d(e,"v",function(){return Tu}),n.d(e,"w",function(){return ja}),n.d(e,"x",function(){return cc}),n.d(e,"y",function(){return ka}),n.d(e,"z",function(){return nc}),n.d(e,"A",function(){return Mu}),n.d(e,"B",function(){return Rn}),n.d(e,"C",function(){return Ou}),n.d(e,"D",function(){return Eu}),n.d(e,"E",function(){return Ja}),n.d(e,"F",function(){return Zo}),n.d(e,"G",function(){return Yo}),n.d(e,"H",function(){return kr}),n.d(e,"I",function(){return Jo}),n.d(e,"J",function(){return wr}),n.d(e,"K",function(){return Pn}),n.d(e,"L",function(){return fc}),n.d(e,"M",function(){return Ta}),n.d(e,"N",function(){return Gu}),n.d(e,"O",function(){return dn}),n.d(e,"P",function(){return ea}),n.d(e,"Q",function(){return ta}),n.d(e,"R",function(){return Da}),n.d(e,"S",function(){return M}),n.d(e,"T",function(){return rc}),n.d(e,"U",function(){return tc}),n.d(e,"V",function(){return _}),n.d(e,"W",function(){return kn}),n.d(e,"X",function(){return Ju}),n.d(e,"Y",function(){return mc}),n.d(e,"Z",function(){return Wu}),n.d(e,"ab",function(){return Su}),n.d(e,"bb",function(){return ds}),n.d(e,"cb",function(){return ko}),n.d(e,"db",function(){return vr}),n.d(e,"eb",function(){return nr}),n.d(e,"fb",function(){return Gn}),n.d(e,"gb",function(){return $n}),n.d(e,"hb",function(){return Zn}),n.d(e,"ib",function(){return Kn}),n.d(e,"jb",function(){return Wn}),n.d(e,"kb",function(){return Yn}),n.d(e,"lb",function(){return To}),n.d(e,"mb",function(){return pc}),n.d(e,"nb",function(){return Io}),n.d(e,"ob",function(){return xo}),n.d(e,"pb",function(){return Qn}),n.d(e,"qb",function(){return z}),n.d(e,"rb",function(){return Ls}),n.d(e,"sb",function(){return eo}),n.d(e,"tb",function(){return Js}),n.d(e,"ub",function(){return to}),n.d(e,"vb",function(){return So}),n.d(e,"wb",function(){return Nt}),n.d(e,"xb",function(){return y}),n.d(e,"yb",function(){return Bn}),n.d(e,"zb",function(){return As}),n.d(e,"Ab",function(){return St}),n.d(e,"Bb",function(){return qo}),n.d(e,"Cb",function(){return gi}),n.d(e,"Db",function(){return qs}),n.d(e,"Eb",function(){return fo}),n.d(e,"Fb",function(){return hu}),n.d(e,"Gb",function(){return tt}),n.d(e,"Hb",function(){return at}),n.d(e,"Ib",function(){return O}),n.d(e,"Jb",function(){return C}),n.d(e,"Kb",function(){return it}),n.d(e,"Lb",function(){return ut}),n.d(e,"Mb",function(){return Bs}),n.d(e,"Nb",function(){return Ks}),n.d(e,"Ob",function(){return Zs}),n.d(e,"Pb",function(){return Ys}),n.d(e,"Qb",function(){return Ws}),n.d(e,"Rb",function(){return $s}),n.d(e,"Sb",function(){return Xs}),n.d(e,"Tb",function(){return an}),n.d(e,"Ub",function(){return wo}),n.d(e,"Vb",function(){return An}),n.d(e,"Wb",function(){return un}),n.d(e,"Xb",function(){return gu}),n.d(e,"Yb",function(){return no}),n.d(e,"Zb",function(){return fu}),n.d(e,"ac",function(){return Oe}),n.d(e,"bc",function(){return Ee}),n.d(e,"cc",function(){return so}),n.d(e,"dc",function(){return Ka}),n.d(e,"ec",function(){return Ya}),n.d(e,"fc",function(){return uo}),n.d(e,"gc",function(){return ao}),n.d(e,"hc",function(){return Gs}),n.d(e,"ic",function(){return Wa}),n.d(e,"jc",function(){return cu}),n.d(e,"kc",function(){return zs}),n.d(e,"lc",function(){return Zt}),n.d(e,"mc",function(){return Er}),n.d(e,"nc",function(){return st}),n.d(e,"oc",function(){return Hs}),n.d(e,"pc",function(){return bo}),n.d(e,"qc",function(){return vo}),n.d(e,"rc",function(){return _o}),n.d(e,"sc",function(){return lu});var r=n("XNiG"),i=n("quSY"),s=n("HDdC"),o=n("VRyK"),a=n("7o/Q");function u(){return function(t){return t.lift(new c(t))}}class c{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new l(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class l extends a.a{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}class h extends s.a{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new i.a,t.add(this.source.subscribe(new d(this.getSubject(),this))),t.closed&&(this._connection=null,t=i.a.EMPTY)),t}refCount(){return u()(this)}}const f=(()=>{const t=h.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class d extends r.b{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}function p(){return new r.a}function m(t){for(let e in t)if(t[e]===m)return e;throw Error("Could not find renamed property on target object.")}function g(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function y(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(y).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function b(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const v=m({__forward_ref__:m});function _(t){return t.__forward_ref__=_,t.toString=function(){return y(this())},t}function w(t){return E(t)?t():t}function E(t){return"function"==typeof t&&t.hasOwnProperty(v)&&t.__forward_ref__===_}function O(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function C(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function S(t){return T(t,x)||T(t,k)}function T(t,e){return t.hasOwnProperty(e)?t[e]:null}function I(t){return t&&(t.hasOwnProperty(A)||t.hasOwnProperty(j))?t[A]:null}const x=m({"\u0275prov":m}),A=m({"\u0275inj":m}),k=m({ngInjectableDef:m}),j=m({ngInjectorDef:m});var N=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});let D;function R(t){const e=D;return D=t,e}function P(t,e,n){const r=S(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&N.Optional)return null;if(void 0!==e)return e;throw new Error(`Injector: NOT_FOUND [${y(t)}]`)}function V(t){return{toString:t}.toString()}var L=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),M=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({});const F="undefined"!=typeof globalThis&&globalThis,U="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,H="undefined"!=typeof global&&global,z=F||H||U||q,B={},G=[],Q=m({"\u0275cmp":m}),$=m({"\u0275dir":m}),W=m({"\u0275pipe":m}),K=m({"\u0275mod":m}),Y=m({"\u0275loc":m}),Z=m({"\u0275fac":m}),X=m({__NG_ELEMENT_ID__:m});let J=0;function tt(t){return V(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===L.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||G,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||G,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=ot(t.inputs,e),n.outputs=ot(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(et):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(nt):null,n})}function et(t){return ct(t)||function(t){return t[$]||null}(t)}function nt(t){return function(t){return t[W]||null}(t)}const rt={};function it(t){const e={type:t.type,bootstrap:t.bootstrap||G,declarations:t.declarations||G,imports:t.imports||G,exports:t.exports||G,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&V(()=>{rt[t.id]=t.type}),e}function st(t,e){return V(()=>{const n=lt(t,!0);n.declarations=e.declarations||G,n.imports=e.imports||G,n.exports=e.exports||G})}function ot(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const at=tt;function ut(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ct(t){return t[Q]||null}function lt(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${y(t)} does not have '\u0275mod' property.`);return n}const ht=20,ft=10;function dt(t){return Array.isArray(t)&&"object"==typeof t[1]}function pt(t){return Array.isArray(t)&&!0===t[1]}function mt(t){return 0!=(8&t.flags)}function gt(t){return 2==(2&t.flags)}function yt(t){return 1==(1&t.flags)}function bt(t){return null!==t.template}function vt(t,e){return t.hasOwnProperty(Z)?t[Z]:null}class _t extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function wt(t){return"string"==typeof t?t:null==t?"":String(t)}function Et(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():wt(t)}function Ot(t,e){const n=e?` in ${e}`:"";throw new _t("201",`No provider for ${Et(t)} found${n}`)}class Ct{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function St(){return Tt}function Tt(t){return t.type.prototype.ngOnChanges&&(t.setInput=xt),It}function It(){const t=At(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function xt(t,e,n,r){const i=At(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new Ct(u&&u.currentValue,e,o===B),t[r]=e}function At(t){return t.__ngSimpleChanges__||null}St.ngInherit=!0;const kt="http://www.w3.org/2000/svg";let jt;function Nt(t){jt=t}function Dt(t){return!!t.listen}const Rt={createRenderer:(t,e)=>void 0!==jt?jt:"undefined"!=typeof document?document:void 0};function Pt(t){for(;Array.isArray(t);)t=t[0];return t}function Vt(t,e){return Pt(e[t])}function Lt(t,e){return Pt(e[t.index])}function Mt(t,e){return t.data[e]}function Ft(t,e){return t[e]}function Ut(t,e){const n=e[t];return dt(n)?n:n[0]}function qt(t){const e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ht(t){return 4==(4&t[2])}function zt(t){return 128==(128&t[2])}function Bt(t,e){return null==e?null:t[e]}function Gt(t){t[18]=0}function Qt(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const $t={lFrame:me(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Wt(){return $t.bindingsEnabled}function Kt(){return $t.lFrame.lView}function Yt(){return $t.lFrame.tView}function Zt(t){$t.lFrame.contextLView=t}function Xt(){let t=Jt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Jt(){return $t.lFrame.currentTNode}function te(t,e){const n=$t.lFrame;n.currentTNode=t,n.isParent=e}function ee(){return $t.lFrame.isParent}function ne(){$t.lFrame.isParent=!1}function re(){return $t.isInCheckNoChangesMode}function ie(t){$t.isInCheckNoChangesMode=t}function se(){const t=$t.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function oe(){return $t.lFrame.bindingIndex++}function ae(t,e){const n=$t.lFrame;n.bindingIndex=n.bindingRootIndex=t,ue(e)}function ue(t){$t.lFrame.currentDirectiveIndex=t}function ce(){return $t.lFrame.currentQueryIndex}function le(t){$t.lFrame.currentQueryIndex=t}function he(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function fe(t,e,n){if(n&N.SkipSelf){let r=e,i=t;for(;r=r.parent,!(null!==r||n&N.Host||(r=he(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;e=r,t=i}const r=$t.lFrame=pe();return r.currentTNode=e,r.lView=t,!0}function de(t){const e=pe(),n=t[1];$t.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pe(){const t=$t.lFrame,e=null===t?null:t.child;return null===e?me(t):e}function me(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function ge(){const t=$t.lFrame;return $t.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const ye=ge;function be(){const t=ge();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ve(){return $t.lFrame.selectedIndex}function _e(t){$t.lFrame.selectedIndex=t}function we(){const t=$t.lFrame;return Mt(t.tView,t.selectedIndex)}function Ee(){$t.lFrame.currentNamespace=kt}function Oe(){$t.lFrame.currentNamespace=null}function Ce(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function Se(t,e,n){xe(t,e,3,n)}function Te(t,e,n,r){(3&t[2])===n&&xe(t,e,n,r)}function Ie(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function xe(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Ae(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Ae(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,s.call(o)):s.call(o)}const ke=-1;class je{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Ne(t,e,n){const r=Dt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Re(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function De(t){return 3===t||4===t||6===t}function Re(t){return 64===t.charCodeAt(0)}function Pe(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||Ve(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function Ve(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function Le(t){return t!==ke}function Me(t){return 32767&t}function Fe(t,e){let n=t>>16,r=e;for(;n>0;)r=r[15],n--;return r}let Ue=!0;function qe(t){const e=Ue;return Ue=t,e}let He=0;function ze(t,e){const n=Ge(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Be(r.data,t),Be(e,null),Be(r.blueprint,null));const i=Qe(t,e),s=t.injectorIndex;if(Le(i)){const t=Me(i),n=Fe(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Be(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ge(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qe(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return ke;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return ke}function $e(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(X)&&(r=n[X]),null==r&&(r=n[X]=He++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function We(t,e,n){if(n&N.Optional)return t;Ot(e,"NodeInjector")}function Ke(t,e,n,r){if(n&N.Optional&&void 0===r&&(r=null),0==(n&(N.Self|N.Host))){const i=t[9],s=R(void 0);try{return i?i.get(e,r,n&N.Optional):P(e,r,n&N.Optional)}finally{R(s)}}return We(r,e,n)}function Ye(t,e,n,r=N.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(X)?t[X]:void 0;return"number"==typeof e?e>=0?255&e:Xe:e}(n);if("function"==typeof s){if(!fe(e,t,r))return r&N.Host?We(i,n,r):Ke(e,n,r,i);try{const t=s();if(null!=t||r&N.Optional)return t;Ot(n)}finally{ye()}}else if("number"==typeof s){let i=null,o=Ge(t,e),a=ke,u=r&N.Host?e[16][6]:null;for((-1===o||r&N.SkipSelf)&&(a=-1===o?Qe(t,e):e[o+8],a!==ke&&rn(r,!1)?(i=e[1],o=Me(a),e=Fe(a,e)):o=-1);-1!==o;){const t=e[1];if(nn(s,o,t.data)){const t=Je(o,e,n,i,r,u);if(t!==Ze)return t}a=e[o+8],a!==ke&&rn(r,e[1].data[o+8]===u)&&nn(s,o,e)?(i=t,o=Me(a),e=Fe(a,e)):o=-1}}}return Ke(e,n,r,i)}const Ze={};function Xe(){return new sn(Xt(),Kt())}function Je(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=tn(a,o,n,null==r?gt(a)&&Ue:r!=o&&0!=(3&a.type),i&N.Host&&s===a);return null!==u?en(e,o,u,a):Ze}function tn(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&bt(t)&&t.type===n)return u}return null}function en(t,e,n,r){let i=t[n];const s=e.data;if(i instanceof je){const o=i;o.resolving&&function(t,e){throw new _t("200",`Circular dependency in DI detected for ${t}`)}(Et(s[n]));const a=qe(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?R(o.injectImpl):null;fe(t,r,N.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=Tt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&R(u),qe(a),o.resolving=!1,ye()}}return i}function nn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function rn(t,e){return!(t&N.Self||t&N.Host&&e)}class sn{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return Ye(this._tNode,this._lView,t,void 0,e)}}function on(t){const e=t;if(E(t))return()=>{const t=on(w(e));return t?t():null};let n=vt(e);if(null===n){const t=I(e);n=t&&t.factory}return n||null}function an(t){return V(()=>{const e=t.prototype.constructor,n=e[Z]||on(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Z]||on(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function un(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(De(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(Xt(),t)}const cn="__parameters__";function ln(t,e,n){return V(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(cn)?t[cn]:Object.defineProperty(t,cn,{value:[]})[cn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class hn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=O({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const fn=new hn("AnalyzeForEntryComponents"),dn=Function;function pn(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),pn(r,e)):e!==t&&e.push(r)}return e}function mn(t,e){t.forEach(t=>Array.isArray(t)?mn(t,e):e(t))}function gn(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bn(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function vn(t,e,n){let r=wn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function _n(t,e){const n=wn(t,e);if(n>=0)return t[1|n]}function wn(t,e){return function(t,e,n){let r=0,i=t.length>>1;for(;i!==r;){const n=r+(i-r>>1),s=t[n<<1];if(e===s)return n<<1;s>e?i=n:r=n+1}return~(i<<1)}(t,e)}const En={},On=/\n/gm,Cn="__source",Sn=m({provide:String,useValue:m});let Tn;function In(t){const e=Tn;return Tn=t,e}function xn(t,e=N.Default){if(void 0===Tn)throw new Error("inject() must be called from an injection context");return null===Tn?P(t,void 0,e):Tn.get(t,e&N.Optional?null:void 0,e)}function An(t,e=N.Default){return(D||xn)(w(t),e)}const kn=An;function jn(t){const e=[];for(let n=0;n<t.length;n++){const r=w(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=N.Default;for(let e=0;e<r.length;e++){const i=r[e],s=i.__NG_DI_FLAG__;"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(An(t,n))}else e.push(An(r))}return e}function Nn(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}const Dn=Nn(ln("Inject",t=>({token:t})),-1),Rn=Nn(ln("Optional"),8),Pn=Nn(ln("SkipSelf"),4);let Vn;function Ln(t){var e;return(null===(e=function(){if(void 0===Vn&&(Vn=null,z.trustedTypes))try{Vn=z.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(e){}return Vn}())||void 0===e?void 0:e.createHTML(t))||t}class Mn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Fn extends Mn{getTypeName(){return"HTML"}}class Un extends Mn{getTypeName(){return"Style"}}class qn extends Mn{getTypeName(){return"Script"}}class Hn extends Mn{getTypeName(){return"URL"}}class zn extends Mn{getTypeName(){return"ResourceURL"}}function Bn(t){return t instanceof Mn?t.changingThisBreaksApplicationSecurity:t}function Gn(t,e){const n=Qn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function Qn(t){return t instanceof Mn&&t.getTypeName()||null}function $n(t){return new Fn(t)}function Wn(t){return new Un(t)}function Kn(t){return new qn(t)}function Yn(t){return new Hn(t)}function Zn(t){return new zn(t)}class Xn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Ln(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Jn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Ln(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Ln(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const tr=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,er=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function nr(t){return(t=String(t)).match(tr)||t.match(er)?t:"unsafe:"+t}function rr(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function ir(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const sr=rr("area,br,col,hr,img,wbr"),or=rr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),ar=rr("rp,rt"),ur=ir(ar,or),cr=ir(sr,ir(or,rr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ir(ar,rr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),ur),lr=rr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),hr=rr("srcset"),fr=ir(lr,hr,rr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),rr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),dr=rr("script,style,template");class pr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!cr.hasOwnProperty(e))return this.sanitizedSomething=!0,!dr.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!fr.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;lr[s]&&(o=nr(o)),hr[s]&&(r=o,o=(r=String(r)).split(",").map(t=>nr(t.trim())).join(", ")),this.buf.push(" ",e,'="',yr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();cr.hasOwnProperty(e)&&!sr.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(yr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const mr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,gr=/([^\#-~ |!])/g;function yr(t){return t.replace(/&/g,"&amp;").replace(mr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(gr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let br;function vr(t,e){let n=null;try{br=br||function(t){const e=new Jn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Ln(""),"text/html")}catch(t){return!1}}()?new Xn(e):e}(t);let r=e?String(e):"";n=br.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=br.getInertBodyElement(r)}while(r!==s);return Ln((new pr).sanitizeChildren(_r(n)||n))}finally{if(n){const t=_r(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function _r(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var wr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function Er(t){const e=function(){const t=Kt();return t&&t[12]}();return e?e.sanitize(wr.URL,t)||"":Gn(t,"URL")?Bn(t):nr(wt(t))}function Or(t){return t.ngDebugContext}function Cr(t){return t.ngOriginalError}function Sr(t,...e){t.error(...e)}class Tr{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||Sr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?Or(t)?Or(t):this._findContext(Cr(t)):null}_findOriginalError(t){let e=Cr(t);for(;e&&Cr(e);)e=Cr(e);return e}}function Ir(t,e){t.__ngContext__=e}const xr=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(z))();function Ar(t){return t instanceof Function?t():t}var kr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function jr(t,e){return(void 0)(t,e)}function Nr(t){const e=t[3];return pt(e)?e[3]:e}function Dr(t){return Pr(t[13])}function Rr(t){return Pr(t[4])}function Pr(t){for(;null!==t&&!pt(t);)t=t[4];return t}function Vr(t,e,n,r,i){if(null!=r){let s,o=!1;pt(r)?s=r:dt(r)&&(o=!0,r=r[0]);const a=Pt(r);0===t&&null!==n?null==i?Br(e,n,a):zr(e,n,a,i||null,!0):1===t&&null!==n?zr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=Qr(t,e);r&&function(t,e,n,r){Dt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Pt(n)&&Vr(e,t,r,s,i);for(let o=ft;o<n.length;o++){const i=n[o];Jr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Lr(t,e,n){return Dt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Mr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Qt(i,-1)),n.splice(r,1)}function Fr(t,e){if(t.length<=ft)return;const n=ft+e,r=t[n];if(r){const s=r[17];null!==s&&s!==t&&Mr(s,r),e>0&&(t[n-1][4]=r[4]);const o=yn(t,ft+e);Jr(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Ur(t,e){if(!(256&e[2])){const n=e[11];Dt(n)&&n.destroyNode&&Jr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return qr(t[1],t);for(;e;){let n=null;if(dt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)dt(e)&&qr(e[1],e),e=e[3];null===e&&(e=t),dt(e)&&qr(e[1],e),n=e&&e[4]}e=n}}(e)}}function qr(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof je)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2)e[n+1].call(t[e[n]]);else e.call(t)}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Pt(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)(0,r[t])();e[7]=null}}(t,e),1===e[1].type&&Dt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&pt(e[3])){n!==e[3]&&Mr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function Hr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Lt(r,n)}(t,e.parent,n)}function zr(t,e,n,r,i){Dt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function Br(t,e,n){Dt(t)?t.appendChild(e,n):e.appendChild(n)}function Gr(t,e,n,r,i){null!==r?zr(t,e,n,r,i):Br(t,e,n)}function Qr(t,e){return Dt(t)?t.parentNode(e):e.parentNode}function $r(t,e,n){return Wr(t,e,n)}let Wr=function(t,e,n){return 40&t.type?Lt(t,n):null};function Kr(t,e,n,r){const i=Hr(t,r,e),s=e[11],o=$r(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Gr(s,i,n[a],o,!1);else Gr(s,i,n,o,!1)}function Yr(t,e){if(null!==e){const n=e.type;if(3&n)return Lt(e,t);if(4&n)return Zr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Yr(t,n);{const n=t[e.index];return pt(n)?Zr(-1,n):Pt(n)}}if(32&n)return jr(e,t)()||Pt(t[e.index]);{const n=t[16],r=n[6],i=Nr(n),s=r.projection[e.projection];return null!=s?Yr(i,s):Yr(t,e.next)}}return null}function Zr(t,e){const n=ft+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Yr(t,r)}return e[7]}function Xr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&Ir(Pt(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Xr(t,e,n.child,r,i,s,!1),Vr(e,t,i,a,s);else if(32&u){const o=jr(n,r);let u;for(;u=o();)Vr(e,t,i,u,s);Vr(e,t,i,a,s)}else 16&u?ti(t,e,r,n,i,s):Vr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Jr(t,e,n,r,i,s){Xr(n,r,t.firstChild,e,i,s,!1)}function ti(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Vr(e,t,i,a[u],s);else Xr(t,e,a,o[3],i,s,!0)}function ei(t,e,n){Dt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ni(t,e,n){Dt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ri(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ii="ng-template";function si(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ri(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function oi(t){return 4===t.type&&t.value!==ii}function ai(t,e,n){return e===(4!==t.type||n?t.value:ii)}function ui(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(De(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!ai(t,u,n)||""===u&&1===e.length){if(ci(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!si(t.attrs,c,n)){if(ci(r))return!1;o=!0}continue}const l=li(8&r?"class":u,i,oi(t),n);if(-1===l){if(ci(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ri(e,c,0)||2&r&&c!==t){if(ci(r))return!1;o=!0}}}}else{if(!o&&!ci(r)&&!ci(u))return!1;if(o&&ci(u))continue;o=!1,r=u|1&r}}return ci(r)||o}function ci(t){return 0==(1&t)}function li(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function hi(t,e,n=!1){for(let r=0;r<e.length;r++)if(ui(t,e[r],n))return!0;return!1}function fi(t,e){t:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let e=0;e<t.length;e++)if(t[e]!==r[e])continue t;return!0}}return!1}function di(t,e){return t?":not("+e.trim()+")":e}function pi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""===i||ci(o)||(e+=di(s,i),i=""),r=o,s=s||!ci(r);n++}return""!==i&&(e+=di(s,i)),e}const mi={};function gi(t){yi(Yt(),Kt(),ve()+t,re())}function yi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&Se(e,r,n)}else{const r=t.preOrderHooks;null!==r&&Te(e,r,0,n)}_e(n)}function bi(t,e){return t<<17|e<<2}function vi(t){return t>>17&32767}function _i(t){return 2|t}function wi(t){return(131068&t)>>2}function Ei(t,e){return-131069&t|e<<2}function Oi(t){return 1|t}function Ci(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];le(i),n.contentQueries(2,e[s],s)}}}function Si(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Gt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ti(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Jt(),o=ee(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),$t.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=$t.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return te(s,!0),s}function Ii(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function xi(t,e,n){de(e);try{const r=t.viewQuery;null!==r&&is(1,r,n);const i=t.template;null!==i&&ji(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Ci(t,e),t.staticViewQueries&&is(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Ji(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),r}finally{e[2]&=-5,be()}}function Ai(t,e,n,r){const i=e[2];if(256==(256&i))return;de(e);const s=re();try{Gt(e),$t.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ji(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&Se(e,n,null)}else{const n=t.preOrderHooks;null!==n&&Te(e,n,0,null),Ie(e,0)}if(function(t){for(let e=Dr(t);null!==e;e=Rr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Qt(r,1),n[2]|=1024}}}(e),function(t){for(let e=Dr(t);null!==e;e=Rr(e))for(let t=ft;t<e.length;t++){const n=e[t],r=n[1];zt(n)&&Ai(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&Ci(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&Se(e,n)}else{const n=t.contentHooks;null!==n&&Te(e,n,1),Ie(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)_e(~r);else{const i=r,s=n[++t],o=n[++t];ae(s,i),o(2,e[i])}}}finally{_e(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Zi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&is(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&Se(e,n)}else{const n=t.viewHooks;null!==n&&Te(e,n,2),Ie(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Qt(e[3],-1))}finally{be()}}function ki(t,e,n,r){const i=e[10],s=!re(),o=Ht(e);try{s&&!o&&i.begin&&i.begin(),o&&xi(t,e,r),Ai(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ji(t,e,n,r,i){const s=ve();try{_e(-1),2&r&&e.length>ht&&yi(t,e,ht,re()),n(r,i)}finally{_e(s)}}function Ni(t,e,n){if(mt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Di(t,e,n){Wt()&&(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||ze(n,e),Ir(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=bt(r);s&&$i(e,n,r);const u=en(e,t,a,n);Ir(u,e),null!==o&&Wi(0,a-i,u,r,0,o),s&&(Ut(n.index,e)[8]=u)}}(t,e,n,Lt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=$t.lFrame.currentDirectiveIndex;try{_e(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ue(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||Hi(r,i)}}finally{_e(-1),ue(o)}}(t,e,n))}function Ri(t,e,n=Lt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Pi(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Vi(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Vi(t,e,n,r,i,s,o,a,u,c){const l=ht+r,h=l+i,f=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:mi);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Li(t,e,n,r){const i=os(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&as(t).push(r,i.length-1))}function Mi(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Fi(t,e,n,r,i,s,o,a){const u=Lt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(cs(t,n,c,r,i),gt(e)&&function(t,e){const n=Ut(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,Dt(s)?s.setProperty(u,r,i):Re(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Ui(t,e,n,r){let i=!1;if(Wt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];hi(n,o.selectors,!1)&&(i||(i=[]),$e(ze(n,e),t,o.type),bt(o)?(zi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,Gi(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Ii(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Pe(n.mergedAttrs,c.hostAttrs),Qi(t,n,e,u,c),Bi(u,c,o),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),a||!l.ngOnChanges&&!l.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||oi(e)?null:Ki(n,i);s.push(c),o=Mi(n,u,o),a=Mi(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new _t("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Pe(n.mergedAttrs,n.attrs),i}function qi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Hi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function zi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Bi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;bt(e)&&(n[""]=t)}}function Gi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Qi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=vt(i.type)),o=new je(s,bt(i),null);t.blueprint[r]=o,n[r]=o,qi(t,e,0,r,Ii(t,n,i.hostVars,mi),i)}function $i(t,e,n){const r=Lt(e,t),i=Pi(n),s=t[10],o=ts(t,Si(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function Wi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Ki(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Yi(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Zi(t,e){const n=Ut(e,t);if(zt(n)){const t=n[1];80&n[2]?Ai(t,n,t.template,n[8]):n[5]>0&&Xi(n)}}function Xi(t){for(let n=Dr(t);null!==n;n=Rr(n))for(let t=ft;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ai(t,e,t.template,e[8])}else e[5]>0&&Xi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Ut(e[n],t);zt(r)&&r[5]>0&&Xi(r)}}function Ji(t,e){const n=Ut(e,t),r=n[1];!function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),xi(r,n,n[8])}function ts(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function es(t){for(;t;){t[2]|=64;const e=Nr(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function ns(t,e,n){const r=e[10];r.begin&&r.begin();try{Ai(t,e,t.template,n)}catch(i){throw us(e,i),i}finally{r.end&&r.end()}}function rs(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=qt(n),i=r[1];ki(i,r,i.template,n)}}(t[8])}function is(t,e,n){le(0),e(t,n)}const ss=(()=>Promise.resolve(null))();function os(t){return t[7]||(t[7]=[])}function as(t){return t.cleanup||(t.cleanup=[])}function us(t,e){const n=t[9],r=n?n.get(Tr,null):null;r&&r.handleError(e)}function cs(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function ls(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=b(i,t):2==s&&(r=b(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const hs=new hn("INJECTOR",-1);class fs{get(t,e=En){if(e===En){const e=new Error(`NullInjectorError: No provider for ${y(t)}!`);throw e.name="NullInjectorError",e}return e}}const ds=new hn("Set Injector scope."),ps={},ms={},gs=[];let ys;function bs(){return void 0===ys&&(ys=new fs),ys}function vs(t,e=null,n=null,r){return new _s(t,n,e||bs(),r)}class _s{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&mn(e,n=>this.processProvider(n,t,e)),mn([t],t=>this.processInjectorType(t,[],i)),this.records.set(hs,Os(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:y(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=En,n=N.Default){this.assertNotDestroyed();const r=In(this);try{if(!(n&N.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(i=t)||"object"==typeof i&&i instanceof hn)&&S(t);e=n&&this.injectableDefInScope(n)?Os(ws(t),ps):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&N.Self?bs():this.parent).get(t,e=n&N.Optional&&e===En?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(y(t)),r)throw s;return function(t,e,n,r){const i=t.ngTempTokenPath;throw e[Cn]&&i.unshift(e[Cn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=y(e);if(Array.isArray(e))i=e.map(y).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):y(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(On,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{In(r)}var i}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(y(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=w(t)))return!1;let r=I(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=I(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{mn(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];mn(r,t=>this.processProvider(t,n,r||gs))}}this.injectorDefTypes.add(s),this.records.set(s,Os(r.factory,ps));const a=r.providers;if(null!=a&&!o){const e=t;mn(a,t=>this.processProvider(t,e,a))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Ss(t=w(t))?t:w(t&&t.provide);const i=function(t,e,n){return Cs(t)?Os(void 0,t.useValue):Os(Es(t),ps)}(t);if(Ss(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=Os(void 0,ps,!0),e.factory=()=>jn(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){var n;return e.value===ps&&(e.value=ms,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}injectableDefInScope(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}function ws(t){const e=S(t),n=null!==e?e.factory:vt(t);if(null!==n)return n;const r=I(t);if(null!==r)return r.factory;if(t instanceof hn)throw new Error(`Token ${y(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=bn(e,"?");throw new Error(`Can't resolve all parameters for ${y(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[x]||t[k]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function Es(t,e,n){let r;if(Ss(t)){const e=w(t);return vt(e)||ws(e)}if(Cs(t))r=()=>w(t.useValue);else if((i=t)&&i.useFactory)r=()=>t.useFactory(...jn(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>An(w(t.useExisting));else{const e=w(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return vt(e)||ws(e);r=()=>new e(...jn(t.deps))}var i;return r}function Os(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Cs(t){return null!==t&&"object"==typeof t&&Sn in t}function Ss(t){return"function"==typeof t}const Ts=function(t,e,n){return function(t,e=null,n=null,r){const i=vs(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Is=(()=>{class t{static create(t,e){return Array.isArray(t)?Ts(t,e,""):Ts(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=En,t.NULL=new fs,t.\u0275prov=O({token:t,providedIn:"any",factory:()=>An(hs)}),t.__NG_ELEMENT_ID__=-1,t})();function xs(t,e){Ce(qt(t)[1],Xt())}function As(t){let e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0;const r=[t];for(;e;){let i;if(bt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ks(t.inputs),e.declaredInputs=ks(t.declaredInputs),e.outputs=ks(t.outputs);const n=i.hostBindings;n&&Ds(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&js(t,s),o&&Ns(t,o),g(t.inputs,i.inputs),g(t.declaredInputs,i.declaredInputs),g(t.outputs,i.outputs),bt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===As&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Pe(i.hostAttrs,n=Pe(n,i.hostAttrs))}}(r)}function ks(t){return t===B?{}:t===G?[]:t}function js(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Ns(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ds(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Rs=null;function Ps(){if(!Rs){const t=z.Symbol;if(t&&t.iterator)Rs=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Rs=n)}}}return Rs}class Vs{constructor(t){this.wrapped=t}static wrap(t){return new Vs(t)}static unwrap(t){return Vs.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Vs}}function Ls(t){return!!Ms(t)&&(Array.isArray(t)||!(t instanceof Map)&&Ps()in t)}function Ms(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Fs(t,e,n){return t[e]=n}function Us(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qs(t,e,n,r){const i=Kt();return Us(i,oe(),e)&&(Yt(),function(t,e,n,r,i,s){const o=Lt(t,e);!function(t,e,n,r,i,s,o){if(null==s)Dt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?wt(s):o(s,r||"",i);Dt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}(we(),i,t,e,n,r)),qs}function Hs(t,e,n,r,i,s,o,a){const u=Kt(),c=Yt(),l=t+ht,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ti(e,t,4,o||null,Bt(c,a));Ui(e,n,l,Bt(c,u)),Ce(e,l);const h=l.tViews=Vi(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];te(h,!1);const f=u[11].createComment("");Kr(c,u,f,h),Ir(f,u),ts(u,u[l]=Yi(f,u,f,h)),yt(h)&&Di(c,u,h),null!=o&&Ri(u,h,a)}function zs(t){return Ft($t.lFrame.contextLView,ht+t)}function Bs(t,e=N.Default){const n=Kt();return null===n?An(t,e):Ye(Xt(),n,w(t),e)}function Gs(t,e,n){const r=Kt();return Us(r,oe(),e)&&Fi(Yt(),we(),r,t,e,r[11],n,!1),Gs}function Qs(t,e,n,r,i){const s=i?"class":"style";cs(t,n,e.inputs[s],s,r)}function $s(t,e,n,r){const i=Kt(),s=Yt(),o=ht+t,a=i[11],u=i[o]=Lr(a,e,$t.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ti(e,t,2,i,Bt(a,s));return Ui(e,n,u,Bt(a,o)),null!==u.attrs&&ls(u,u.attrs,!1),null!==u.mergedAttrs&&ls(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];te(c,!0);const l=c.mergedAttrs;null!==l&&Ne(a,u,l);const h=c.classes;null!==h&&ni(a,u,h);const f=c.styles;null!==f&&ei(a,u,f),64!=(64&c.flags)&&Kr(s,i,u,c),0===$t.lFrame.elementDepthCount&&Ir(u,i),$t.lFrame.elementDepthCount++,yt(c)&&(Di(s,i,c),Ni(s,c,i)),null!==r&&Ri(i,c)}function Ws(){let t=Xt();ee()?ne():(t=t.parent,te(t,!1));const e=t;$t.lFrame.elementDepthCount--;const n=Yt();n.firstCreatePass&&(Ce(n,t),mt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Qs(n,e,Kt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Qs(n,e,Kt(),e.stylesWithoutHost,!1)}function Ks(t,e,n,r){$s(t,e,n,r),Ws()}function Ys(t,e,n){const r=Kt(),i=Yt(),s=t+ht,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Bt(s,r),a=Ti(e,t,8,"ng-container",o);return null!==o&&ls(a,o,!0),Ui(e,n,a,Bt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];te(o,!0);const a=r[s]=r[11].createComment("");Kr(i,r,a,o),Ir(a,r),yt(o)&&(Di(i,r,o),Ni(i,o,r)),null!=n&&Ri(r,o)}function Zs(){let t=Xt();const e=Yt();ee()?ne():(t=t.parent,te(t,!1)),e.firstCreatePass&&(Ce(e,t),mt(t)&&e.queries.elementEnd(t))}function Xs(){return Kt()}function Js(t){return!!t&&"function"==typeof t.then}function to(t){return!!t&&"function"==typeof t.subscribe}const eo=to;function no(t,e,n=!1,r){const i=Kt(),s=Yt(),o=Xt();return function(t,e,n,r,i,s,o=!1,a){const u=yt(r),c=t.firstCreatePass&&as(t),l=os(e);let h=!0;if(3&r.type){const f=Lt(r,e),d=a?a(f):B,p=d.target||f,m=l.length,g=a?t=>a(Pt(t[r.index])).target:r.index;if(Dt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,h=!1;else{s=io(r,e,s,!1);const t=n.listen(d.name||p,i,s);l.push(s,t),c&&c.push(i,g,m,m+1)}}else s=io(r,e,s,!0),p.addEventListener(i,s,o),l.push(s),c&&c.push(i,g,m,o)}else s=io(r,e,s,!1);const f=r.outputs;let d;if(h&&null!==f&&(d=f[i])){const t=d.length;if(t)for(let n=0;n<t;n+=2){const t=e[d[n]][d[n+1]].subscribe(s),o=l.length;l.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,n,r),no}function ro(t,e,n){try{return!1!==e(n)}catch(r){return us(t,r),!1}}function io(t,e,n,r){return function i(s){if(s===Function)return n;const o=2&t.flags?Ut(t.index,e):e;0==(32&e[2])&&es(o);let a=ro(e,n,s),u=i.__ngNextListenerFn__;for(;u;)a=ro(e,u,s)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function so(t=1){return function(t){return($t.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,$t.lFrame.contextLView))[8]}(t)}function oo(t,e){let n=null;const r=function(t){const e=t.attrs;if(null!=e){const t=e.indexOf(5);if(0==(1&t))return e[t+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?hi(t,s,!0):fi(r,s))return i}else n=i}return n}function ao(t){const e=Kt()[16][6];if(!e.projection){const n=e.projection=bn(t?t.length:1,null),r=n.slice();let i=e.child;for(;null!==i;){const e=t?oo(i,t):0;null!==e&&(r[e]?r[e].projectionNext=i:n[e]=i,r[e]=i),i=i.next}}}function uo(t,e=0,n){const r=Kt(),i=Yt(),s=Ti(i,ht+t,16,null,n||null);null===s.projection&&(s.projection=e),ne(),64!=(64&s.flags)&&function(t,e,n){ti(e[11],0,e,n,Hr(t,n,e),$r(n.parent||e[6],n,e))}(i,r,s)}const co=[];function lo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?vi(s):wi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];ho(t[a],e)&&(u=!0,t[a+1]=r?Oi(n):_i(n)),a=r?vi(n):wi(n)}u&&(t[n+1]=r?_i(s):Oi(s))}function ho(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&wn(t,e)>=0}function fo(t,e){return function(t,e,n,r){const i=Kt(),s=Yt(),o=function(t){const e=$t.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+2,n}();s.firstUpdatePass&&function(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ve()],o=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(16&t.flags)})(s)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=function(t){const e=$t.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=e.residualClasses;if(null===i)0===e.classBindings&&(n=mo(n=po(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=po(i,t,e,n,r),null===s){let n=function(t,e,n){const r=e.classBindings;if(0!==wi(r))return t[vi(r)]}(t,e);void 0!==n&&Array.isArray(n)&&(n=po(null,t,e,n[1],r),n=mo(n,e.attrs,r),function(t,e,n,r){t[vi(e.classBindings)]=r}(t,e,0,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=mo(r,t[s].hostAttrs,true);return mo(r,e.attrs,true)}(t,e)}return void 0!==s&&(e.residualClasses=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=e.classBindings,a=vi(o),u=wi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||wn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=vi(t[a+1]);t[r+1]=bi(e,a),0!==e&&(t[e+1]=Ei(t[e+1],r)),t[a+1]=131071&t[a+1]|r<<17}else t[r+1]=bi(a,0),0!==a&&(t[a+1]=Ei(t[a+1],r)),a=r;else t[r+1]=bi(u,0),0===a?a=r:t[u+1]=Ei(t[u+1],r),u=r;l&&(t[r+1]=_i(t[r+1])),lo(t,c,r,!0),lo(t,c,r,!1),function(t,e,n,r,i){const s=t.residualClasses;null!=s&&"string"==typeof e&&wn(s,e)>=0&&(n[r+1]=Oi(n[r+1]))}(e,c,t,r),o=bi(a,u),e.classBindings=o}(i,s,e,n,o)}}(s,t,o,true),e!==mi&&Us(i,o,e)&&function(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];yo(1==(1&c)?go(u,e,n,i,wi(c),o):void 0)||(yo(s)||function(t){return 2==(2&t)}(c)&&(s=go(u,null,n,i,a,o)),function(t,e,n,r,i){const s=Dt(t);i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r)}(r,0,Vt(ve(),n),i,s))}(s,s.data[ve()],i,i[11],t,i[o+1]=function(t,e){return null==t||"object"==typeof t&&(t=y(Bn(t))),t}(e),true,o)}(t,e),fo}function po(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=mo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function mo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vn(t,o,!!n||e[++s]))}return void 0===t?null:t}function go(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===mi&&(l=c?co:void 0);let h=c?_n(l,r):u===r?l:void 0;if(s&&!yo(h)&&(h=_n(e,r)),yo(h)&&(a=h,o))return a;const f=t[i+1];i=o?vi(f):wi(f)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=_n(t,r))}return a}function yo(t){return void 0!==t}function bo(t,e=""){const n=Kt(),r=Yt(),i=t+ht,s=r.firstCreatePass?Ti(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return Dt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Kr(r,n,o,s),te(s,!1)}function vo(t){return _o("",t,""),vo}function _o(t,e,n){const r=Kt(),i=function(t,e,n,r){return Us(t,oe(),n)?e+wt(n)+r:mi}(r,t,e,n);return i!==mi&&function(t,e,n){const r=Vt(e,t);!function(t,e,n){Dt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}(r,ve(),i),_o}function wo(t,e,n){const r=Kt();return Us(r,oe(),e)&&Fi(Yt(),we(),r,t,e,r[11],n,!0),wo}const Eo=void 0;var Oo=["en",[["a","p"],["AM","PM"],Eo],[["AM","PM"],Eo,Eo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Eo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Eo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Eo,"{1} 'at' {0}",Eo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){let e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Co={};function So(t,e,n){"string"!=typeof e&&(n=e,e=t[ko.LocaleId]),e=e.toLowerCase().replace(/_/g,"-"),Co[e]=t,n&&(Co[e][ko.ExtraData]=n)}function To(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Ao(e);if(n)return n;const r=e.split("-")[0];if(n=Ao(r),n)return n;if("en"===r)return Oo;throw new Error(`Missing locale data for the locale "${t}".`)}function Io(t){return To(t)[ko.CurrencyCode]||null}function xo(t){return To(t)[ko.PluralCase]}function Ao(t){return t in Co||(Co[t]=z.ng&&z.ng.common&&z.ng.common.locales&&z.ng.common.locales[t]),Co[t]}var ko=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});const jo="en-US";let No=jo;function Do(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t} [Expected=> null != ${e} <=Actual]`)}(n,e),"string"==typeof t&&(No=t.toLowerCase().replace(/_/g,"-"))}function Ro(t,e,n,r,i){if(t=w(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ro(t[s],e,n,r,i);else{const s=Yt(),o=Kt();let a=Ss(t)?t:w(t.provide),u=Es(t);const c=Xt(),l=1048575&c.providerIndexes,h=c.directiveStart,f=c.providerIndexes>>20;if(Ss(t)||!t.multi){const r=new je(u,i,Bs),d=Lo(a,e,i?l:l+f,h);-1===d?($e(ze(c,o),s,a),Po(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[d]=r,o[d]=r)}else{const d=Lo(a,e,l+f,h),p=Lo(a,e,l,l+f),m=d>=0&&n[d],g=p>=0&&n[p];if(i&&!g||!i&&!m){$e(ze(c,o),s,a);const l=function(t,e,n,r,i){const s=new je(t,n,Bs);return s.multi=[],s.index=e,s.componentProviders=0,Vo(s,i,r&&!n),s}(i?Fo:Mo,n.length,i,r,u);!i&&g&&(n[p].providerFactory=l),Po(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Po(s,t,d>-1?d:p,Vo(n[i?p:d],u,!i&&r));!i&&r&&g&&n[p].componentProviders++}}}function Po(t,e,n,r){const i=Ss(e);if(i||e.useClass){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Vo(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Lo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Mo(t,e,n,r){return Uo(this.multi,[])}function Fo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=en(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Uo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Uo(i,s);return s}function Uo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function qo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Yt();if(r.firstCreatePass){const i=bt(t);Ro(n,r.data,r.blueprint,i,!0),Ro(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class Ho{}class zo{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${y(t)}. Did you add it to @NgModule.entryComponents?`);return e.ngComponent=t,e}(t)}}let Bo=(()=>{class t{}return t.NULL=new zo,t})();function Go(...t){}function Qo(t,e){return new Wo(Lt(t,e))}const $o=function(){return Qo(Xt(),Kt())};let Wo=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=$o,t})();function Ko(t){return t instanceof Wo?t.nativeElement:t}class Yo{}let Zo=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>Xo(),t})();const Xo=function(){const t=Kt(),e=Ut(Xt().index,t);return function(t){return t[11]}(dt(e)?e:t)};let Jo=(()=>{class t{}return t.\u0275prov=O({token:t,providedIn:"root",factory:()=>null}),t})();class ta{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const ea=new ta("11.1.2");class na{constructor(){}supports(t){return Ls(t)}create(t){return new ia(t)}}const ra=(t,e)=>e;class ia{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ra}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<ua(n,r,i)?e:n,o=ua(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ls(t))throw new Error(`Error trying to diff '${y(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Ps()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new sa(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new aa),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new aa),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class sa{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class oa{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class aa{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new oa,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ua(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class ca{constructor(){}supports(t){return t instanceof Map||Ms(t)}create(){return new la}}class la{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Ms(t)))throw new Error(`Error trying to diff '${y(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new ha(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class ha{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fa(){return new da([new na])}let da=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||fa()),deps:[[t,new Pn,new Rn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${n=t,n.name||typeof n}'`);var n}}return t.\u0275prov=O({token:t,providedIn:"root",factory:fa}),t})();function pa(){return new ma([new ca])}let ma=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||pa()),deps:[[t,new Pn,new Rn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=O({token:t,providedIn:"root",factory:pa}),t})();function ga(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Pt(s)),pt(s))for(let t=ft;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&ga(e[1],e,n,r)}const o=n.type;if(8&o)ga(t,e,n.child,r);else if(32&o){const t=jr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=e[16],i=t[6].projection[n.projection];if(Array.isArray(i))r.push(...i);else{const e=Nr(t);ga(e[1],e,i,r,!0)}}n=i?n.projectionNext:n.next}return r}class ya{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return ga(e,t,e.firstChild,[])}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(pt(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Fr(t,n),yn(e,n))}this._attachedToViewContainer=!1}Ur(this._lView[1],this._lView)}onDestroy(t){Li(this._lView[1],this._lView,null,t)}markForCheck(){es(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ns(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){ie(!0);try{ns(t,e,n)}finally{ie(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Jr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class ba extends ya{constructor(t){super(t),this._view=t}detectChanges(){rs(this._view)}checkNoChanges(){!function(t){ie(!0);try{rs(t)}finally{ie(!1)}}(this._view)}get context(){return null}}const va=wa;let _a=(()=>{class t{}return t.__NG_ELEMENT_ID__=va,t.__ChangeDetectorRef__=!0,t})();function wa(t=!1){return function(t,e,n){if(!n&&gt(t)){const n=Ut(t.index,e);return new ya(n,n)}return 47&t.type?new ya(e[16],e):null}(Xt(),Kt(),t)}const Ea=[new ca],Oa=new da([new na]),Ca=new ma(Ea),Sa=function(){return Aa(Xt(),Kt())};let Ta=(()=>{class t{}return t.__NG_ELEMENT_ID__=Sa,t})();const Ia=Ta,xa=class extends Ia{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Si(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),xi(e,n,t),new ya(n)}};function Aa(t,e){return 4&t.type?new xa(e,t,Qo(t,e)):null}class ka{}class ja{}const Na=function(){return Ma(Xt(),Kt())};let Da=(()=>{class t{}return t.__NG_ELEMENT_ID__=Na,t})();const Ra=Da,Pa=class extends Ra{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return Qo(this._hostTNode,this._hostLView)}get injector(){return new sn(this._hostTNode,this._hostLView)}get parentInjector(){const t=Qe(this._hostTNode,this._hostLView);if(Le(t)){const e=Fe(t,this._hostLView),n=Me(t);return new sn(e[1].data[n+8],e)}return new sn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Va(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-ft}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ka,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(pt(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Pa(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=ft+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-ft?(e[4]=n[i],gn(n,ft+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Zr(i,s),a=n[11],u=Qr(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Jr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),gn(La(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Va(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Fr(this._lContainer,e);n&&(yn(La(this._lContainer),e),Ur(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Fr(this._lContainer,e);return n&&null!=yn(La(this._lContainer),e)?new ya(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Va(t){return t[8]}function La(t){return t[8]||(t[8]=[])}function Ma(t,e){let n;const r=e[t.index];if(pt(r))n=r;else{let i;if(8&t.type)i=Pt(r);else{const n=e[11];i=n.createComment("");const r=Lt(t,e);zr(n,Qr(n,r),i,function(t,e){return Dt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Yi(r,e,i,t),ts(e,n)}return new Pa(n,t,e)}const Fa={};class Ua extends Bo{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ct(t);return new za(e,this.ngModule)}}function qa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const Ha=new hn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>xr});class za extends Ho{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(pi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return qa(this.componentDef.inputs)}get outputs(){return qa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Fa,i);return s!==Fa||r===Fa?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(Yo,Rt),o=i.get(Jo,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(Dt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Lr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?kt:"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h={components:[],scheduler:xr,clean:ss,playerHandler:null,flags:0},f=Vi(0,null,null,1,0,null,null,null,null,null),d=Si(null,f,h,l,null,null,s,a,o,i);let p,m;de(d);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ti(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(ls(a,u,!0),null!==t&&(Ne(i,t,u),null!==a.classes&&ni(i,t,a.classes),null!==a.styles&&ei(i,t,a.styles)));const c=r.createRenderer(t,e),l=Si(n,Pi(e),null,e.onPush?64:16,n[20],a,r,c,null,null);return o.firstCreatePass&&($e(ze(a,n),o,e.type),zi(o,a),Gi(a,n.length,1)),ts(n,l),n[20]=l}(c,this.componentDef,d,s,a);if(c)if(n)Ne(a,c,["ng-version",ea.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ci(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Ne(a,c,t),e&&e.length>0&&ni(a,c,e.join(" "))}if(m=Mt(f,ht),void 0!==e){const t=m.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=Xt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Qi(t,r,e,Ii(t,e,1,null),n));const i=en(e,t,r.directiveStart,r);Ir(i,e);const s=Lt(r,e);return s&&Ir(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=Xt();e.contentQueries(1,o,t.directiveStart)}const a=Xt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(_e(a.index),qi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Hi(e,o)),o}(t,this.componentDef,d,h,[xs]),xi(f,d,null)}finally{be()}return new Ba(this.componentType,p,Qo(m,d),d,m)}}class Ba extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new ba(r),this.componentType=t}get injector(){return new sn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const Ga=new Map;class Qa extends ka{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ua(this);const n=lt(t),r=t[Y]||null;r&&Do(r),this._bootstrapComponents=Ar(n.bootstrap),this._r3Injector=vs(t,e,[{provide:ka,useValue:this},{provide:Bo,useValue:this.componentFactoryResolver}],y(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Is.THROW_IF_NOT_FOUND,n=N.Default){return t===Is||t===ka||t===hs?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class $a extends ja{constructor(t){super(),this.moduleType=t,null!==lt(t)&&function(t){const e=new Set;!function t(n){const r=lt(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${y(e)} vs ${y(e.name)}`)}(i,Ga.get(i),n),Ga.set(i,n));const s=Ar(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new Qa(this.moduleType,t)}}function Wa(t,e,n){const r=se()+t,i=Kt();return i[r]===mi?Fs(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function Ka(t,e){const n=Yt();let r;const i=t+ht;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new _t("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=vt(r.type)),o=R(Bs);try{const t=qe(!1),e=s();return qe(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,Kt(),i,e),e}finally{R(o)}}function Ya(t,e,n){const r=t+ht,i=Kt(),s=Ft(i,r);return function(t,e){return Vs.isWrapped(e)&&(e=Vs.unwrap(e),t[$t.lFrame.bindingIndex]=mi),e}(i,function(t,e){return t[1].data[e].pure}(i,r)?function(t,e,n,r,i,s){const o=e+n;return Us(t,o,i)?Fs(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===mi?void 0:n}(t,o+1)}(i,se(),e,s.transform,n,s):s.transform(n))}const Za=class extends r.a{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){let r,s=t=>null,o=()=>null;t&&"object"==typeof t?(r=this.__isAsync?e=>{setTimeout(()=>t.next(e))}:e=>{t.next(e)},t.error&&(s=this.__isAsync?e=>{setTimeout(()=>t.error(e))}:e=>{t.error(e)}),t.complete&&(o=this.__isAsync?()=>{setTimeout(()=>t.complete())}:()=>{t.complete()})):(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)},e&&(s=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const a=super.subscribe(r,s,o);return t instanceof i.a&&t.add(a),a}};function Xa(){return this._results[Ps()]()}class Ja{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Ps(),n=Ja.prototype;n[e]||(n[e]=Xa)}get changes(){return this._changes||(this._changes=new Za)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=pn(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class tu{constructor(t){this.queryList=t,this.matches=null}clone(){return new tu(this.queryList)}setDirty(){this.queryList.setDirty()}}class eu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new eu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==mu(t,e).matches&&this.queries[e].setDirty()}}class nu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class ru{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new ru(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class iu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new iu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,su(e,i)),this.matchTNodeWithReadOption(t,e,tn(e,t,i,!1,!1))}else n===Ta?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,tn(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===Wo||r===Da||r===Ta&&4&e.type)this.addMatch(e.index,-2);else{const n=tn(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function su(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function ou(t,e,n,r){return-1===n?function(t,e){return 11&t.type?Qo(t,e):4&t.type?Aa(t,e):null}(e,t):-2===n?function(t,e,n){return n===Wo?Qo(e,t):n===Ta?Aa(e,t):n===Da?Ma(e,t):void 0}(t,e,r):en(t,t[1],n,e)}function au(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:ou(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function uu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=au(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=ft;t<o.length;t++){const e=o[t];e[17]===e[3]&&uu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];uu(n[1],n,i,r)}}}}}return r}function cu(t){const e=Kt(),n=Yt(),r=ce();le(r+1);const i=mu(n,r);if(t.dirty&&Ht(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?uu(n,e,r,[]):au(n,e,i,r);t.reset(s,Ko),t.notifyOnChanges()}return!0}return!1}function lu(t,e,n){const r=Yt();r.firstCreatePass&&(pu(r,new nu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),du(r,Kt(),e)}function hu(t,e,n,r){const i=Yt();if(i.firstCreatePass){const s=Xt();pu(i,new nu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}du(i,Kt(),n)}function fu(){return t=Kt(),e=ce(),t[19].queries[e].queryList;var t,e}function du(t,e,n){const r=new Ja(4==(4&n));Li(t,e,r,r.destroy),null===e[19]&&(e[19]=new eu),e[19].queries.push(new tu(r))}function pu(t,e,n){null===t.queries&&(t.queries=new ru),t.queries.track(new iu(e,n))}function mu(t,e){return t.queries.getByIndex(e)}function gu(t=N.Default){const e=wa(!0);if(null!=e||t&N.Optional)return e;Ot("ChangeDetectorRef")}const yu=new hn("Application Initializer");let bu=(()=>{class t{constructor(t){this.appInits=t,this.resolve=Go,this.reject=Go,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();Js(e)&&t.push(e)}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(An(yu,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const vu=new hn("AppId"),_u={provide:vu,useFactory:function(){return`${wu()}${wu()}${wu()}`},deps:[]};function wu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Eu=new hn("Platform Initializer"),Ou=new hn("Platform ID"),Cu=new hn("appBootstrapListener");let Su=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Tu=new hn("LocaleId"),Iu=new hn("DefaultCurrencyCode");class xu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Au=function(t){return new $a(t)},ku=Au,ju=function(t){return Promise.resolve(Au(t))},Nu=function(t){const e=Au(t),n=Ar(lt(t).declarations).reduce((t,e)=>{const n=ct(e);return n&&t.push(new za(n)),t},[]);return new xu(e,n)},Du=Nu,Ru=function(t){return Promise.resolve(Nu(t))};let Pu=(()=>{class t{constructor(){this.compileModuleSync=ku,this.compileModuleAsync=ju,this.compileModuleAndAllComponentsSync=Du,this.compileModuleAndAllComponentsAsync=Ru}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();const Vu=(()=>Promise.resolve(0))();function Lu(t){"undefined"==typeof Zone?Vu.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Mu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Za(!1),this.onMicrotaskEmpty=new Za(!1),this.onStable=new Za(!1),this.onError=new Za(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=z.requestAnimationFrame,e=z.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(z,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,qu(t),Uu(t)},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),qu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return Hu(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),zu(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return Hu(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),zu(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,qu(t),Uu(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Mu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Mu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Fu,Go,Go);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Fu={};function Uu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function qu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function Hu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function zu(t){t._nesting--,Uu(t)}class Bu{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Za,this.onMicrotaskEmpty=new Za,this.onStable=new Za,this.onError=new Za}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let Gu=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Mu.assertNotInAngularZone(),Lu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Lu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(An(Mu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})(),Qu=(()=>{class t{constructor(){this._applications=new Map,Yu.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return Yu.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();class $u{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function Wu(t){Yu=t}let Ku,Yu=new $u,Zu=!0,Xu=!1;function Ju(){return Xu=!0,Zu}function tc(){if(Xu)throw new Error("Cannot enable prod mode after platform setup.");Zu=!1}const ec=new hn("AllowMultipleToken");class nc{constructor(t,e){this.name=t,this.token=e}}function rc(t,e,n=[]){const r=`Platform: ${e}`,i=new hn(r);return(e=[])=>{let s=ic();if(!s||s.injector.get(ec,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(Ku&&!Ku.destroyed&&!Ku.injector.get(ec,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Ku=t.get(sc);const e=t.get(Eu,null);e&&e.forEach(t=>t())}(Is.create({providers:t,name:r}))}return function(t){const e=ic();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function ic(){return Ku&&!Ku.destroyed?Ku:null}let sc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new Bu:("zone.js"===t?void 0:t)||new Mu({enableLongStackTrace:Ju(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Mu,useValue:n}];return n.run(()=>{const e=Is.create({providers:r,parent:this.injector,name:t.moduleType.name}),i=t.create(e),s=i.injector.get(Tr,null);if(!s)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{s.handleError(t)}});i.onDestroy(()=>{uc(this._modules,i),t.unsubscribe()})}),function(t,e,n){try{const r=n();return Js(r)?r.catch(n=>{throw e.runOutsideAngular(()=>t.handleError(n)),n}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(s,n,()=>{const t=i.injector.get(bu);return t.runInitializers(),t.donePromise.then(()=>(Do(i.injector.get(Tu,jo)||jo),this._moduleDoBootstrap(i),i))})})}bootstrapModule(t,e=[]){const n=oc({},e);return function(t,e,n){const r=new $a(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(ac);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${y(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(An(Is))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function oc(t,e){return Array.isArray(e)?e.reduce(oc,t):Object.assign(Object.assign({},t),e)}let ac=(()=>{class t{constructor(t,e,n,r,i,a){this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=a,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new s.a(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),l=new s.a(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Mu.assertNotInAngularZone(),Lu(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Mu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=Object(o.a)(c,l.pipe(t=>{return u()((e=p,function(t){let n;n="function"==typeof e?e:function(){return e};const r=Object.create(t,f);return r.source=t,r.subjectFactory=n,r})(t));var e}))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof Ho?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(ka),i=n.create(Is.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(Gu,null),a=o&&i.injector.get(Qu);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),uc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),Ju()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;uc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Cu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(An(Mu),An(Su),An(Is),An(Tr),An(Bo),An(bu))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function uc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class cc{}class lc{}const hc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let fc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||hc}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n("zn8P")(e).then(t=>t[r]).then(t=>dc(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n("zn8P")(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>dc(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(An(Pu),An(lc,8))},t.\u0275prov=O({token:t,factory:t.\u0275fac}),t})();function dc(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const pc=function(t){return null},mc=rc(null,"core",[{provide:Ou,useValue:"unknown"},{provide:sc,deps:[Is]},{provide:Qu,deps:[]},{provide:Su,deps:[]}]),gc=[{provide:ac,useClass:ac,deps:[Mu,Su,Is,Tr,Bo,bu]},{provide:Ha,deps:[Mu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:bu,useClass:bu,deps:[[new Rn,yu]]},{provide:Pu,useClass:Pu,deps:[]},_u,{provide:da,useFactory:function(){return Oa},deps:[]},{provide:ma,useFactory:function(){return Ca},deps:[]},{provide:Tu,useFactory:function(t){return Do(t=t||"undefined"!=typeof $localize&&$localize.locale||jo),t},deps:[[new Dn(Tu),new Rn,new Pn]]},{provide:Iu,useValue:"USD"}];let yc=(()=>{class t{constructor(t){}}return t.\u0275mod=it({type:t}),t.\u0275inj=C({factory:function(e){return new(e||t)(An(ac))},providers:gc}),t})()},gRHU:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("2fFW"),i=n("NJ4a");const s={closed:!0,next(t){},error(t){if(r.a.useDeprecatedSynchronousErrorHandling)throw t;Object(i.a)(t)},complete(){}}},jZKg:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n("HDdC"),i=n("quSY");function s(t,e){return new r.a(n=>{const r=new i.a;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},kJWO:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")()},lJxs:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n("7o/Q");function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.a{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},n6bG:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,"a",function(){return r})},ngJS:function(t,e,n){"use strict";n.d(e,"a",function(){return r});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},pxpQ:function(t,e,n){"use strict";n.d(e,"b",function(){return u}),n.d(e,"a",function(){return l});var r=n("7o/Q"),i=n("EY2u"),s=n("LRne"),o=n("HDdC");let a=(()=>{class t{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return Object(s.a)(this.value);case"E":return t=this.error,new o.a(e=>e.error(t));case"C":return Object(i.b)()}var t;throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}static createError(e){return new t("E",void 0,e)}static createComplete(){return t.completeNotification}}return t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t})();function u(t,e=0){return function(n){return n.lift(new c(t,e))}}class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.a{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},"q/0M":function(t,e,n){"use strict";function r(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}var i;n.d(e,"a",function(){return o}),n.d(e,"b",function(){return h}),n.d(e,"c",function(){return f}),n.d(e,"d",function(){return d});var s=[],o=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}({}),a={debug:o.DEBUG,verbose:o.VERBOSE,info:o.INFO,warn:o.WARN,error:o.ERROR,silent:o.SILENT},u=o.INFO,c=((i={})[o.DEBUG]="log",i[o.VERBOSE]="log",i[o.INFO]="info",i[o.WARN]="warn",i[o.ERROR]="error",i),l=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];if(!(e<t.logLevel)){var s=(new Date).toISOString(),o=c[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,r(["["+s+"]  "+t.name+":"],n))}},h=function(){function t(t){this.name=t,this._logLevel=u,this._logHandler=l,this._userLogHandler=null,s.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in o))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?a[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.DEBUG],t)),this._logHandler.apply(this,r([this,o.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.VERBOSE],t)),this._logHandler.apply(this,r([this,o.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.INFO],t)),this._logHandler.apply(this,r([this,o.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.WARN],t)),this._logHandler.apply(this,r([this,o.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,r([this,o.ERROR],t)),this._logHandler.apply(this,r([this,o.ERROR],t))},t}();function f(t){s.forEach(function(e){e.setLogLevel(t)})}function d(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=a[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],s=2;s<arguments.length;s++)i[s-2]=arguments[s];var a=i.map(function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(function(t){return t}).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:o[n].toLowerCase(),message:a,args:i,type:e.name})}},r=0,i=s;r<i.length;r++)n(i[r])}},qOnz:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return y}),n.d(e,"c",function(){return _}),n.d(e,"d",function(){return w}),n.d(e,"e",function(){return i}),n.d(e,"f",function(){return s}),n.d(e,"g",function(){return a}),n.d(e,"h",function(){return l}),n.d(e,"i",function(){return h}),n.d(e,"j",function(){return d}),n.d(e,"k",function(){return p}),n.d(e,"l",function(){return u}),n.d(e,"m",function(){return c}),n.d(e,"n",function(){return f}),n.d(e,"o",function(){return m});var r=n("30Go");function i(t){return s(void 0,t)}function s(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&"__proto__"!==n&&(t[n]=s(t[n],e[n]));return t}var o=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}();function a(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function u(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(a())}function c(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function l(){return"object"==typeof self&&self.self===self}function h(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function f(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function d(){return a().indexOf("Electron/")>=0}function p(){var t=a();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function m(){return a().indexOf("MSAppHost/")>=0}var g=function(t){function e(n,r,i){var s=t.call(this,r)||this;return s.code=n,s.customData=i,s.name="FirebaseError",Object.setPrototypeOf(s,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(s,y.prototype.create),s}return Object(r.c)(e,t),e}(Error),y=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=e[0]||{},i=this.service+"/"+t,s=this.errors[t],o=s?b(s,r):"Error",a=this.serviceName+": "+o+" ("+i+").",u=new g(i,a,r);return u},t}();function b(t,e){return t.replace(v,function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"})}var v=/\{\$([^}]+)}/g;function _(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function w(t,e){var n=new E(t,e);return n.subscribe.bind(n)}var E=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=["next","error","complete"];n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t)?t:{next:t,error:e,complete:n}).next&&(r.next=O),void 0===r.error&&(r.error=O),void 0===r.complete&&(r.complete=O);var s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),s},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(r){"undefined"!=typeof console&&console.error&&console.error(r)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function O(){}},qgXg:function(t,e,n){"use strict";n.d(e,"b",function(){return a}),n.d(e,"a",function(){return u});var r=n("3N8a");class i extends r.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}var s=n("IjjT");class o extends s.a{}const a=new o(i),u=a},quSY:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var r=n("DH7j"),i=n("XoHu"),s=n("n6bG");const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();let a=(()=>{class t{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:n,_ctorUnsubscribe:a,_unsubscribe:c,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(let t=0;t<n.length;++t)n[t].remove(this);if(Object(s.a)(c)){a&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof o?u(h.errors):[h]}}if(Object(r.a)(l)){let t=-1,n=l.length;for(;++t<n;){const n=l[t];if(Object(i.a)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof o?e=e.concat(u(h.errors)):e.push(h)}}}if(e)throw new o(e)}add(e){let n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){const e=n;n=new t,n._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:r}=n;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var e;return t.EMPTY=((e=new t).closed=!0,e),t})();function u(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}},spgP:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return T}),n.d(e,"b",function(){return v}),n.d(e,"c",function(){return b}),n.d(e,"d",function(){return d}),n.d(e,"e",function(){return y}),n.d(e,"f",function(){return C}),n.d(e,"g",function(){return w}),n.d(e,"h",function(){return p}),n.d(e,"i",function(){return g}),n.d(e,"j",function(){return E});var r=n("qgXg"),i=n("D0XW"),s=n("vkgz"),o=n("tf+s"),a=n("pxpQ"),u=n("fXoL"),c=n("Jgta");function l(){}class h{constructor(t,e=r.b){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class f{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",l,{},l,l)),e.pipe(Object(s.a)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}class d{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new h(Zone.current)),this.insideAngular=t.run(()=>new h(Zone.current,i.b))}}function p(t){return function(e){return(e=e.lift(new f(t.ngZone))).pipe(Object(o.a)(t.outsideAngular),Object(a.b)(t.insideAngular))}}const m=["ngOnDestroy"],g=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(m.indexOf(s)>-1)return()=>{};const o=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>o[e],apply:(t,e,n)=>o.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),y=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})},b=new u.r("angularfire2.app.options"),v=new u.r("angularfire2.app.nameOrConfig"),_=new u.Q("6.1.4");function w(e,n,r){const i="object"==typeof r&&r||{};i.name=i.name||"string"==typeof r&&r||"[DEFAULT]";const s=c.a.apps.filter(t=>t&&t.name===i.name)[0]||n.runOutsideAngular(()=>c.a.initializeApp(e,i));try{JSON.stringify(e)!==JSON.stringify(s.options)&&O("error",`${s.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(o){}return s}const E=()=>{O("warn","You may need to import 'firebase/auth' manually in your component rather than rely on AngularFireAuth's dynamic import, when using the emulator suite https://github.com/angular/angularfire/issues/2656")},O=(t,...e)=>{Object(u.X)()&&"undefined"!=typeof console&&console[t](...e)};function C(e,n,r,i,s){const[o,...a]=globalThis.\u0275AngularfireInstanceCache.get(e)||[];if(o){try{s.some((t,e)=>{const n=a[e];return t&&"object"==typeof t?JSON.stringify(t)!==JSON.stringify(n):t!==n})&&O("error",`${n} was already initialized on the ${r.name} Firebase App instance with different settings.${t.hot?" You may need to reload as Firebase is not HMR aware.":""}`)}catch(u){}return o}{const t=i();return globalThis.\u0275AngularfireInstanceCache.set(e,[t,...s]),t}}globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=new Map);const S={provide:class{},useFactory:w,deps:[b,u.A,[new u.B,v]]};let T=(()=>{class t{constructor(t){c.a.registerVersion("angularfire",_.full,t.toString()),c.a.registerVersion("angular",u.P.full)}static initializeApp(e,n){return{ngModule:t,providers:[{provide:b,useValue:e},{provide:v,useValue:n}]}}}return t.\u0275mod=u.Kb({type:t}),t.\u0275inj=u.Jb({factory:function(e){return new(e||t)(u.Vb(u.C))},providers:[S]}),t})()}).call(this,n("3UD+")(t))},"tf+s":function(t,e,n){"use strict";n.d(e,"a",function(){return g});var r=n("HDdC");let i=1;const s=(()=>Promise.resolve())(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n("3N8a");class l extends c.a{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}}var h=n("IjjT");class f extends h.a{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}const d=new f(l);var p=n("Y7HM");class m extends r.a{constructor(t,e=0,n=d){super(),this.source=t,this.delayTime=e,this.scheduler=n,(!Object(p.a)(e)||e<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=d)}static create(t,e=0,n=d){return new m(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(m.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function g(t,e=0){return function(n){return n.lift(new y(t,e))}}class y{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new m(e,this.delay,this.scheduler).subscribe(t)}}},vkgz:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("7o/Q");function i(){}var s=n("n6bG");function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.a{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,Object(s.a)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},yCtX:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var r=n("HDdC"),i=n("ngJS"),s=n("jZKg");function o(t,e){return e?Object(s.a)(t,e):new r.a(Object(i.a)(t))}},"z+Ro":function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,"a",function(){return r})},zIRd:function(t,e,n){"use strict";var r,i,s=n("30Go"),o=n("qOnz"),a=n("/6Yf"),u=n("q/0M"),c=((r={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",r["bad-app-name"]="Illegal App name: '{$appName}",r["duplicate-app"]="Firebase App named '{$appName}' already exists",r["app-deleted"]="Firebase App named '{$appName}' already deleted",r["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",r["invalid-log-argument"]="First argument to `onLog` must be null or a function.",r),l=new o.b("app","Firebase",c),h="@firebase/app",f="[DEFAULT]",d=((i={})[h]="fire-core",i["@firebase/analytics"]="fire-analytics",i["@firebase/auth"]="fire-auth",i["@firebase/database"]="fire-rtdb",i["@firebase/functions"]="fire-fn",i["@firebase/installations"]="fire-iid",i["@firebase/messaging"]="fire-fcm",i["@firebase/performance"]="fire-perf",i["@firebase/remote-config"]="fire-rc",i["@firebase/storage"]="fire-gcs",i["@firebase/firestore"]="fire-fst",i["fire-js"]="fire-js",i["firebase-wrapper"]="fire-js-all",i),p=new u.b("@firebase/app"),m=function(){function t(t,e,n){var r,i,u=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Object(o.e)(t),this.container=new a.b(e.name),this._addComponent(new a.a("app",function(){return u},"PUBLIC"));try{for(var c=Object(s.h)(this.firebase_.INTERNAL.components.values()),l=c.next();!l.done;l=c.next())this._addComponent(l.value)}catch(h){r={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map(function(t){return t.delete()}))}).then(function(){t.isDeleted_=!0})},t.prototype._getService=function(t,e){return void 0===e&&(e=f),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e=f),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){p.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.toJSON=function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw l.create("app-deleted",{appName:this.name_})},t}();m.prototype.name&&m.prototype.options||m.prototype.delete||console.log("dc");var g=function t(){var e=function(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={}),"object"==typeof i&&null!==i||(i={name:i});var s=i;void 0===s.name&&(s.name=f);var a=s.name;if("string"!=typeof a||!a)throw l.create("bad-app-name",{appName:String(a)});if(Object(o.c)(e,a))throw l.create("duplicate-app",{appName:a});var u=new t(n,s,r);return e[a]=u,u},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=d[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&o&&u.push("and"),o&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void p.warn(u.join(" "))}c(new a.a(i+"-version",function(){return{library:i,version:e}},"VERSION"))},setLogLevel:u.c,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw l.create("invalid-log-argument",{appName:name});Object(u.d)(t,e)},apps:null,SDK_VERSION:"8.2.5",INTERNAL:{registerComponent:c,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){return"serverAuth"===e?null:e}}};function i(t){if(t=t||f,!Object(o.c)(e,t))throw l.create("no-app",{appName:t});return e[t]}function c(a){var u,c,h=a.name;if(n.has(h))return p.debug("There were multiple attempts to register component "+h+"."),"PUBLIC"===a.type?r[h]:null;if(n.set(h,a),"PUBLIC"===a.type){var f=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[h])throw l.create("invalid-app-argument",{appName:h});return t[h]()};void 0!==a.serviceProps&&Object(o.f)(f,a.serviceProps),r[h]=f,t.prototype[h]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return this._getService.bind(this,h).apply(this,a.multipleInstances?t:[])}}try{for(var d=Object(s.h)(Object.keys(e)),m=d.next();!m.done;m=d.next())e[m.value]._addComponent(a)}catch(g){u={error:g}}finally{try{m&&!m.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return"PUBLIC"===a.type?r[h]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map(function(t){return e[t]})}}),i.App=t,r}(m);return e.INTERNAL=Object(s.a)(Object(s.a)({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){Object(o.f)(e,t)},createSubscribe:o.d,ErrorFactory:o.b,deepExtend:o.f}),e}(),y=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map(function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null}).filter(function(t){return t}).join(" ")},t}();if(Object(o.h)()&&void 0!==self.firebase){p.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var b=self.firebase.SDK_VERSION;b&&b.indexOf("LITE")>=0&&p.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var v=g.initializeApp;g.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Object(o.m)()&&p.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the @rollup/plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/@rollup/plugin-node-resolve\n      '),v.apply(void 0,t)};var _=g;!function(t,e){t.INTERNAL.registerComponent(new a.a("platform-logger",function(t){return new y(t)},"PRIVATE")),t.registerVersion(h,"0.6.14",void 0),t.registerVersion("fire-js","")}(_),e.a=_},zUnb:function(t,e,n){"use strict";n.r(e);var r=n("fXoL");let i=null;function s(){return i}const o=new r.r("DocumentToken");let a=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return Object(r.Vb)(l)}const c=new r.r("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=s().getLocation(),this._history=s().getHistory()}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}onHashChange(t){s().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=Object(r.Ib)({factory:f,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function f(){return new l(Object(r.Vb)(o))}function d(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function m(t){return t&&"?"!==t[0]?"?"+t:t}let g=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=Object(r.Vb)(o).location;return new v(Object(r.Vb)(a),e&&e.origin||"")}const b=new r.r("appBaseHref");let v=(()=>{class t extends g{constructor(t,e){if(super(),this._platformLocation=t,null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return d(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+m(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+m(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),_=(()=>{class t extends g{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",null!=e&&(this._baseHref=e)}onPopState(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=d(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+m(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(a),r.Vb(b,8))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.n,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(O(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+m(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,O(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+m(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(g),r.Vb(a))},t.normalizeQueryParams=m,t.joinWithSlash=d,t.stripTrailingSlash=p,t.\u0275prov=Object(r.Ib)({factory:E,token:t,providedIn:"root"}),t})();function E(){return new w(Object(r.Vb)(g),Object(r.Vb)(a))}function O(t){return t.replace(/\/index.html$/,"")}var C=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({});const S=r.ob;class T{}let I=(()=>{class t extends T{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(S(e||this.locale)(t)){case C.Zero:return"zero";case C.One:return"one";case C.Two:return"two";case C.Few:return"few";case C.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.v))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class x{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let A=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(e){throw new Error(`Cannot find a differ supporting object '${n}' of type '${t=n,t.name||typeof t}'. NgFor only supports binding to Iterables such as Arrays.`)}}var t;if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new x(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new k(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new k(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(r.t))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class k{constructor(t,e){this.record=t,this.view=e}}let j=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new N,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){D("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){D("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class N{constructor(){this.$implicit=null,this.ngIf=null}}function D(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Object(r.xb)(e)}'.`)}class R{constructor(t,e){this._viewContainerRef=t,this._templateRef=e,this._created=!1}create(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}destroy(){this._created=!1,this._viewContainerRef.clear()}enforceState(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}let P=(()=>{class t{constructor(){this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}set ngSwitch(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}_addCase(){return this._caseCount++}_addDefault(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}_matchCase(t){const e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}_updateDefaultCases(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(let e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),t})(),V=(()=>{class t{constructor(t,e,n){this.ngSwitch=n,n._addCase(),this._view=new R(t,e)}ngDoCheck(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.R),r.Mb(r.M),r.Mb(P,1))},t.\u0275dir=r.Hb({type:t,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),t})();class L{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class M{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const F=new M,U=new L;let q=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if(Object(r.tb)(e))return F;if(Object(r.ub)(e))return U;throw n=t,Error(`InvalidPipeArgument: '${e}' for pipe '${Object(r.xb)(n)}'`);var n}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Xb())},t.\u0275pipe=r.Lb({name:"async",type:t,pure:!1}),t})(),H=(()=>{class t{transform(t){return JSON.stringify(t,null,2)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=r.Lb({name:"json",type:t,pure:!1}),t})(),z=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[{provide:T,useClass:I}]}),t})();function B(t){return"server"===t}let G=(()=>{class t{}return t.\u0275prov=Object(r.Ib)({token:t,providedIn:"root",factory:()=>new Q(Object(r.Vb)(o),window)}),t})();class Q{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){var e;if(!this.supportsScrolling())return;const n=null!==(e=this.document.getElementById(t))&&void 0!==e?e:this.document.getElementsByName(t)[0];void 0!==n&&(this.scrollToElement(n),this.attemptFocus(n))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=$(this.window.history)||$(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function $(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class W extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var t;t=new W,i||(i=t)}getProperty(t,e){return t[e]}log(t){window.console&&window.console.log&&window.console.log(t)}logGroup(t){window.console&&window.console.group&&window.console.group(t)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){return t.parentNode&&t.parentNode.removeChild(t),t}getValue(t){return t.value}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(t){const e=Y||(Y=document.querySelector("base"),Y)?Y.getAttribute("href"):null;return null==e?null:(n=e,K||(K=document.createElement("a")),K.setAttribute("href",n),"/"===K.pathname.charAt(0)?K.pathname:"/"+K.pathname);var n}resetBaseElement(){Y=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let K,Y=null;const Z=new r.r("TRANSITION_ID"),X=[{provide:r.d,useFactory:function(t,e,n){return()=>{n.get(r.e).donePromise.then(()=>{const n=s();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(e=>e.getAttribute("ng-transition")===t).forEach(t=>n.remove(t))})}},deps:[Z,o,r.s],multi:!0}];class J{static init(){Object(r.Z)(new J)}addToWindow(t){r.qb.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.qb.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.qb.getAllAngularRootElements=()=>t.getAllRootElements(),r.qb.frameworkStabilizers||(r.qb.frameworkStabilizers=[]),r.qb.frameworkStabilizers.push(t=>{const e=r.qb.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}const tt=new r.r("EventManagerPlugins");let et=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(tt),r.Vb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class nt{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let rt=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),it=(()=>{class t extends rt{constructor(t){super(),this._doc=t,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(t.head)}_addStylesToHost(t,e){t.forEach(t=>{const n=this._doc.createElement("style");n.textContent=t,this._styleNodes.add(e.appendChild(n))})}addHost(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)}removeHost(t){this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach(e=>this._addStylesToHost(t,e))}ngOnDestroy(){this._styleNodes.forEach(t=>s().remove(t))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const st={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ot=/%COMP%/g;function at(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?at(t,i,n):(i=i.replace(ot,t),n.push(i))}return n}function ut(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let ct=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new lt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.S.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new ht(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.S.ShadowDom:return new ft(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=at(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(et),r.Vb(it),r.Vb(r.c))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class lt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(st[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=st[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=st[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.H.DashCase|r.H.Important)?t.style.setProperty(e,n,i&r.H.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.H.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ut(n)):this.eventManager.addEventListener(t,e,ut(n))}}class ht extends lt{constructor(t,e,n,r){super(t),this.component=n;const i=at(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ot,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(ot,r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class ft extends lt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=at(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let dt=(()=>{class t extends nt{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const pt=["alt","control","meta","shift"],mt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},gt={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},yt={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let bt=(()=>{class t extends nt{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(pt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&gt.hasOwnProperty(e)&&(e=gt[e]))}return mt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),pt.forEach(r=>{r!=n&&(0,yt[r])(t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const vt=[{provide:r.C,useValue:"browser"},{provide:r.D,useValue:function(){W.makeCurrent(),J.init()},multi:!0},{provide:o,useFactory:function(){return Object(r.wb)(document),document},deps:[]}],_t=Object(r.T)(r.Y,"browser",vt),wt=[[],{provide:r.bb,useValue:"root"},{provide:r.m,useFactory:function(){return new r.m},deps:[]},{provide:tt,useClass:dt,multi:!0,deps:[o,r.A,r.C]},{provide:tt,useClass:bt,multi:!0,deps:[o]},[],{provide:ct,useClass:ct,deps:[et,it,r.c]},{provide:r.G,useExisting:ct},{provide:rt,useExisting:it},{provide:it,useClass:it,deps:[o]},{provide:r.N,useClass:r.N,deps:[r.A]},{provide:et,useClass:et,deps:[tt,r.A]},[]];let Et=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.c,useValue:e.appId},{provide:Z,useExisting:r.c},X]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Vb(t,12))},providers:wt,imports:[z,r.f]}),t})();"undefined"!=typeof window&&window;var Ot=n("Cfvw"),Ct=n("LRne"),St=n("XNiG"),Tt=n("9ppp");class It extends St.a{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Tt.a;return this._value}next(t){super.next(this._value=t)}}var xt=n("z+Ro"),At=n("DH7j"),kt=n("7o/Q");class jt extends kt.a{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class Nt extends kt.a{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Dt=n("SeVD"),Rt=n("HDdC");function Pt(t,e,n,r,i=new Nt(t,n,r)){if(!i.closed)return e instanceof Rt.a?e.subscribe(i):Object(Dt.a)(e)(i)}var Vt=n("yCtX");const Lt={};class Mt{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ft(t,this.resultSelector))}}class Ft extends jt{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Lt),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Pt(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Lt?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}const Ut=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})();var qt=n("bHdf");function Ht(...t){return Object(qt.a)(1)(Object(Ct.a)(...t))}var zt=n("EY2u");function Bt(t){return new Rt.a(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(Ot.a)(n):Object(zt.b)()).subscribe(e)})}var Gt=n("lJxs"),Qt=n("zx2A");function $t(t,e){return"function"==typeof e?n=>n.pipe($t((n,r)=>Object(Ot.a)(t(n,r)).pipe(Object(Gt.a)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Wt(t))}class Wt{constructor(t){this.project=t}call(t,e){return e.subscribe(new Kt(t,this.project))}}class Kt extends Qt.b{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Qt.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(Qt.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;t&&!t.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}const Yt=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();function Zt(t){return e=>0===t?Object(zt.b)():e.lift(new Xt(t))}class Xt{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new Jt(t,this.total))}}class Jt extends kt.a{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function te(...t){const e=t[t.length-1];return Object(xt.a)(e)?(t.pop(),n=>Ht(t,n,e)):e=>Ht(t,e)}function ee(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new ne(t,e,n))}}class ne{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new re(t,this.accumulator,this.seed,this.hasSeed))}}class re extends kt.a{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function ie(t,e){return function(n){return n.lift(new se(t,e))}}class se{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new oe(t,this.predicate,this.thisArg))}}class oe extends kt.a{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}function ae(t){return function(e){const n=new ue(t),r=e.lift(n);return n.caught=r}}class ue{constructor(t){this.selector=t}call(t,e){return e.subscribe(new ce(t,this.selector,this.caught))}}class ce extends Qt.b{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Qt.a(this);this.add(r);const i=Object(Qt.c)(n,r);i!==r&&this.add(i)}}}var le=n("5+tZ");function he(t,e){return Object(le.a)(t,e,1)}function fe(t){return function(e){return 0===t?Object(zt.b)():e.lift(new de(t))}}class de{constructor(t){if(this.total=t,this.total<0)throw new Yt}call(t,e){return e.subscribe(new pe(t,this.total))}}class pe extends kt.a{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}function me(t=be){return e=>e.lift(new ge(t))}class ge{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new ye(t,this.errorFactory))}}class ye extends kt.a{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(v_){t=v_}this.destination.error(t)}}}function be(){return new Ut}function ve(t=null){return e=>e.lift(new _e(t))}class _e{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new we(t,this.defaultValue))}}class we extends kt.a{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Ee=n("SpAZ");function Oe(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ie((e,n)=>t(e,n,r)):Ee.a,Zt(1),n?ve(e):me(()=>new Ut))}var Ce=n("vkgz"),Se=n("quSY");class Te{constructor(t){this.callback=t}call(t,e){return e.subscribe(new Ie(t,this.callback))}}class Ie extends kt.a{constructor(t,e){super(t),this.add(new Se.a(e))}}class xe{constructor(t,e){this.id=t,this.url=e}}class Ae extends xe{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ke extends xe{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class je extends xe{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Ne extends xe{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class De extends xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Re extends xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Pe extends xe{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Ve extends xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Le extends xe{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Me{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Fe{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Ue{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qe{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class He{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ze{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Be{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const Ge="primary";class Qe{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function $e(t){return new Qe(t)}function We(t){const e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function Ke(t,e,n){const r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function Ye(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!Ze(t[i],e[i]))return!1;return!0}function Ze(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function Xe(t){return Array.prototype.concat.apply([],t)}function Je(t){return t.length>0?t[t.length-1]:null}function tn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function en(t){return Object(r.sb)(t)?t:Object(r.tb)(t)?Object(Ot.a)(Promise.resolve(t)):Object(Ct.a)(t)}function nn(t,e,n){return n?function(t,e){return Ye(t,e)}(t.queryParams,e.queryParams)&&rn(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>Ze(t[n],e[n]))}(t.queryParams,e.queryParams)&&sn(t.root,e.root)}function rn(t,e){if(!ln(t.segments,e.segments))return!1;if(t.numberOfChildren!==e.numberOfChildren)return!1;for(const n in e.children){if(!t.children[n])return!1;if(!rn(t.children[n],e.children[n]))return!1}return!0}function sn(t,e){return on(t,e,e.segments)}function on(t,e,n){if(t.segments.length>n.length)return!!ln(t.segments.slice(0,n.length),n)&&!e.hasChildren();if(t.segments.length===n.length){if(!ln(t.segments,n))return!1;for(const n in e.children){if(!t.children[n])return!1;if(!sn(t.children[n],e.children[n]))return!1}return!0}{const r=n.slice(0,t.segments.length),i=n.slice(t.segments.length);return!!ln(t.segments,r)&&!!t.children.primary&&on(t.children.primary,e,i)}}class an{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return dn.serialize(this)}}class un{constructor(t,e){this.segments=t,this.children=e,this.parent=null,tn(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pn(this)}}class cn{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=$e(this.parameters)),this._parameterMap}toString(){return wn(this)}}function ln(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class hn{}class fn{parse(t){const e=new Tn(t);return new an(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var e;return`/${mn(t.root,!0)}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${yn(e)}=${yn(t)}`).join("&"):`${yn(e)}=${yn(n)}`});return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${e=t.fragment,encodeURI(e)}`:""}`}}const dn=new fn;function pn(t){return t.segments.map(t=>wn(t)).join("/")}function mn(t,e){if(!t.hasChildren())return pn(t);if(e){const e=t.children.primary?mn(t.children.primary,!1):"",n=[];return tn(t.children,(t,e)=>{e!==Ge&&n.push(`${e}:${mn(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return tn(t.children,(t,r)=>{r===Ge&&(n=n.concat(e(t,r)))}),tn(t.children,(t,r)=>{r!==Ge&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===Ge?[mn(t.children.primary,!1)]:[`${n}:${mn(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children.primary?`${pn(t)}/${e[0]}`:`${pn(t)}/(${e.join("//")})`}}function gn(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function yn(t){return gn(t).replace(/%3B/gi,";")}function bn(t){return gn(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vn(t){return decodeURIComponent(t)}function _n(t){return vn(t.replace(/\+/g,"%20"))}function wn(t){return`${bn(t.path)}${e=t.parameters,Object.keys(e).map(t=>`;${bn(t)}=${bn(e[t])}`).join("")}`;var e}const En=/^[^\/()?;=#]+/;function On(t){const e=t.match(En);return e?e[0]:""}const Cn=/^[^=?&#]+/,Sn=/^[^?&#]+/;class Tn{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new un([],{}):new un([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new un(t,e)),n}parseSegment(){const t=On(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new cn(vn(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=On(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=On(this.remaining);t&&(n=t,this.capture(n))}t[vn(e)]=vn(n)}parseQueryParam(t){const e=function(t){const e=t.match(Cn);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(Sn);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=_n(e),i=_n(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=On(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=Ge);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s.primary:new un([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class In{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=xn(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=xn(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=An(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return An(t,this._root).map(t=>t.value)}}function xn(t,e){if(t===e.value)return e;for(const n of e.children){const e=xn(t,n);if(e)return e}return null}function An(t,e){if(t===e.value)return[e];for(const n of e.children){const r=An(t,n);if(r.length)return r.unshift(e),r}return[]}class kn{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function jn(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Nn extends In{constructor(t,e){super(t),this.snapshot=e,Mn(this,t)}toString(){return this.snapshot.toString()}}function Dn(t,e){const n=function(t,e){const n=new Vn([],{},{},"",{},Ge,e,null,t.root,-1,{});return new Ln("",new kn(n,[]))}(t,e),r=new It([new cn("",{})]),i=new It({}),s=new It({}),o=new It({}),a=new It(""),u=new Rn(r,i,o,a,s,Ge,e,n.root);return u.snapshot=n.root,new Nn(new kn(u,[]),n)}class Rn{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(Object(Gt.a)(t=>$e(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(Object(Gt.a)(t=>$e(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Pn(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Vn{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=$e(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=$e(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Ln extends In{constructor(t,e){super(e),this.url=t,Mn(this,e)}toString(){return Fn(this._root)}}function Mn(t,e){e.value._routerState=t,e.children.forEach(e=>Mn(t,e))}function Fn(t){const e=t.children.length>0?` { ${t.children.map(Fn).join(", ")} } `:"";return`${t.value}${e}`}function Un(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Ye(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Ye(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Ye(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Ye(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function qn(t,e){return Ye(t.params,e.params)&&function(t,e){return ln(t,e)&&t.every((t,n)=>Ye(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||qn(t.parent,e.parent))}function Hn(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return Hn(t,e,r);return Hn(t,e)})}(t,e,n);return new kn(r,i)}{const n=t.retrieve(e.value);if(n){const t=n.route;return zn(e,t),t}{const n=new Rn(new It((r=e.value).url),new It(r.params),new It(r.queryParams),new It(r.fragment),new It(r.data),r.outlet,r.component,r),i=e.children.map(e=>Hn(t,e));return new kn(n,i)}}var r}function zn(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)zn(t.children[n],e.children[n])}function Bn(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Gn(t){return"object"==typeof t&&null!=t&&t.outlets}function Qn(t,e,n,r,i){let s={};return r&&tn(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new an(n.root===t?e:$n(n.root,t,e),s,i)}function $n(t,e,n){const r={};return tn(t.children,(t,i)=>{r[i]=t===e?n:$n(t,e,n)}),new un(t.segments,r)}class Wn{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&Bn(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(Gn);if(r&&r!==Je(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Kn{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function Yn(t,e,n){if(t||(t=new un([],{})),0===t.segments.length&&t.hasChildren())return Zn(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(Gn(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!er(a,u,e))return s;r+=2}else{if(!er(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new un(t.segments.slice(0,r.pathIndex),{});return e.children.primary=new un(t.segments.slice(r.pathIndex),t.children),Zn(e,0,i)}return r.match&&0===i.length?new un(t.segments,{}):r.match&&!t.hasChildren()?Xn(t,e,n):r.match?Zn(t,0,i):Xn(t,e,n)}function Zn(t,e,n){if(0===n.length)return new un(t.segments,{});{const r=function(t){return Gn(t[0])?t[0].outlets:{[Ge]:t}}(n),i={};return tn(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Yn(t.children[r],e,n))}),tn(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new un(t.segments,i)}}function Xn(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(Gn(s)){const t=Jn(s.outlets);return new un(r,t)}if(0===i&&Bn(n[0])){r.push(new cn(t.segments[e].path,tr(n[0]))),i++;continue}const o=Gn(s)?s.outlets.primary:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Bn(a)?(r.push(new cn(o,tr(a))),i+=2):(r.push(new cn(o,{})),i++)}return new un(r,{})}function Jn(t){const e={};return tn(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=Xn(new un([],{}),0,t))}),e}function tr(t){const e={};return tn(t,(t,n)=>e[n]=`${t}`),e}function er(t,e,n){return t==n.path&&Ye(e,n.parameters)}class nr{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),Un(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=jn(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),tn(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=jn(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}activateChildRoutes(t,e,n){const r=jn(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new ze(t.value.snapshot))}),t.children.length&&this.forwardEvent(new qe(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(Un(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),rr(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function rr(t){Un(t.value),t.children.forEach(rr)}class ir{constructor(t,e){this.routes=t,this.module=e}}function sr(t){return"function"==typeof t}function or(t){return t instanceof an}const ar=Symbol("INITIAL_VALUE");function ur(){return $t(t=>function(...t){let e,n;return Object(xt.a)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&Object(At.a)(t[0])&&(t=t[0]),Object(Vt.a)(t,n).lift(new Mt(e))}(t.map(t=>t.pipe(Zt(1),te(ar)))).pipe(ee((t,e)=>{let n=!1;return e.reduce((t,r,i)=>{if(t!==ar)return t;if(r===ar&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||or(r))return r}return t},t)},ar),ie(t=>t!==ar),Object(Gt.a)(t=>or(t)?t:!0===t),Zt(1)))}let cr=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r.Nb(0,"router-outlet")},directives:function(){return[ii]},encapsulation:2}),t})();function lr(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];hr(r,fr(e,r))}}function hr(t,e){t.children&&lr(t.children,e)}function fr(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function dr(t){const e=t.children&&t.children.map(dr),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ge&&(n.component=cr),n}function pr(t){return t.outlet||Ge}function mr(t,e){const n=t.filter(t=>pr(t)===e);return n.push(...t.filter(t=>pr(t)!==e)),n}const gr={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function yr(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},gr):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Ke)(n,t,e);if(!i)return Object.assign({},gr);const s={};tn(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function br(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>vr(t,e,n)&&pr(n)!==Ge)}(t,n,r)){const i=new un(e,function(t,e,n,r){const i={};i.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&pr(s)!==Ge){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[pr(s)]=n}return i}(t,e,r,new un(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>vr(t,e,n))}(t,n,r)){const s=new un(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(vr(t,n,a)&&!i[pr(a)]){const n=new un([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[pr(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new un(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function vr(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function _r(t,e,n,r){return!!(pr(t)===r||r!==Ge&&vr(e,n,t))&&("**"===t.path||yr(e,t,n).matched)}function wr(t,e,n){return 0===e.length&&!t.children[n]}class Er{constructor(t){this.segmentGroup=t||null}}class Or{constructor(t){this.urlTree=t}}function Cr(t){return new Rt.a(e=>e.error(new Er(t)))}function Sr(t){return new Rt.a(e=>e.error(new Or(t)))}function Tr(t){return new Rt.a(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class Ir{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.y)}apply(){const t=br(this.urlTree.root,[],[],this.config).segmentGroup,e=new un(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,Ge).pipe(Object(Gt.a)(t=>this.createUrlTree(xr(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(ae(t=>{if(t instanceof Or)return this.allowRedirects=!1,this.match(t.urlTree);if(t instanceof Er)throw this.noMatchError(t);throw t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,Ge).pipe(Object(Gt.a)(e=>this.createUrlTree(xr(e),t.queryParams,t.fragment))).pipe(ae(t=>{if(t instanceof Er)throw this.noMatchError(t);throw t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new un([],{[Ge]:t}):t;return new an(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(Object(Gt.a)(t=>new un([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return Object(Ot.a)(r).pipe(he(r=>{const i=n.children[r],s=mr(e,r);return this.expandSegmentGroup(t,s,i,r).pipe(Object(Gt.a)(t=>({segment:t,outlet:r})))}),ee((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?ie((e,n)=>t(e,n,r)):Ee.a,fe(1),n?ve(e):me(()=>new Ut))}())}expandSegment(t,e,n,r,i,s){return Object(Ot.a)(n).pipe(he(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(ae(t=>{if(t instanceof Er)return Object(Ct.a)(null);throw t}))),Oe(t=>!!t),ae((t,n)=>{if(t instanceof Ut||"EmptyError"===t.name){if(wr(e,r,i))return Object(Ct.a)(new un([],{}));throw new Er(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return _r(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):Cr(e):Cr(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Sr(i):this.lineralizeSegments(n,i).pipe(Object(le.a)(n=>{const i=new un(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=yr(e,r,i);if(!o)return Cr(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?Sr(l):this.lineralizeSegments(r,l).pipe(Object(le.a)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(Object(Gt.a)(t=>(n._loadedConfig=t,new un(r,{})))):Object(Ct.a)(new un(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=yr(e,n,r);if(!s)return Cr(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe(Object(le.a)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=br(e,o,u,s),l=new un(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe(Object(Gt.a)(t=>new un(o,t)));if(0===s.length&&0===c.length)return Object(Ct.a)(new un(o,{}));const h=pr(n)===i;return this.expandSegment(r,l,s,c,h?Ge:i,!0).pipe(Object(Gt.a)(t=>new un(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?Object(Ct.a)(new ir(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Object(Ct.a)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe(Object(le.a)(n=>n?this.configLoader.load(t.injector,e).pipe(Object(Gt.a)(t=>(e._loadedConfig=t,t))):function(t){return new Rt.a(e=>e.error(We(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):Object(Ct.a)(new ir([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&sr(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!sr(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return en(s)});return Object(Ct.a)(i).pipe(ur(),Object(Ce.a)(t=>{if(!or(t))return;const e=We(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),Object(Gt.a)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Object(Ct.a)(n);if(r.numberOfChildren>1||!r.children.primary)return Tr(t.redirectTo);r=r.children.primary}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new an(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return tn(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return tn(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new un(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function xr(t){const e={};for(const n of Object.keys(t.children)){const r=xr(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children.primary){const e=t.children.primary;return new un(t.segments.concat(e.segments),e.children)}return t}(new un(t.segments,e))}class Ar{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class kr{constructor(t,e){this.component=t,this.route=e}}function jr(t,e,n){const r=t._root;return Dr(r,e?e._root:null,n,[r.value])}function Nr(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Dr(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=jn(e);return t.children.forEach(t=>{!function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!ln(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ln(t.url,e.url)||!Ye(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!qn(t,e)||!Ye(t.queryParams,e.queryParams);case"paramsChange":default:return!qn(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Ar(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Dr(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new kr(a.outlet.component,o))}else o&&Rr(e,a,i),i.canActivateChecks.push(new Ar(r)),Dr(t,null,s.component?a?a.children:null:n,r,i)}(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),tn(s,(t,e)=>Rr(t,n.getContext(e),i)),i}function Rr(t,e,n){const r=jn(t),i=t.value;tn(r,(t,r)=>{Rr(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new kr(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class Pr{}function Vr(t){return new Rt.a(e=>e.error(t))}class Lr{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=br(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,Ge);if(null===e)return null;const n=new Vn([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},Ge,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new kn(n,e),i=new Ln(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Pn(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=mr(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=function(t){const e=[];for(const n of t){if(!Mr(n)){e.push(n);continue}const t=e.find(t=>n.value.routeConfig===t.value.routeConfig);void 0!==t?t.children.push(...n.children):e.push(n)}return e}(n);return r.sort((t,e)=>t.value.outlet===Ge?-1:e.value.outlet===Ge?1:t.value.outlet.localeCompare(e.value.outlet)),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return wr(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!_r(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?Je(n).parameters:{};i=new Vn(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),pr(t),t.component,t,Fr(e),Ur(e)+n.length,Hr(t))}else{const r=yr(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Vn(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,qr(t),pr(t),t.component,t,Fr(e),Ur(e)+s.length,Hr(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=br(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new kn(i,t)]}if(0===a.length&&0===c.length)return[new kn(i,[])];const l=pr(t)===r,h=this.processSegment(a,u,c,l?Ge:r);return null===h?null:[new kn(i,h)]}}function Mr(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Fr(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Ur(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function qr(t){return t.data||{}}function Hr(t){return t.resolve||{}}function zr(t){return $t(e=>{const n=t(e);return n?Object(Ot.a)(n).pipe(Object(Gt.a)(()=>e)):Object(Ct.a)(e)})}class Br extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const Gr=new r.r("ROUTES");class Qr{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(Object(Gt.a)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new ir(Xe(i.injector.get(Gr,void 0,r.q.Self|r.q.Optional)).map(dr),i)}))}loadModuleFactory(t){return"string"==typeof t?Object(Ot.a)(this.loader.load(t)):en(t()).pipe(Object(le.a)(t=>t instanceof r.w?Object(Ct.a)(t):Object(Ot.a)(this.compiler.compileModuleAsync(t))))}}class $r{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Wr,this.attachRef=null}}class Wr{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new $r,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Kr{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function Yr(t){throw t}function Zr(t,e,n){return e.parse("/")}function Xr(t,e){return Object(Ct.a)(null)}let Jr=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.lastLocationChangeInfo=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new St.a,this.errorHandler=Yr,this.malformedUriErrorHandler=Zr,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Xr,afterPreactivation:Xr},this.urlHandlingStrategy=new Kr,this.routeReuseStrategy=new Br,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.ngModule=s.get(r.y),this.console=s.get(r.ab);const c=s.get(r.A);this.isNgZoneEnabled=c instanceof r.A&&r.A.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new an(new un([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Qr(o,a,t=>this.triggerEvent(new Me(t)),t=>this.triggerEvent(new Fe(t))),this.routerState=Dn(this.currentUrlTree,this.rootComponentType),this.transitions=new It({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(t){const e=this.events;return t.pipe(ie(t=>0!==t.id),Object(Gt.a)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),$t(t=>{let n=!1,r=!1;return Object(Ct.a)(t).pipe(Object(Ce.a)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),$t(t=>{const n=!this.navigated||t.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Object(Ct.a)(t).pipe($t(t=>{const n=this.transitions.getValue();return e.next(new Ae(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?zt.a:Promise.resolve(t)}),(r=this.ngModule.injector,i=this.configLoader,s=this.urlSerializer,o=this.config,$t(t=>function(t,e,n,r,i){return new Ir(t,e,n,r,i).apply()}(r,i,s,t.extractedUrl,o).pipe(Object(Gt.a)(e=>Object.assign(Object.assign({},t),{urlAfterRedirects:e}))))),Object(Ce.a)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,r,i){return Object(le.a)(s=>function(t,e,n,r,i="emptyOnly",s="legacy"){try{const o=new Lr(t,e,n,r,i,s).recognize();return null===o?Vr(new Pr):Object(Ct.a)(o)}catch(v_){return Vr(v_)}}(t,e,s.urlAfterRedirects,n(s.urlAfterRedirects),r,i).pipe(Object(Gt.a)(t=>Object.assign(Object.assign({},s),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),Object(Ce.a)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects);const n=new De(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));var r,i,s,o;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new Ae(n,this.serializeUrl(r),i,s);e.next(a);const u=Dn(r,this.rootComponentType).snapshot;return Object(Ct.a)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),zt.a}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Ce.a)(t=>{const e=new Re(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Object(Gt.a)(t=>Object.assign(Object.assign({},t),{guards:jr(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return Object(le.a)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?Object(Ct.a)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return Object(Ot.a)(t).pipe(Object(le.a)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return Object(Ct.a)(!0);const o=s.map(s=>{const o=Nr(s,e,i);let a;if(function(t){return t&&sr(t.canDeactivate)}(o))a=en(o.canDeactivate(t,e,n,r));else{if(!sr(o))throw new Error("Invalid CanDeactivate guard");a=en(o(t,e,n,r))}return a.pipe(Oe())});return Object(Ct.a)(o).pipe(ur())}(t.component,t.route,n,e,r)),Oe(t=>!0!==t,!0))}(o,r,i,t).pipe(Object(le.a)(n=>n&&"boolean"==typeof n?function(t,e,n,r){return Object(Ot.a)(e).pipe(he(e=>Ht(function(t,e){return null!==t&&e&&e(new Ue(t)),Object(Ct.a)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new He(t)),Object(Ct.a)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Bt(()=>{const i=e.guards.map(i=>{const s=Nr(i,e.node,n);let o;if(function(t){return t&&sr(t.canActivateChild)}(s))o=en(s.canActivateChild(r,t));else{if(!sr(s))throw new Error("Invalid CanActivateChild guard");o=en(s(r,t))}return o.pipe(Oe())});return Object(Ct.a)(i).pipe(ur())}));return Object(Ct.a)(i).pipe(ur())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Object(Ct.a)(!0);const i=r.map(r=>Bt(()=>{const i=Nr(r,e,n);let s;if(function(t){return t&&sr(t.canActivate)}(i))s=en(i.canActivate(e,t));else{if(!sr(i))throw new Error("Invalid CanActivate guard");s=en(i(e,t))}return s.pipe(Oe())}));return Object(Ct.a)(i).pipe(ur())}(t,e.route,n))),Oe(t=>!0!==t,!0))}(r,s,t,e):Object(Ct.a)(n)),Object(Gt.a)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),Object(Ce.a)(t=>{if(or(t.guardsResult)){const e=We(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Pe(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),ie(t=>{if(!t.guardsResult){this.resetUrlToCurrentUrlTree();const n=new je(t.id,this.serializeUrl(t.extractedUrl),"");return e.next(n),t.resolve(!1),!1}return!0}),zr(t=>{if(t.guards.canActivateChecks.length)return Object(Ct.a)(t).pipe(Object(Ce.a)(t=>{const e=new Ve(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),$t(t=>{let n=!1;return Object(Ct.a)(t).pipe((r=this.paramsInheritanceStrategy,i=this.ngModule.injector,Object(le.a)(t=>{const{targetSnapshot:e,guards:{canActivateChecks:n}}=t;if(!n.length)return Object(Ct.a)(t);let s=0;return Object(Ot.a)(n).pipe(he(t=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return Object(Ct.a)({});const s={};return Object(Ot.a)(i).pipe(Object(le.a)(i=>function(t,e,n,r){const i=Nr(t,e,r);return en(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe(Object(Ce.a)(t=>{s[i]=t}))),fe(1),Object(le.a)(()=>Object.keys(s).length===i.length?Object(Ct.a)(s):zt.a))}(t._resolve,t,e,r).pipe(Object(Gt.a)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Pn(t,n).resolve),null)))}(t.route,e,r,i)),Object(Ce.a)(()=>s++),fe(1),Object(le.a)(e=>s===n.length?Object(Ct.a)(t):zt.a))})),Object(Ce.a)({next:()=>n=!0,complete:()=>{if(!n){const n=new je(t.id,this.serializeUrl(t.extractedUrl),"At least one route resolver didn't emit any value.");e.next(n),t.resolve(!1)}}}));var r,i}),Object(Ce.a)(t=>{const e=new Le(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),zr(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),Object(Gt.a)(t=>{const e=function(t,e,n){const r=Hn(t,e._root,n?n._root:void 0);return new Nn(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),Object(Ce.a)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),this.browserUrlTree=t.urlAfterRedirects)}),(s=this.rootContexts,o=this.routeReuseStrategy,a=t=>this.triggerEvent(t),Object(Gt.a)(t=>(new nr(o,t.targetRouterState,t.currentRouterState,a).activate(s),t))),Object(Ce.a)({next(){n=!0},complete(){n=!0}}),(i=()=>{if(!n&&!r){this.resetUrlToCurrentUrlTree();const n=new je(t.id,this.serializeUrl(t.extractedUrl),`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`);e.next(n),t.resolve(!1)}this.currentNavigation=null},t=>t.lift(new Te(i))),ae(n=>{if(r=!0,(i=n)&&i.ngNavigationCancelingError){const r=or(n.url);r||(this.navigated=!0,this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));const i=new je(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(e,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);const r=new Ne(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(qh){t.reject(qh)}}var i;return zt.a}));var i,s,o,a}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return!(e.transitionId===t.transitionId&&n&&("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){lr(t),this.config=t.map(dr),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0)}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return Qn(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new Wn(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return tn(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new Wn(n,e,r)}(n);if(s.toRoot())return Qn(e.root,new un([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new Kn(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new Kn(t,t===e.root,0)}const r=Bn(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Kn(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?Zn(o.segmentGroup,o.index,s.commands):Yn(o.segmentGroup,o.index,s.commands);return Qn(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,u)}navigateByUrl(t,e={skipLocationChange:!1}){const n=or(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(v_){e=this.malformedUriErrorHandler(v_,this.urlSerializer,t)}return e}isActive(t,e){if(or(t))return nn(this.currentUrlTree,t,e);const n=this.parseUrl(t);return nn(this.currentUrlTree,n,e)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.events.next(new ke(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,t.resolve(!0)},t=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(t,e,n,r,i){const s=this.getTransition(),o="imperative"!==e&&"imperative"===(null==s?void 0:s.source),a=(this.lastSuccessfulId===s.id||this.currentNavigation?s.rawUrl:s.urlAfterRedirects).toString()===t.toString();if(o&&a)return Promise.resolve(!0);let u,c,l;i?(u=i.resolve,c=i.reject,l=i.promise):l=new Promise((t,e)=>{u=t,c=e});const h=++this.navigationId;return this.setTransition({id:h,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:u,reject:c,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(t=>Promise.reject(t))}setBrowserUrl(t,e,n,r){const i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",Object.assign(Object.assign({},r),{navigationId:n})):this.location.go(i,"",Object.assign(Object.assign({},r),{navigationId:n}))}resetStateAndUrl(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.O),r.Vb(hn),r.Vb(Wr),r.Vb(w),r.Vb(r.s),r.Vb(r.x),r.Vb(r.i),r.Vb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ti=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new St.a,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:ni(this.skipLocationChange),replaceUrl:ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ni(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jr),r.Mb(Rn),r.Wb("tabindex"),r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.Yb("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})(),ei=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new St.a,this.subscription=t.events.subscribe(t=>{t instanceof ke&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:ni(this.skipLocationChange),replaceUrl:ni(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ni(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jr),r.Mb(Rn),r.Mb(g))},t.\u0275dir=r.Hb({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.Yb("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ub("href",e.href,r.mc),r.Db("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.Ab]}),t})();function ni(t){return""===t||!!t}let ri=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof ke&&this.update()})}ngAfterContentInit(){Object(Ct.a)(this.links.changes,this.linksWithHrefs.changes,Object(Ct.a)(null)).pipe(Object(qt.a)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=Object(Ot.a)(e).pipe(Object(qt.a)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){return e=>t.isActive(e.urlTree,this.routerLinkActiveOptions.exact)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Jr),r.Mb(r.l),r.Mb(r.F),r.Mb(r.h),r.Mb(ti,8),r.Mb(ei,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,ti,1),r.Fb(n,ei,1)),2&t){let t;r.jc(t=r.Zb())&&(e.links=t),r.jc(t=r.Zb())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.Ab]}),t})(),ii=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.n,this.deactivateEvents=new r.n,this.name=i||Ge,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new si(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Wr),r.Mb(r.R),r.Mb(r.j),r.Wb("name"),r.Mb(r.h))},t.\u0275dir=r.Hb({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class si{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Rn?this.route:t===Wr?this.childContexts:this.parent.get(t,e)}}class oi{}class ai{preload(t,e){return Object(Ct.a)(null)}}let ui=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new Qr(e,n,e=>t.triggerEvent(new Me(e)),e=>t.triggerEvent(new Fe(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(ie(t=>t instanceof ke),he(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.y);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return Object(Ot.a)(n).pipe(Object(qt.a)(),Object(Gt.a)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>this.loader.load(t.injector,e).pipe(Object(le.a)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Jr),r.Vb(r.x),r.Vb(r.i),r.Vb(r.s),r.Vb(oi))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),ci=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Ae?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ke&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Be&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new Be(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Jr),r.Vb(G),r.Vb(void 0))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const li=new r.r("ROUTER_CONFIGURATION"),hi=new r.r("ROUTER_FORROOT_GUARD"),fi=[w,{provide:hn,useClass:fn},{provide:Jr,useFactory:function(t,e,n,r,i,o,a,u={},c,l){const h=new Jr(null,t,e,n,r,i,o,Xe(a));if(c&&(h.urlHandlingStrategy=c),l&&(h.routeReuseStrategy=l),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(u,h),u.enableTracing){const t=s();h.events.subscribe(e=>{t.logGroup(`Router Event: ${e.constructor.name}`),t.log(e.toString()),t.log(e),t.logGroupEnd()})}return h},deps:[hn,Wr,w,r.s,r.x,r.i,Gr,li,[class{},new r.B],[class{},new r.B]]},Wr,{provide:Rn,useFactory:function(t){return t.routerState.root},deps:[Jr]},{provide:r.x,useClass:r.L},ui,ai,class{preload(t,e){return e().pipe(ae(()=>Object(Ct.a)(null)))}},{provide:li,useValue:{enableTracing:!1}}];function di(){return new r.z("Router",Jr)}let pi=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[fi,bi(e),{provide:hi,useFactory:yi,deps:[[Jr,new r.B,new r.K]]},{provide:li,useValue:n||{}},{provide:g,useFactory:gi,deps:[a,[new r.p(b),new r.B],li]},{provide:ci,useFactory:mi,deps:[Jr,G,li]},{provide:oi,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:ai},{provide:r.z,multi:!0,useFactory:di},[vi,{provide:r.d,multi:!0,useFactory:_i,deps:[vi]},{provide:Ei,useFactory:wi,deps:[vi]},{provide:r.b,multi:!0,useExisting:Ei}]]}}static forChild(e){return{ngModule:t,providers:[bi(e)]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Vb(hi,8),r.Vb(Jr,8))}}),t})();function mi(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new ci(t,e,n)}function gi(t,e,n={}){return n.useHash?new _(t,e):new v(t,e)}function yi(t){return"guarded"}function bi(t){return[{provide:r.a,multi:!0,useValue:t},{provide:Gr,multi:!0,useValue:t}]}let vi=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new St.a}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{let t=null;const e=new Promise(e=>t=e),n=this.injector.get(Jr),r=this.injector.get(li);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?Object(Ct.a)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(li),n=this.injector.get(ui),i=this.injector.get(ci),s=this.injector.get(Jr),o=this.injector.get(r.g);t===o.components[0]&&("enabledNonBlocking"!==e.initialNavigation&&void 0!==e.initialNavigation||s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.s))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();function _i(t){return t.appInitializer.bind(t)}function wi(t){return t.bootstrapListener.bind(t)}const Ei=new r.r("Router Initializer");var Oi=n("XoHu");function Ci(t,e){return new Rt.a(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=Object(Ot.a)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,s!==r&&c||(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}const Si=new r.r("NgValueAccessor"),Ti={provide:Si,useExisting:Object(r.V)(()=>Ii),multi:!0};let Ii=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r.Bb([Ti])]}),t})();const xi={provide:Si,useExisting:Object(r.V)(()=>ki),multi:!0},Ai=new r.r("CompositionEventMode");let ki=(()=>{class t{constructor(t,e,n){this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=t=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l),r.Mb(Ai,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r.Bb([xi])]}),t})();function ji(t){return null==t||0===t.length}function Ni(t){return null!=t&&"number"==typeof t.length}const Di=new r.r("NgValidators"),Ri=new r.r("NgAsyncValidators"),Pi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Vi{static min(t){return e=>{if(ji(e.value)||ji(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}static max(t){return e=>{if(ji(e.value)||ji(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}static required(t){return ji(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return ji(t.value)||Pi.test(t.value)?null:{email:!0}}static minLength(t){return e=>ji(e.value)||!Ni(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}static maxLength(t){return e=>Ni(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}static pattern(t){if(!t)return Vi.nullValidator;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(ji(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}static nullValidator(t){return null}static compose(t){if(!t)return null;const e=t.filter(Li);return 0==e.length?null:function(t){return Fi(Ui(t,e))}}static composeAsync(t){if(!t)return null;const e=t.filter(Li);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if(Object(At.a)(e))return Ci(e,null);if(Object(Oi.a)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ci(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ci(t=1===t.length&&Object(At.a)(t[0])?t[0]:t,null).pipe(Object(Gt.a)(t=>e(...t)))}return Ci(t,null)}(Ui(t,e).map(Mi)).pipe(Object(Gt.a)(Fi))}}}function Li(t){return null!=t}function Mi(t){const e=Object(r.tb)(t)?Object(Ot.a)(t):t;return Object(r.sb)(e),e}function Fi(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function Ui(t,e){return e.map(e=>e(t))}function qi(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function Hi(t){return null!=t?Vi.compose(qi(t)):null}function zi(t){return null!=t?Vi.composeAsync(qi(t)):null}function Bi(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function Gi(t){return t._rawValidators}function Qi(t){return t._rawAsyncValidators}let $i=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=Hi(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=zi(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})(),Wi=(()=>{class t extends $i{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(e){return Ki(e||t)},t.\u0275dir=r.Hb({type:t,features:[r.zb]}),t})();const Ki=r.Tb(Wi);class Yi extends $i{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Zi{constructor(t){this._cd=t}is(t){var e,n;return!!(null===(n=null===(e=this._cd)||void 0===e?void 0:e.control)||void 0===n?void 0:n[t])}}let Xi=(()=>{class t extends Zi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Yi,2))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})(),Ji=(()=>{class t extends Zi{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Wi,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.Eb("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.zb]}),t})();const ts={provide:Si,useExisting:Object(r.V)(()=>es),multi:!0};let es=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Bb([ts])]}),t})();const ns={provide:Si,useExisting:Object(r.V)(()=>is),multi:!0};let rs=(()=>{class t{constructor(){this._accessors=[]}add(t,e){this._accessors.push([t,e])}remove(t){for(let e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)}select(t){this._accessors.forEach(e=>{this._isSameGroup(e,t)&&e[1]!==t&&e[1].fireUncheck(t.value)})}_isSameGroup(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),is=(()=>{class t{constructor(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(Yi),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(t){this._fn=t,this.onChange=()=>{t(this.value),this._registry.select(this)}}fireUncheck(t){this.writeValue(t)}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_checkName(){!this.name&&this.formControlName&&(this.name=this.formControlName)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l),r.Mb(rs),r.Mb(r.s))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(){return e.onChange()})("blur",function(){return e.onTouched()})},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[r.Bb([ns])]}),t})();const ss={provide:Si,useExisting:Object(r.V)(()=>os),multi:!0};let os=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}writeValue(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.value)})("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r.Bb([ss])]}),t})();const as={provide:Si,useExisting:Object(r.V)(()=>us),multi:!0};let us=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=function(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([as])]}),t})();const cs={provide:Si,useExisting:Object(r.V)(()=>ls),multi:!0};let ls=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=t=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.F),r.Mb(r.l))},t.\u0275dir=r.Hb({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.Yb("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r.Bb([cs])]}),t})();function hs(t,e){ps(t,e,!0),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&gs(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&gs(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function fs(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),ms(t,e,!0),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function ds(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ps(t,e,n){const r=Gi(t);null!==e.validator?t.setValidators(Bi(r,e.validator)):"function"==typeof r&&t.setValidators([r]);const i=Qi(t);if(null!==e.asyncValidator?t.setAsyncValidators(Bi(i,e.asyncValidator)):"function"==typeof i&&t.setAsyncValidators([i]),n){const n=()=>t.updateValueAndValidity();ds(e._rawValidators,n),ds(e._rawAsyncValidators,n)}}function ms(t,e,n){let r=!1;if(null!==t){if(null!==e.validator){const n=Gi(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.validator);i.length!==n.length&&(r=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const n=Qi(t);if(Array.isArray(n)&&n.length>0){const i=n.filter(t=>t!==e.asyncValidator);i.length!==n.length&&(r=!0,t.setAsyncValidators(i))}}}if(n){const t=()=>{};ds(e._rawValidators,t),ds(e._rawAsyncValidators,t)}return r}function gs(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ys(t,e){ps(t,e,!1)}const bs=[Ii,os,es,us,ls,is];function vs(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}function _s(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const ws="VALID",Es="INVALID",Os="PENDING",Cs="DISABLED";function Ss(t){return(As(t)?t.validators:t)||null}function Ts(t){return Array.isArray(t)?Hi(t):t||null}function Is(t,e){return(As(e)?e.asyncValidators:t)||null}function xs(t){return Array.isArray(t)?zi(t):t||null}function As(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ks{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=Ts(this._rawValidators),this._composedAsyncValidatorFn=xs(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===ws}get invalid(){return this.status===Es}get pending(){return this.status==Os}get disabled(){return this.status===Cs}get enabled(){return this.status!==Cs}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=Ts(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=xs(t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=Os,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Cs,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=ws,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==ws&&this.status!==Os||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Cs:ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=Os,this._hasOwnPendingAsyncValidator=!0;const e=Mi(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;let r=t;return e.forEach(t=>{r=r instanceof Ns?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ds&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.n,this.statusChanges=new r.n}_calculateStatus(){return this._allControlsDisabled()?Cs:this.errors?Es:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Os)?Os:this._anyControlsHaveStatus(Es)?Es:ws}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){As(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class js extends ks{constructor(t=null,e,n){super(Ss(e),Is(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){_s(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){_s(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Ns extends ks{constructor(t,e,n){super(Ss(e),Is(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof js?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ds extends ks{constructor(t,e,n){super(Ss(e),Is(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!n})}at(t){return this.controls[t]}push(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()}insert(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()}removeAt(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity()}setControl(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof js?t.value:t.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const Rs={provide:Wi,useExisting:Object(r.V)(()=>Vs)},Ps=(()=>Promise.resolve(null))();let Vs=(()=>{class t extends Wi{constructor(t,e){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.n,this.form=new Ns({},Hi(t),zi(e))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Ps.then(()=>{const e=this._findContainer(t.path);t.control=e.registerControl(t.name,t.control),hs(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Ps.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name),_s(this._directives,t)})}addFormGroup(t){Ps.then(()=>{const e=this._findContainer(t.path),n=new Ns({});ys(n,t),e.registerControl(t.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Ps.then(()=>{const e=this._findContainer(t.path);e&&e.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,e){Ps.then(()=>{this.form.get(t.path).setValue(e)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,vs(this.form,this._directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Di,10),r.Mb(Ri,10))},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Rs]),r.zb]}),t})(),Ls=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ms=new r.r("NgModelWithFormControlWarning"),Fs={provide:Wi,useExisting:Object(r.V)(()=>Us)};let Us=(()=>{class t extends Wi{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.n,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(ms(this.form,this,!1),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return hs(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){fs(t.control||null,t,!1),_s(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,vs(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=this.form.get(t.path);t.control!==e&&(fs(t.control||null,t),e&&hs(e,t),t.control=e)}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);ys(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return ms(t,e,!1)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ps(this.form,this,!1),this._oldForm&&ms(this._oldForm,this,!1)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Di,10),r.Mb(Ri,10))},t.\u0275dir=r.Hb({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.Yb("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r.Bb([Fs]),r.zb,r.Ab]}),t})();const qs={provide:Yi,useExisting:Object(r.V)(()=>Hs)};let Hs=(()=>{class t extends Yi{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.n,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{var e;t.constructor===ki?n=t:(e=t,bs.some(t=>e.constructor===t)?r=t:i=t)}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(Wi,13),r.Mb(Di,10),r.Mb(Ri,10),r.Mb(Si,10),r.Mb(Ms,8))},t.\u0275dir=r.Hb({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r.Bb([qs]),r.zb,r.Ab]}),t._ngModelWarningSentOnce=!1,t})(),zs=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),Bs=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new Ns(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new js(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ds(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof js||t instanceof Ns||t instanceof Ds?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),Gs=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Ms,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[Bs,rs],imports:[zs]}),t})();var Qs=n("Jgta"),$s=n("D0XW");function Ws(){return t=>t.lift(new Ks)}class Ks{call(t,e){return e.subscribe(new Ys(t))}}class Ys extends kt.a{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}class Zs{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Xs(t,this.compare,this.keySelector))}}class Xs extends kt.a{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}var Js=n("pxpQ"),to=n("spgP"),eo=n("zIRd"),no=n("q/0M"),ro=n("qOnz"),io=function(t,e){return(io=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function so(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var oo,ao="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},uo=uo||{},co=ao||self;function lo(){}function ho(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function fo(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var po="closure_uid_"+(1e9*Math.random()>>>0),mo=0;function go(t,e,n){return t.call.apply(t.bind,arguments)}function yo(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function bo(t,e,n){return(bo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?go:yo).apply(null,arguments)}function vo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function _o(){return Date.now()}function wo(t,e){function n(){}n.prototype=e.prototype,t.X=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Kb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Eo(){this.j=this.j,this.i=this.i}Eo.prototype.j=!1,Eo.prototype.ja=function(){!this.j&&(this.j=!0,this.G(),0)&&function(t){Object.prototype.hasOwnProperty.call(t,po)&&t[po]||(t[po]=++mo)}(this)},Eo.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Oo=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Co=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function So(t){return Array.prototype.concat.apply([],arguments)}function To(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Io(t){return/^[\s\xa0]*$/.test(t)}var xo,Ao=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function ko(t,e){return-1!=t.indexOf(e)}function jo(t,e){return t<e?-1:t>e?1:0}t:{var No=co.navigator;if(No){var Do=No.userAgent;if(Do){xo=Do;break t}}xo=""}function Ro(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function Po(t){var e={};for(var n in t)e[n]=t[n];return e}var Vo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lo(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var s=0;s<Vo.length;s++)n=Vo[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Mo(t){return Mo[" "](t),t}Mo[" "]=lo;var Fo,Uo,qo=ko(xo,"Opera"),Ho=ko(xo,"Trident")||ko(xo,"MSIE"),zo=ko(xo,"Edge"),Bo=zo||Ho,Go=ko(xo,"Gecko")&&!(ko(xo.toLowerCase(),"webkit")&&!ko(xo,"Edge"))&&!(ko(xo,"Trident")||ko(xo,"MSIE"))&&!ko(xo,"Edge"),Qo=ko(xo.toLowerCase(),"webkit")&&!ko(xo,"Edge");function $o(){var t=co.document;return t?t.documentMode:void 0}t:{var Wo="",Ko=(Uo=xo,Go?/rv:([^\);]+)(\)|;)/.exec(Uo):zo?/Edge\/([\d\.]+)/.exec(Uo):Ho?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Uo):Qo?/WebKit\/(\S+)/.exec(Uo):qo?/(?:Version)[ \/]?(\S+)/.exec(Uo):void 0);if(Ko&&(Wo=Ko?Ko[1]:""),Ho){var Yo=$o();if(null!=Yo&&Yo>parseFloat(Wo)){Fo=String(Yo);break t}}Fo=Wo}var Zo={};function Xo(t){return function(t,e){var n=Zo;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e()}(t,function(){for(var e=0,n=Ao(String(Fo)).split("."),r=Ao(String(t)).split("."),i=Math.max(n.length,r.length),s=0;0==e&&s<i;s++){var o=n[s]||"",a=r[s]||"";do{if(o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==o[0].length&&0==a[0].length)break;e=jo(0==o[1].length?0:parseInt(o[1],10),0==a[1].length?0:parseInt(a[1],10))||jo(0==o[2].length,0==a[2].length)||jo(o[2],a[2]),o=o[3],a=a[3]}while(0==e)}return 0<=e})}var Jo=co.document&&Ho&&($o()||parseInt(Fo,10))||void 0,ta=!Ho||9<=Number(Jo),ea=Ho&&!Xo("9"),na=function(){if(!co.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{co.addEventListener("test",lo,e),co.removeEventListener("test",lo,e)}catch(n){}return t}();function ra(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function ia(t,e){if(ra.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(Go){t:{try{Mo(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:sa[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}ra.prototype.b=function(){this.defaultPrevented=!0},wo(ia,ra);var sa={2:"touch",3:"pen",4:"mouse"};ia.prototype.b=function(){ia.X.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,ea)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}};var oa="closure_listenable_"+(1e6*Math.random()|0),aa=0;function ua(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++aa,this.Y=this.Z=!1}function ca(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function la(t){this.src=t,this.a={},this.b=0}function ha(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],s=Oo(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(ca(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function fa(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.Y&&s.listener==e&&s.capture==!!n&&s.ca==r)return i}return-1}la.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.a[s])||(t=this.a[s]=[],this.b++);var o=fa(t,e,r,i);return-1<o?(e=t[o],n||(e.Z=!1)):((e=new ua(e,this.src,s,!!r,i)).Z=n,t.push(e)),e};var da="closure_lm_"+(1e6*Math.random()|0),pa={};function ma(t,e,n,r,i){if(r&&r.once)return ya(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)ma(t,e[s],n,r,i);return null}return n=Sa(n),t&&t[oa]?t.va(e,n,fo(r)?!!r.capture:!!r,i):ga(t,e,n,!1,r,i)}function ga(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=fo(i)?!!i.capture:!!i;if(o&&!ta)return null;var a=Oa(t);if(a||(t[da]=a=new la(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Ea,e=ta?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)na||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(_a(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ya(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)ya(t,e[s],n,r,i);return null}return n=Sa(n),t&&t[oa]?t.wa(e,n,fo(r)?!!r.capture:!!r,i):ga(t,e,n,!0,r,i)}function ba(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)ba(t,e[s],n,r,i);else r=fo(r)?!!r.capture:!!r,n=Sa(n),t&&t[oa]?(t=t.c,(e=String(e).toString())in t.a&&-1<(n=fa(s=t.a[e],n,r,i))&&(ca(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.a[e],t.b--))):t&&(t=Oa(t))&&(e=t.a[e.toString()],t=-1,e&&(t=fa(e,n,r,i)),(n=-1<t?e[t]:null)&&va(n))}function va(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[oa])ha(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(_a(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Oa(e))?(ha(n,t),0==n.b&&(n.src=null,e[da]=null)):ca(t)}}}function _a(t){return t in pa?pa[t]:pa[t]="on"+t}function wa(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&va(t),n.call(r,e)}function Ea(t,e){if(t.Y)return!0;if(!ta){if(!e)t:{e=["window","event"];for(var n=co,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return wa(t,e=new ia(e,this))}return wa(t,new ia(e,this))}function Oa(t){return(t=t[da])instanceof la?t:null}var Ca="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sa(t){return"function"==typeof t?t:(t[Ca]||(t[Ca]=function(e){return t.handleEvent(e)}),t[Ca])}function Ta(){Eo.call(this),this.c=new la(this),this.J=this,this.C=null}function Ia(t,e){var n,r=t.C;if(r)for(n=[];r;r=r.C)n.push(r);if(t=t.J,r=e.type||e,"string"==typeof e)e=new ra(e,t);else if(e instanceof ra)e.target=e.target||t;else{var i=e;Lo(e=new ra(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.a=n[s];i=xa(o,r,!0,e)&&i}if(i=xa(o=e.a=t,r,!0,e)&&i,i=xa(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=xa(o=e.a=n[s],r,!1,e)&&i}function xa(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.Y&&o.capture==n){var a=o.listener,u=o.ca||o.src;o.Z&&ha(t.c,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}wo(Ta,Eo),Ta.prototype[oa]=!0,(oo=Ta.prototype).addEventListener=function(t,e,n,r){ma(this,t,e,n,r)},oo.removeEventListener=function(t,e,n,r){ba(this,t,e,n,r)},oo.G=function(){if(Ta.X.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)ca(n[r]);delete e.a[t],e.b--}}this.C=null},oo.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},oo.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Aa=co.JSON.stringify;function ka(){this.b=this.a=null}var ja,Na=new(function(){function t(t,e){this.c=t,this.f=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,this.a=(t=this.a).next,t.next=null):t=this.c(),t},t}())(function(){return new Ra},function(t){t.reset()});function Da(){var t=Ma,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function Ra(){this.next=this.b=this.a=null}function Pa(t){co.setTimeout(function(){throw t},0)}function Va(t,e){ja||function(){var t=co.Promise.resolve(void 0);ja=function(){t.then(Fa)}}(),La||(ja(),La=!0),Ma.add(t,e)}ka.prototype.add=function(t,e){var n=Na.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},Ra.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},Ra.prototype.reset=function(){this.next=this.b=this.a=null};var La=!1,Ma=new ka;function Fa(){for(var t;t=Da();){try{t.a.call(t.b)}catch(n){Pa(n)}var e=Na;e.f(t),100>e.b&&(e.b++,t.next=e.a,e.a=t)}La=!1}function Ua(t,e){Ta.call(this),this.b=t||1,this.a=e||co,this.f=bo(this.Za,this),this.g=_o()}function qa(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Ha(t,e,n){if("function"==typeof t)n&&(t=bo(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=bo(t.handleEvent,t)}return 2147483647<Number(e)?-1:co.setTimeout(t,e||0)}function za(t){t.a=Ha(function(){t.a=null,t.c&&(t.c=!1,za(t))},t.h);var e=t.b;t.b=null,t.g.apply(null,e)}wo(Ua,Ta),(oo=Ua.prototype).aa=!1,oo.M=null,oo.Za=function(){if(this.aa){var t=_o()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),Ia(this,"tick"),this.aa&&(qa(this),this.start()))}},oo.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=_o())},oo.G=function(){Ua.X.G.call(this),qa(this),delete this.a};var Ba=function(t){function e(e,n){var r=t.call(this)||this;return r.g=e,r.h=n,r.b=null,r.c=!1,r.a=null,r}return function(t,e){function n(){this.constructor=t}io(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:za(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(co.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Eo);function Ga(t){Eo.call(this),this.b=t,this.a={}}wo(Ga,Eo);var Qa=[];function $a(t,e,n,r){Array.isArray(n)||(n&&(Qa[0]=n.toString()),n=Qa);for(var i=0;i<n.length;i++){var s=ma(e,n[i],r||t.handleEvent,!1,t.b||t);if(!s)break;t.a[s.key]=s}}function Wa(t){Ro(t.a,function(t,e){this.a.hasOwnProperty(e)&&va(t)},t),t.a={}}function Ka(){this.a=!0}function Ya(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Aa(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}Ga.prototype.G=function(){Ga.X.G.call(this),Wa(this)},Ga.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ka.prototype.info=function(){};var Za={},Xa=null;function Ja(){return Xa=Xa||new Ta}function tu(t){ra.call(this,Za.Fa,t)}function eu(t){var e=Ja();Ia(e,new tu(e,t))}function nu(t,e){ra.call(this,Za.STAT_EVENT,t),this.stat=e}function ru(t){var e=Ja();Ia(e,new nu(e,t))}function iu(t){ra.call(this,Za.Ga,t)}function su(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return co.setTimeout(function(){t()},e)}Za.Fa="serverreachability",wo(tu,ra),Za.STAT_EVENT="statevent",wo(nu,ra),Za.Ga="timingevent",wo(iu,ra);var ou={NO_ERROR:0,$a:1,nb:2,mb:3,hb:4,lb:5,ob:6,Da:7,TIMEOUT:8,rb:9},au={fb:"complete",Bb:"success",Ea:"error",Da:"abort",tb:"ready",ub:"readystatechange",TIMEOUT:"timeout",pb:"incrementaldata",sb:"progress",ib:"downloadprogress",Jb:"uploadprogress"};function uu(){}function cu(){}uu.prototype.a=null;var lu,hu={OPEN:"a",eb:"b",Ea:"c",qb:"d"};function fu(){ra.call(this,"d")}function du(){ra.call(this,"c")}function pu(){}function mu(t,e,n,r){this.g=t,this.c=e,this.f=n,this.S=r||1,this.J=new Ga(this),this.P=gu,this.R=new Ua(t=Bo?125:void 0),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.T=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.V=this.C=this.U=this.I=!1}wo(fu,ra),wo(du,ra),wo(pu,uu),lu=new pu;var gu=45e3,yu={},bu={};function vu(t,e,n){t.H=1,t.i=qu(Pu(e)),t.j=n,t.I=!0,_u(t,null)}function _u(t,e){t.u=_o(),Ou(t),t.l=Pu(t.i);var n=t.l,r=t.S;Array.isArray(r)||(r=[String(r)]),tc(n.b,"t",r),t.D=0,t.a=Wc(t.g,t.g.C?e:null),0<t.O&&(t.F=new Ba(bo(t.Ca,t,t.a),t.O)),$a(t.J,t.a,"readystatechange",t.Xa),e=t.B?Po(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),eu(1),function(t,e,n,r,i,s){t.info(function(){if(t.a)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.c,t.m,t.l,t.f,t.S,t.j)}function wu(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Eu(t,n);if(i==bu){4==e&&(t.h=4,ru(14),r=!1),Ya(t.c,t.f,null,"[Incomplete Response]");break}if(i==yu){t.h=4,ru(15),Ya(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ya(t.c,t.f,i,null),xu(t,i)}4==e&&0==n.length&&(t.h=1,ru(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.V&&(t.V=!0,(e=t.g).a==t&&e.U&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),Uc(e),e.F=!0,ru(11))):(Ya(t.c,t.f,n,"[Invalid Chunked Response]"),Iu(t),Tu(t))}function Eu(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?bu:(n=Number(e.substring(n,r)),isNaN(n)?yu:(r+=1)+n>e.length?bu:(e=e.substr(r,n),t.D=r+n,e))}function Ou(t){t.T=_o()+t.P,Cu(t,t.P)}function Cu(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=su(bo(t.Va,t),e)}function Su(t){t.o&&(co.clearTimeout(t.o),t.o=null)}function Tu(t){0==t.g.v||t.A||zc(t.g,t)}function Iu(t){Su(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,qa(t.R),Wa(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function xu(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||ac(n.b,t)))if(n.I=t.N,!t.C&&ac(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(Nv){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Hc(n),jc(n)}Fc(n),ru(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=su(bo(n.Sa,n),6e3));if(1>=oc(n.b)&&n.ea){try{n.ea()}catch(Nv){}n.ea=void 0}}else Gc(n,11)}else if((t.C||n.a==t)&&Hc(n),!Io(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(n.P=(i=e[r])[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var s=i[3];null!=s&&(n.ha=s,n.c.info("VER="+n.ha));var o=i[4];null!=o&&(n.pa=o,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(ko(l,"spdy")||ko(l,"quic")||ko(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(uc(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,Uu(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.U&&(n.N=_o()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var d=t;if((u=n).la=$c(u,u.C?u.ga:null,u.fa),d.C){cc(u.b,d);var p=d,m=u.D;m&&p.setTimeout(m),p.o&&(Su(p),Ou(p)),u.a=d}else Mc(u);0<n.g.length&&Rc(n)}else"stop"!=i[0]&&"close"!=i[0]||Gc(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Gc(n,7):kc(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);eu(4)}catch(Nv){}}function Au(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(ho(t)||"string"==typeof t)Co(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(ho(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(ho(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function ku(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof ku)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ju(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Nu(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Nu(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Nu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(oo=mu.prototype).setTimeout=function(t){this.P=t},oo.Xa=function(t){t=t.target;var e=this.F;e&&3==Tc(t)?e.f():this.Ca(t)},oo.Ca=function(t){try{if(t==this.a)t:{var e=Tc(this.a),n=this.a.ua(),r=this.a.W();if(!(3>e||3==e&&!Bo&&!this.a.$())){this.A||4!=e||7==n||eu(8==n||0>=r?3:2),Su(this);var i=this.a.W();this.N=i;var s=this.a.$();if(this.b=200==i,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.c,this.m,this.l,this.f,this.S,e,i),this.b){if(this.U&&!this.C){e:{if(this.a){var o,a=this.a;if((o=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Io(o)){var u=o;break e}}u=null}if(!u){this.b=!1,this.h=3,ru(12),Iu(this),Tu(this);break t}Ya(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,xu(this,u)}this.I?(wu(this,e,s),Bo&&this.b&&3==e&&($a(this.J,this.R,"tick",this.Wa),this.R.start())):(Ya(this.c,this.f,s,null),xu(this,s)),4==e&&Iu(this),this.b&&!this.A&&(4==e?zc(this.g,this):(this.b=!1,Ou(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.h=3,ru(12)):(this.h=0,ru(13)),Iu(this),Tu(this)}}}catch(c){}},oo.Wa=function(){if(this.a){var t=Tc(this.a),e=this.a.$();this.D<e.length&&(Su(this),wu(this,t,e),this.b&&4!=t&&Ou(this))}},oo.cancel=function(){this.A=!0,Iu(this)},oo.Va=function(){this.o=null;var t=_o();0<=t-this.T?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.c,this.l),2!=this.H&&(eu(3),ru(17)),Iu(this),this.h=2,Tu(this)):Cu(this,this.T-t)},(oo=ku.prototype).K=function(){ju(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},oo.L=function(){return ju(this),this.a.concat()},oo.get=function(t,e){return Nu(this.b,t)?this.b[t]:e},oo.set=function(t,e){Nu(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},oo.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var Du=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ru(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof Ru){this.a=void 0!==e?e:t.a,Vu(this,t.f),this.j=t.j,Lu(this,t.c),Mu(this,t.h),this.g=t.g,e=t.b;var n=new Yu;n.c=e.c,e.a&&(n.a=new ku(e.a),n.b=e.b),Fu(this,n),this.i=t.i}else t&&(n=String(t).match(Du))?(this.a=!!e,Vu(this,n[1]||"",!0),this.j=Hu(n[2]||""),Lu(this,n[3]||"",!0),Mu(this,n[4]),this.g=Hu(n[5]||"",!0),Fu(this,n[6]||"",!0),this.i=Hu(n[7]||"")):(this.a=!!e,this.b=new Yu(null,this.a))}function Pu(t){return new Ru(t)}function Vu(t,e,n){t.f=n?Hu(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function Lu(t,e,n){t.c=n?Hu(e,!0):e}function Mu(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function Fu(t,e,n){e instanceof Yu?(t.b=e,function(t,e){e&&!t.f&&(Zu(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Xu(this,e),tc(this,n,t))},t)),t.f=e}(t.b,t.a)):(n||(e=zu(e,Wu)),t.b=new Yu(e,t.a))}function Uu(t,e,n){t.b.set(e,n)}function qu(t){return Uu(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^_o()).toString(36)),t}function Hu(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zu(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Bu),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Bu(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}Ru.prototype.toString=function(){var t=[],e=this.f;e&&t.push(zu(e,Gu,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(zu(e,Gu,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(zu(n,"/"==n.charAt(0)?$u:Qu,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",zu(n,Ku)),t.join("")};var Gu=/[#\/\?@]/g,Qu=/[#\?:]/g,$u=/[#\?]/g,Wu=/[#\?@]/g,Ku=/#/g;function Yu(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Zu(t){t.a||(t.a=new ku,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Xu(t,e){Zu(t),e=ec(t,e),Nu(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Nu((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&ju(t)))}function Ju(t,e){return Zu(t),e=ec(t,e),Nu(t.a.b,e)}function tc(t,e,n){Xu(t,e),0<n.length&&(t.c=null,t.a.set(ec(t,e),To(n)),t.b+=n.length)}function ec(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}(oo=Yu.prototype).add=function(t,e){Zu(this),this.c=null,t=ec(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},oo.forEach=function(t,e){Zu(this),this.a.forEach(function(n,r){Co(n,function(n){t.call(e,n,r,this)},this)},this)},oo.L=function(){Zu(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},oo.K=function(t){Zu(this);var e=[];if("string"==typeof t)Ju(this,t)&&(e=So(e,this.a.get(ec(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=So(e,t[n])}return e},oo.set=function(t,e){return Zu(this),this.c=null,Ju(this,t=ec(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},oo.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},oo.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.c=t.join("&")};var nc=function(){return function(t,e){this.b=t,this.a=e}}();function rc(t){this.g=t||ic,t=co.PerformanceNavigationTiming?0<(t=co.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(co.ia&&co.ia.ya&&co.ia.ya()&&co.ia.ya().Lb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}var ic=10;function sc(t){return!!t.b||!!t.a&&t.a.size>=t.f}function oc(t){return t.b?1:t.a?t.a.size:0}function ac(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function uc(t,e){t.a?t.a.add(e):t.b=e}function cc(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function lc(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=so(t.a.values()),s=i.next();!s.done;s=i.next())r=r.concat(s.value.s)}catch(o){e={error:o}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return To(t.c)}function hc(){}function fc(){this.a=new hc}function dc(t,e,n){var r=n||"";try{Au(t,function(t,n){var i=t;fo(t)&&(i=Aa(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(v_){throw e.push(r+"type="+encodeURIComponent("_badmap")),v_}}function pc(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}rc.prototype.cancel=function(){var t,e;if(this.c=lc(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=so(this.a.values()),r=n.next();!r.done;r=n.next())r.value.cancel()}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},hc.prototype.stringify=function(t){return co.JSON.stringify(t,void 0)},hc.prototype.parse=function(t){return co.JSON.parse(t,void 0)};var mc=co.JSON.parse;function gc(t){Ta.call(this),this.headers=new ku,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=yc,this.D=this.F=!1}wo(gc,Ta);var yc="",bc=/^https?$/i,vc=["POST","PUT"];function _c(t){return"content-type"==t.toLowerCase()}function wc(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Ec(t),Cc(t)}function Ec(t){t.u||(t.u=!0,Ia(t,"complete"),Ia(t,"error"))}function Oc(t){if(t.b&&void 0!==uo&&(!t.s[1]||4!=Tc(t)||2!=t.W()))if(t.l&&4==Tc(t))Ha(t.za,0,t);else if(Ia(t,"readystatechange"),4==Tc(t)){t.b=!1;try{var e,n=t.W();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var s=String(t.B).match(Du)[1]||null;if(!s&&co.self&&co.self.location){var o=co.self.location.protocol;s=o.substr(0,o.length-1)}i=!bc.test(s?s.toLowerCase():"")}e=i}if(e)Ia(t,"complete"),Ia(t,"success");else{t.h=6;try{var a=2<Tc(t)?t.a.statusText:""}catch(n){a=""}t.f=a+" ["+t.W()+"]",Ec(t)}}finally{Cc(t)}}}function Cc(t,e){if(t.a){Sc(t);var n=t.a,r=t.s[0]?lo:null;t.a=null,t.s=null,e||Ia(t,"ready");try{n.onreadystatechange=r}catch(v_){}}}function Sc(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(co.clearTimeout(t.m),t.m=null)}function Tc(t){return t.a?t.a.readyState:0}function Ic(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return Ro(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):Uu(t,e,n))}function xc(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Ac(t){this.pa=0,this.g=[],this.c=new Ka,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.V=this.i=this.O=this.l=null,this.Oa=this.R=0,this.La=xc("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.S=!0,this.I=this.oa=this.P=-1,this.T=this.o=this.u=0,this.Ha=xc("baseRetryDelayMs",5e3,t),this.Ra=xc("retryDelaySeedMs",1e4,t),this.Ma=xc("forwardChannelMaxRetries",2,t),this.ma=xc("forwardChannelRequestTimeoutMs",2e4,t),this.Na=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new rc(t&&t.concurrentRequestLimit),this.ka=new fc,this.da=t&&t.fastHandshake||!1,this.Ia=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.S=!1),this.U=!this.da&&this.S&&t&&t.detectBufferingProxy||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null,(this.Ka=t&&t.c||!1)&&this.c.info("Opt-in to enable Chrome Origin Trials.")}function kc(t){if(Nc(t),3==t.v){var e=t.R++,n=Pu(t.B);Uu(n,"SID",t.J),Uu(n,"RID",e),Uu(n,"TYPE","terminate"),Vc(t,n),(e=new mu(t,t.c,e,void 0)).H=2,e.i=qu(Pu(n)),n=!1,co.navigator&&co.navigator.sendBeacon&&(n=co.navigator.sendBeacon(e.i.toString(),"")),!n&&co.Image&&((new Image).src=e.i,n=!0),n||(e.a=Wc(e.g,null),e.a.ba(e.i)),e.u=_o(),Ou(e)}Qc(t)}function jc(t){t.a&&(Uc(t),t.a.cancel(),t.a=null)}function Nc(t){jc(t),t.j&&(co.clearTimeout(t.j),t.j=null),Hc(t),t.b.cancel(),t.h&&("number"==typeof t.h&&co.clearTimeout(t.h),t.h=null)}function Dc(t,e){t.g.push(new nc(t.Oa++,e)),3==t.v&&Rc(t)}function Rc(t){sc(t.b)||t.h||(t.h=!0,Va(t.Ba,t),t.u=0)}function Pc(t,e){var n;n=e?e.f:t.R++;var r=Pu(t.B);Uu(r,"SID",t.J),Uu(r,"RID",n),Uu(r,"AID",t.P),Vc(t,r),t.i&&t.l&&Ic(r,t.i,t.l),n=new mu(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=Lc(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),uc(t.b,n),vu(n,r,e)}function Vc(t,e){t.f&&Au({},function(t,n){Uu(e,n,t)})}function Lc(t,e,n){n=Math.min(t.g.length,n);var r=t.f?bo(t.f.Ja,t.f,t):null;t:for(var i=t.g,s=-1;;){var o=["count="+n];-1==s?0<n?o.push("ofs="+(s=i[0].b)):s=0:o.push("ofs="+s);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=s))s=Math.max(0,i[u].b-100),a=!1;else try{dc(l,o,"req"+c+"_")}catch(kl){r&&r(l)}}if(a){r=o.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function Mc(t){t.a||t.j||(t.T=1,Va(t.Aa,t),t.o=0)}function Fc(t){return!(t.a||t.j||3<=t.o||(t.T++,t.j=su(bo(t.Aa,t),Bc(t,t.o)),t.o++,0))}function Uc(t){null!=t.s&&(co.clearTimeout(t.s),t.s=null)}function qc(t){t.a=new mu(t,t.c,"rpc",t.T),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=Pu(t.la);Uu(e,"RID","rpc"),Uu(e,"SID",t.J),Uu(e,"CI",t.H?"0":"1"),Uu(e,"AID",t.P),Vc(t,e),Uu(e,"TYPE","xmlhttp"),t.i&&t.l&&Ic(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=qu(Pu(e)),n.j=null,n.I=!0,_u(n,t)}function Hc(t){null!=t.m&&(co.clearTimeout(t.m),t.m=null)}function zc(t,e){var n=null;if(t.a==e){Hc(t),Uc(t),t.a=null;var r=2}else{if(!ac(t.b,e))return;n=e.s,cc(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=_o()-e.u;var i=t.u;Ia(r=Ja(),new iu(r,n,e,i)),Rc(t)}else Mc(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(oc(t.b)>=t.b.f-(t.h?1:0)||(t.h?(t.g=e.s.concat(t.g),0):1==t.v||2==t.v||t.u>=(t.La?0:t.Ma)||(t.h=su(bo(t.Ba,t,e),Bc(t,t.u)),t.u++,0)))}(t,e)||2==r&&Fc(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Gc(t,5);break;case 4:Gc(t,10);break;case 3:Gc(t,6);break;default:Gc(t,2)}}function Bc(t,e){var n=t.Ha+Math.floor(Math.random()*t.Ra);return t.f||(n*=2),n*e}function Gc(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=bo(t.Ya,t);n||(n=new Ru("//www.google.com/images/cleardot.gif"),co.location&&"http"==co.location.protocol||Vu(n,"https"),qu(n)),function(t,e){var n=new Ka;if(co.Image){var r=new Image;r.onload=vo(pc,n,r,"TestLoadImage: loaded",!0,e),r.onerror=vo(pc,n,r,"TestLoadImage: error",!1,e),r.onabort=vo(pc,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=vo(pc,n,r,"TestLoadImage: timeout",!1,e),co.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else ru(2);t.v=0,t.f&&t.f.ra(e),Qc(t),Nc(t)}function Qc(t){t.v=0,t.I=-1,t.f&&(0==lc(t.b).length&&0==t.g.length||(t.b.c.length=0,To(t.g),t.g.length=0),t.f.qa())}function $c(t,e,n){var r=function(t){return t instanceof Ru?Pu(t):new Ru(t,void 0)}(n);if(""!=r.c)e&&Lu(r,e+"."+r.c),Mu(r,r.h);else{var i=co.location;r=function(t,e,n,r){var i=new Ru(null,void 0);return t&&Vu(i,t),e&&Lu(i,e),n&&Mu(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.V&&Ro(t.V,function(t,e){Uu(r,e,t)}),n=t.na,(e=t.A)&&n&&Uu(r,e,n),Uu(r,"VER",t.ha),Vc(t,r),r}function Wc(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new gc(t.Na)).F=t.C,e}function Kc(){}function Yc(){if(Ho&&!(10<=Number(Jo)))throw Error("Environmental error: no available transport.")}function Zc(t,e){Ta.call(this),this.a=new Ac(e),this.o=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Io(t)&&(this.a.i=t),this.m=e&&e.supportsCrossDomainXhr||!1,this.l=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Io(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&e in(t=this.b)&&delete t[e]),this.f=new tl(this)}function Xc(t){fu.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Jc(){du.call(this),this.status=1}function tl(t){this.a=t}(oo=gc.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=function(t){var e;return(e=t.a)||(e=t.a={}),e}(this.H?this.H:lu),this.a.onreadystatechange=bo(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(s){return void wc(this,s)}t=n||"";var i=new ku(this.headers);r&&Au(r,function(t,e){i.set(e,t)}),r=function(t){t:{for(var e=_c,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=co.FormData&&t instanceof co.FormData,!(0<=Oo(vc,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.a.setRequestHeader(e,t)},this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Sc(this),0<this.o&&((this.D=function(t){return Ho&&Xo(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=bo(this.xa,this)):this.m=Ha(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(s){wc(this,s)}},oo.xa=function(){void 0!==uo&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,Ia(this,"timeout"),this.abort(8))},oo.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,Ia(this,"complete"),Ia(this,"abort"),Cc(this))},oo.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Cc(this,!0)),gc.X.G.call(this)},oo.za=function(){this.j||(this.A||this.l||this.g?Oc(this):this.Ua())},oo.Ua=function(){Oc(this)},oo.W=function(){try{return 2<Tc(this)?this.a.status:-1}catch(Uo){return-1}},oo.$=function(){try{return this.a?this.a.responseText:""}catch(Uo){return""}},oo.Pa=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),mc(e)}},oo.ua=function(){return this.h},oo.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(oo=Ac.prototype).ha=8,oo.v=1,oo.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new mu(this,this.c,t,void 0),r=this.l;if(this.O&&(r?Lo(r=Po(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var s=this.g[i];if(void 0===(s="__data__"in s.a&&"string"==typeof(s=s.a.__data__)?s.length:void 0))break;if(4096<(e+=s)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=Lc(this,n,e),Uu(i=Pu(this.B),"RID",t),Uu(i,"CVER",22),this.A&&Uu(i,"X-HTTP-Session-Id",this.A),Vc(this,i),this.i&&r&&Ic(i,this.i,r),uc(this.b,n),this.Ia&&Uu(i,"TYPE","init"),this.da?(Uu(i,"$req",e),Uu(i,"SID","null"),n.U=!0,vu(n,i,null)):vu(n,i,e),this.v=2}}else 3==this.v&&(t?Pc(this,t):0==this.g.length||sc(this.b)||Pc(this))},oo.Aa=function(){if(this.j=null,qc(this),this.U&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=su(bo(this.Ta,this),t)}},oo.Ta=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ru(10),jc(this),qc(this))},oo.Sa=function(){null!=this.m&&(this.m=null,jc(this),Fc(this),ru(19))},oo.Ya=function(t){t?(this.c.info("Successfully pinged google.com"),ru(2)):(this.c.info("Failed to ping google.com"),ru(1))},(oo=Kc.prototype).ta=function(){},oo.sa=function(){},oo.ra=function(){},oo.qa=function(){},oo.Ja=function(){},Yc.prototype.a=function(t,e){return new Zc(t,e)},wo(Zc,Ta),Zc.prototype.g=function(){this.a.f=this.f,this.m&&(this.a.C=!0);var t=this.a,e=this.o,n=this.b||void 0;ru(0),t.fa=e,t.V=n||{},t.H=t.S,t.B=$c(t,null,t.fa),Rc(t)},Zc.prototype.close=function(){kc(this.a)},Zc.prototype.h=function(t){if("string"==typeof t){var e={};e.__data__=t,Dc(this.a,e)}else this.l?((e={}).__data__=Aa(t),Dc(this.a,e)):Dc(this.a,t)},Zc.prototype.G=function(){this.a.f=null,delete this.f,kc(this.a),delete this.a,Zc.X.G.call(this)},wo(Xc,fu),wo(Jc,du),wo(tl,Kc),tl.prototype.ta=function(){Ia(this.a,"a")},tl.prototype.sa=function(t){Ia(this.a,new Xc(t))},tl.prototype.ra=function(t){Ia(this.a,new Jc(t))},tl.prototype.qa=function(){Ia(this.a,"b")},Yc.prototype.createWebChannel=Yc.prototype.a,Zc.prototype.send=Zc.prototype.h,Zc.prototype.open=Zc.prototype.g,Zc.prototype.close=Zc.prototype.close,ou.NO_ERROR=0,ou.TIMEOUT=8,ou.HTTP_ERROR=6,au.COMPLETE="complete",cu.EventType=hu,hu.OPEN="a",hu.CLOSE="b",hu.ERROR="c",hu.MESSAGE="d",Ta.prototype.listen=Ta.prototype.va,gc.prototype.listenOnce=gc.prototype.wa,gc.prototype.getLastError=gc.prototype.Qa,gc.prototype.getLastErrorCode=gc.prototype.ua,gc.prototype.getStatus=gc.prototype.W,gc.prototype.getResponseJson=gc.prototype.Pa,gc.prototype.getResponseText=gc.prototype.$,gc.prototype.send=gc.prototype.ba;var el=ou,nl=au,rl=Za,il=cu,sl=gc,ol=n("30Go"),al=function(t,e,n,r,i,s){this.t=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i,this.i=s},ul=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"o",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t}(),cl=new no.b("@firebase/firestore");function ll(){return cl.logLevel}function hl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cl.logLevel<=no.a.DEBUG){var r=e.map(pl);cl.debug.apply(cl,Object(ol.g)(["Firestore (8.2.6): "+t],r))}}function fl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cl.logLevel<=no.a.ERROR){var r=e.map(pl);cl.error.apply(cl,Object(ol.g)(["Firestore (8.2.6): "+t],r))}}function dl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(cl.logLevel<=no.a.WARN){var r=e.map(pl);cl.warn.apply(cl,Object(ol.g)(["Firestore (8.2.6): "+t],r))}}function pl(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(v_){return t}}function ml(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (8.2.6) INTERNAL ASSERTION FAILED: "+t;throw fl(e),new Error(e)}function gl(t,e){t||ml()}function yl(t,e){return t}function bl(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vl=function(){function t(){}return t.u=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=bl(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function _l(t,e){return t<e?-1:t>e?1:0}function wl(t,e,n){return t.length===e.length&&t.every(function(t,r){return n(t,e[r])})}function El(t){return t+"\0"}var Ol=function(){function t(t){this.h=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return btoa(this.h)},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.h)},t.prototype.l=function(){return 2*this.h.length},t.prototype._=function(t){return _l(this.h,t.h)},t.prototype.isEqual=function(t){return this.h===t.h},t}();Ol.T=new Ol("");var Cl={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Sl=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Object(ol.c)(e,t),e}(Error),Tl=function(){function t(t){this.I=t}return t.fromBase64String=function(e){try{return new t(Ol.fromBase64String(e))}catch(e){throw new Sl(Cl.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}},t.fromUint8Array=function(e){return new t(Ol.fromUint8Array(e))},t.prototype.toBase64=function(){return this.I.toBase64()},t.prototype.toUint8Array=function(){return this.I.toUint8Array()},t.prototype.toString=function(){return"Bytes(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.I.isEqual(t.I)},t}(),Il=function(){function t(t){this.uid=t}return t.prototype.m=function(){return null!=this.uid},t.prototype.A=function(){return this.m()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();Il.UNAUTHENTICATED=new Il(null),Il.R=new Il("google-credentials-uid"),Il.P=new Il("first-party-uid");var xl=function(t,e){this.user=e,this.type="OAuth",this.g={},this.g.Authorization="Bearer "+t},Al=function(){function t(){this.V=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.p=function(){},t.prototype.v=function(t){this.V=t,t(Il.UNAUTHENTICATED)},t.prototype.S=function(){this.V=null},t}(),kl=function(){function t(t){var e=this;this.D=null,this.currentUser=Il.UNAUTHENTICATED,this.C=!1,this.N=0,this.V=null,this.forceRefresh=!1,this.D=function(){e.N++,e.currentUser=e.F(),e.C=!0,e.V&&e.V(e.currentUser)},this.N=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.D):(this.D(null),t.get().then(function(t){e.auth=t,e.D&&e.auth.addAuthTokenListener(e.D)},function(){}))}return t.prototype.getToken=function(){var t=this,e=this.N,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(function(n){return t.N!==e?(hl("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(gl("string"==typeof n.accessToken),new xl(n.accessToken,t.currentUser)):null}):Promise.resolve(null)},t.prototype.p=function(){this.forceRefresh=!0},t.prototype.v=function(t){this.V=t,this.C&&t(this.currentUser)},t.prototype.S=function(){this.auth&&this.auth.removeAuthTokenListener(this.D),this.D=null,this.V=null},t.prototype.F=function(){var t=this.auth&&this.auth.getUid();return gl(null===t||"string"==typeof t),new Il(t)},t}(),jl=function(){function t(t,e){this.O=t,this.k=e,this.type="FirstParty",this.user=Il.P}return Object.defineProperty(t.prototype,"g",{get:function(){var t={"X-Goog-AuthUser":this.k},e=this.O.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),Nl=function(){function t(t,e){this.O=t,this.k=e}return t.prototype.getToken=function(){return Promise.resolve(new jl(this.O,this.k))},t.prototype.v=function(t){t(Il.P)},t.prototype.S=function(){},t.prototype.p=function(){},t}(),Dl=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.M=function(t){return n.L(t)},this.$=function(t){return e.B(t)})}return t.prototype.L=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.$&&this.$(t),t},t}();Dl.q=-1;var Rl=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Sl(Cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Sl(Cl.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Sl(Cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Sl(Cl.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.U=function(t){return this.seconds===t.seconds?_l(this.nanoseconds,t.nanoseconds):_l(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.toJSON=function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}},t.prototype.valueOf=function(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),Pl=function(){function t(t){this.timestamp=t}return t.K=function(e){return new t(e)},t.min=function(){return new t(new Rl(0,0))},t.prototype._=function(t){return this.timestamp.U(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.W=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.j=function(){return this.timestamp},t}(),Vl=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&ml(),void 0===n?n=t.length-e:n>t.length-e&&ml(),this.segments=t,this.offset=e,this.G=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.G},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.H(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):n.push(e),this.J(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.Y=function(t){return this.J(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)},t.prototype.X=function(){return this.J(this.segments,this.offset,this.length-1)},t.prototype.Z=function(){return this.segments[this.offset]},t.prototype.tt=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype.et=function(){return 0===this.length},t.prototype.nt=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.st=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.it=function(){return this.segments.slice(this.offset,this.limit())},t.H=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),s=e.get(r);if(i<s)return-1;if(i>s)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Ll=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.prototype.rt=function(){return this.it().join("/")},e.prototype.toString=function(){return this.rt()},e.ot=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i];if(o.indexOf("//")>=0)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid segment ("+o+"). Paths must not contain // in them.");r.push.apply(r,o.split("/").filter(function(t){return t.length>0}))}return new e(r)},e.ct=function(){return new e([])},e}(Vl),Ml=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.J=function(t,n,r){return new e(t,n,r)},e.at=function(t){return Ml.test(t)},e.prototype.rt=function(){return this.it().map(function(t){return t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),e.at(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.rt()},e.prototype.ut=function(){return 1===this.length&&"__name__"===this.get(0)},e.ht=function(){return new e(["__name__"])},e.lt=function(t){for(var n=[],r="",i=0,s=function(){if(0===r.length)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},o=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Sl(Cl.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Sl(Cl.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Sl(Cl.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.ct=function(){return new e([])},e}(Vl),Ul=function(){function t(t){this.path=t}return t._t=function(e){return new t(Ll.ot(e))},t.ft=function(e){return new t(Ll.ot(e).Y(5))},t.prototype.dt=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===Ll.H(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.H=function(t,e){return Ll.H(t.path,e.path)},t.wt=function(t){return t.length%2==0},t.Et=function(e){return new t(new Ll(e.slice()))},t}();function ql(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hl(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function zl(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Bl=function(){function t(t){this.fields=t,t.sort(Fl.H)}return t.prototype.Tt=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].nt(t))return!0;return!1},t.prototype.isEqual=function(t){return wl(this.fields,t.fields,function(t,e){return t.isEqual(e)})},t}(),Gl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ql(t){if(gl(!!t),"string"==typeof t){var e=0,n=Gl.exec(t);if(gl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:$l(t.seconds),nanos:$l(t.nanos)}}function $l(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function Wl(t){return"string"==typeof t?Ol.fromBase64String(t):Ol.fromUint8Array(t)}function Kl(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Yl(t){var e=t.mapValue.fields.__previous_value__;return Kl(e)?Yl(e):e}function Zl(t){var e=Ql(t.mapValue.fields.__local_write_time__.timestampValue);return new Rl(e.seconds,e.nanos)}function Xl(t){return null==t}function Jl(t){return 0===t&&1/t==-1/0}function th(t){return"number"==typeof t&&Number.isInteger(t)&&!Jl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}function eh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Kl(t)?4:10:ml()}function nh(t,e){var n=eh(t);if(n!==eh(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zl(t).isEqual(Zl(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=Ql(t.timestampValue),r=Ql(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return Wl(t.bytesValue).isEqual(Wl(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return $l(t.geoPointValue.latitude)===$l(e.geoPointValue.latitude)&&$l(t.geoPointValue.longitude)===$l(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return $l(t.integerValue)===$l(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=$l(t.doubleValue),r=$l(e.doubleValue);return n===r?Jl(n)===Jl(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return wl(t.arrayValue.values||[],e.arrayValue.values||[],nh);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ql(n)!==ql(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!nh(n[i],r[i])))return!1;return!0}(t,e);default:return ml()}}function rh(t,e){return void 0!==(t.values||[]).find(function(t){return nh(t,e)})}function ih(t,e){var n=eh(t),r=eh(e);if(n!==r)return _l(n,r);switch(n){case 0:return 0;case 1:return _l(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=$l(t.integerValue||t.doubleValue),r=$l(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return sh(t.timestampValue,e.timestampValue);case 4:return sh(Zl(t),Zl(e));case 5:return _l(t.stringValue,e.stringValue);case 6:return function(t,e){var n=Wl(t),r=Wl(e);return n._(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var s=_l(n[i],r[i]);if(0!==s)return s}return _l(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=_l($l(t.latitude),$l(e.latitude));return 0!==n?n:_l($l(t.longitude),$l(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var s=ih(n[i],r[i]);if(s)return s}return _l(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(var o=0;o<r.length&&o<s.length;++o){var a=_l(r[o],s[o]);if(0!==a)return a;var u=ih(n[r[o]],i[s[o]]);if(0!==u)return u}return _l(r.length,s.length)}(t.mapValue,e.mapValue);default:throw ml()}}function sh(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return _l(t,e);var n=Ql(t),r=Ql(e),i=_l(n.seconds,r.seconds);return 0!==i?i:_l(n.nanos,r.nanos)}function oh(t){return ah(t)}function ah(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){var e=Ql(t);return"time("+e.seconds+","+e.nanos+")"}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Wl(t.bytesValue).toBase64():"referenceValue"in t?Ul.ft(t.referenceValue).toString():"geoPointValue"in t?"geo("+(e=t.geoPointValue).latitude+","+e.longitude+")":"arrayValue"in t?function(t){for(var e="[",n=!0,r=0,i=t.values||[];r<i.length;r++)n?n=!1:e+=",",e+=ah(i[r]);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){for(var e="{",n=!0,r=0,i=Object.keys(t.fields||{}).sort();r<i.length;r++){var s=i[r];n?n=!1:e+=",",e+=s+":"+ah(t.fields[s])}return e+"}"}(t.mapValue):ml();var e}function uh(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.rt()}}function ch(t){return!!t&&"integerValue"in t}function lh(t){return!!t&&"arrayValue"in t}function hh(t){return!!t&&"nullValue"in t}function fh(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function dh(t){return!!t&&"mapValue"in t}var ph=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t.et())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!dh(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.tt()])||null},t.prototype.isEqual=function(t){return nh(this.proto,t.proto)},t}(),mh=function(){function t(t){void 0===t&&(t=ph.empty()),this.It=t,this.At=new Map}return t.prototype.set=function(t,e){return this.Rt(t,e),this},t.prototype.delete=function(t){return this.Rt(t,null),this},t.prototype.Rt=function(t,e){for(var n=this.At,r=0;r<t.length-1;++r){var i=t.get(r),s=n.get(i);s instanceof Map?n=s:s&&10===eh(s)?(s=new Map(Object.entries(s.mapValue.fields||{})),n.set(i,s),n=s):(s=new Map,n.set(i,s),n=s)}n.set(t.tt(),e)},t.prototype.Pt=function(){var t=this.yt(Fl.ct(),this.At);return null!=t?new ph(t):this.It},t.prototype.yt=function(t,e){var n=this,r=!1,i=this.It.field(t),s=dh(i)?Object.assign({},i.mapValue.fields):{};return e.forEach(function(e,i){if(e instanceof Map){var o=n.yt(t.child(i),e);null!=o&&(s[i]=o,r=!0)}else null!==e?(s[i]=e,r=!0):s.hasOwnProperty(i)&&(delete s[i],r=!0)}),r?{mapValue:{fields:s}}:null},t}();function gh(t){var e=[];return Hl(t.fields||{},function(t,n){var r=new Fl([t]);if(dh(n)){var i=gh(n.mapValue).fields;if(0===i.length)e.push(r);else for(var s=0,o=i;s<o.length;s++)e.push(r.child(o[s]))}else e.push(r)}),new Bl(e)}var yh=function(t,e){this.key=t,this.version=e},bh=function(t){function e(e,n,r,i){var s=this;return(s=t.call(this,e,n)||this).gt=r,s.Vt=!!i.Vt,s.hasCommittedMutations=!!i.hasCommittedMutations,s}return Object(ol.c)(e,t),e.prototype.field=function(t){return this.gt.field(t)},e.prototype.data=function(){return this.gt},e.prototype.bt=function(){return this.gt.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Vt===t.Vt&&this.hasCommittedMutations===t.hasCommittedMutations&&this.gt.isEqual(t.gt)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.gt.toString()+", {hasLocalMutations: "+this.Vt+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Vt||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(yh),vh=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Object(ol.c)(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yh),_h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(yh),wh=function(t,e,n,r,i,s,o){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.vt=null};function Eh(t,e,n,r,i,s,o){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s=null),void 0===o&&(o=null),new wh(t,e,n,r,i,s,o)}function Oh(t){var e=yl(t);if(null===e.vt){var n=e.path.rt();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(function(t){return function(t){return t.field.rt()+t.op.toString()+oh(t.value)}(t)}).join(","),n+="|ob:",n+=e.orderBy.map(function(t){return function(t){return t.field.rt()+t.dir}(t)}).join(","),Xl(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Vh(e.startAt)),e.endAt&&(n+="|ub:",n+=Vh(e.endAt)),e.vt=n}return e.vt}function Ch(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!Mh(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if((i=t.filters[r]).op!==(s=e.filters[r]).op||!i.field.isEqual(s.field)||!nh(i.value,s.value))return!1;var i,s;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Uh(t.startAt,e.startAt)&&Uh(t.endAt,e.endAt)}function Sh(t){return Ul.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}var Th=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return Object(ol.c)(e,t),e.create=function(t,n,r){return t.ut()?"in"===n||"not-in"===n?this.St(t,n,r):new Ih(t,n,r):"array-contains"===n?new jh(t,r):"in"===n?new Nh(t,r):"not-in"===n?new Dh(t,r):"array-contains-any"===n?new Rh(t,r):new e(t,n,r)},e.St=function(t,e,n){return"in"===e?new xh(t,n):new Ah(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.Dt(ih(e,this.value)):null!==e&&eh(this.value)===eh(e)&&this.Dt(ih(e,this.value))},e.prototype.Dt=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return ml()}},e.prototype.Ct=function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0},e}(function(){}),Ih=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=Ul.ft(r.referenceValue),i}return Object(ol.c)(e,t),e.prototype.matches=function(t){var e=Ul.H(t.key,this.key);return this.Dt(e)},e}(Th),xh=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=kh(0,n),r}return Object(ol.c)(e,t),e.prototype.matches=function(t){return this.keys.some(function(e){return e.isEqual(t.key)})},e}(Th),Ah=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=kh(0,n),r}return Object(ol.c)(e,t),e.prototype.matches=function(t){return!this.keys.some(function(e){return e.isEqual(t.key)})},e}(Th);function kh(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(function(t){return Ul.ft(t.referenceValue)})}var jh=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return Object(ol.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return lh(e)&&rh(e.arrayValue,this.value)},e}(Th),Nh=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return Object(ol.c)(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&rh(this.value.arrayValue,e)},e}(Th),Dh=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return Object(ol.c)(e,t),e.prototype.matches=function(t){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var e=t.field(this.field);return null!==e&&!rh(this.value.arrayValue,e)},e}(Th),Rh=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return Object(ol.c)(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!lh(n)||!n.arrayValue.values)&&n.arrayValue.values.some(function(t){return rh(e.value.arrayValue,t)})},e}(Th),Ph=function(t,e){this.position=t,this.before=e};function Vh(t){return(t.before?"b":"a")+":"+t.position.map(function(t){return oh(t)}).join(",")}var Lh=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function Mh(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function Fh(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var s=e[i],o=t.position[i];if(r=s.field.ut()?Ul.H(Ul.ft(o.referenceValue),n.key):ih(o,n.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function Uh(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!nh(t.position[n],e.position[n]))return!1;return!0}var qh=function(t,e,n,r,i,s,o,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===s&&(s="F"),void 0===o&&(o=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.xt=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Nt=null,this.Ft=null};function Hh(t,e,n,r,i,s,o,a){return new qh(t,e,n,r,i,s,o,a)}function zh(t){return new qh(t)}function Bh(t){return!Xl(t.limit)&&"F"===t.limitType}function Gh(t){return!Xl(t.limit)&&"L"===t.limitType}function Qh(t){return t.xt.length>0?t.xt[0].field:null}function $h(t){for(var e=0,n=t.filters;e<n.length;e++){var r=n[e];if(r.Ct())return r.field}return null}function Wh(t){return null!==t.collectionGroup}function Kh(t){var e=yl(t);if(null===e.Nt){e.Nt=[];var n=$h(e),r=Qh(e);if(null!==n&&null===r)n.ut()||e.Nt.push(new Lh(n)),e.Nt.push(new Lh(Fl.ht(),"asc"));else{for(var i=!1,s=0,o=e.xt;s<o.length;s++){var a=o[s];e.Nt.push(a),a.field.ut()&&(i=!0)}if(!i){var u=e.xt.length>0?e.xt[e.xt.length-1].dir:"asc";e.Nt.push(new Lh(Fl.ht(),u))}}}return e.Nt}function Yh(t){var e=yl(t);if(!e.Ft)if("F"===e.limitType)e.Ft=Eh(e.path,e.collectionGroup,Kh(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Kh(e);r<i.length;r++){var s=i[r];n.push(new Lh(s.field,"desc"===s.dir?"asc":"desc"))}var o=e.endAt?new Ph(e.endAt.position,!e.endAt.before):null,a=e.startAt?new Ph(e.startAt.position,!e.startAt.before):null;e.Ft=Eh(e.path,e.collectionGroup,n,e.filters,e.limit,o,a)}return e.Ft}function Zh(t,e,n){return new qh(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Xh(t,e){return Ch(Yh(t),Yh(e))&&t.limitType===e.limitType}function Jh(t){return Oh(Yh(t))+"|lt:"+t.limitType}function tf(t){return"Query(target="+function(t){var e=t.path.rt();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map(function(t){return(e=t).field.rt()+" "+e.op+" "+oh(e.value);var e}).join(", ")+"]"),Xl(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map(function(t){return function(t){return t.field.rt()+" ("+t.dir+")"}(t)}).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Vh(t.startAt)),t.endAt&&(e+=", endAt: "+Vh(t.endAt)),"Target("+e+")"}(Yh(t))+"; limitType="+t.limitType+")"}function ef(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.dt(t.collectionGroup)&&t.path.nt(n):Ul.wt(t.path)?t.path.isEqual(n):t.path.st(n)}(t,e)&&function(t,e){for(var n=0,r=t.xt;n<r.length;n++){var i=r[n];if(!i.field.ut()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Fh(t.startAt,Kh(t),e)||t.endAt&&Fh(t.endAt,Kh(t),e))}(t,e)}function nf(t){return function(e,n){for(var r=!1,i=0,s=Kh(t);i<s.length;i++){var o=s[i],a=rf(o,e,n);if(0!==a)return a;r=r||o.field.ut()}return 0}}function rf(t,e,n){var r=t.field.ut()?Ul.H(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?ih(r,i):ml()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ml()}}var sf=function(){function t(t,e,n,r,i,s,o){void 0===i&&(i=Pl.min()),void 0===s&&(s=Pl.min()),void 0===o&&(o=Ol.T),this.target=t,this.targetId=e,this.Ot=n,this.sequenceNumber=r,this.kt=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}return t.prototype.Mt=function(e){return new t(this.target,this.targetId,this.Ot,e,this.kt,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.Lt=function(e,n){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.$t=function(e){return new t(this.target,this.targetId,this.Ot,this.sequenceNumber,this.kt,e,this.resumeToken)},t}();function of(t,e){if(t.Bt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jl(e)?"-0":e}}function af(t){return{integerValue:""+t}}function uf(t,e){return th(e)?af(e):of(t,e)}var cf=function(){this.qt=void 0};function lf(t,e,n){return t instanceof df?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof pf?mf(t,e):t instanceof gf?yf(t,e):function(t,e){var n=ff(t,e),r=vf(n)+vf(t.Ut);return ch(n)&&ch(t.Ut)?af(r):of(t.Qt,r)}(t,e)}function hf(t,e,n){return t instanceof pf?mf(t,e):t instanceof gf?yf(t,e):n}function ff(t,e){return t instanceof bf?ch(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var df=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e}(cf),pf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ol.c)(e,t),e}(cf);function mf(t,e){for(var n=_f(e),r=function(t){n.some(function(e){return nh(e,t)})||n.push(t)},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var gf=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return Object(ol.c)(e,t),e}(cf);function yf(t,e){for(var n=_f(e),r=function(t){n=n.filter(function(e){return!nh(e,t)})},i=0,s=t.elements;i<s.length;i++)r(s[i]);return{arrayValue:{values:n}}}var bf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Qt=e,r.Ut=n,r}return Object(ol.c)(e,t),e}(cf);function vf(t){return $l(t.integerValue||t.doubleValue)}function _f(t){return lh(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}var wf=function(t,e){this.field=t,this.transform=e},Ef=function(t,e){this.version=t,this.transformResults=e},Of=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Kt=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Wt",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function Cf(t,e){return void 0!==t.updateTime?e instanceof bh&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof bh}var Sf=function(){};function Tf(t,e,n){return t instanceof jf?function(t,e,n){var r=t.value;if(n.transformResults){var i=Rf(t.fieldTransforms,e,n.transformResults);r=Vf(t.fieldTransforms,r,i)}return new bh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Nf?function(t,e,n){if(!Cf(t.jt,e))return new _h(t.key,n.version);var r=Df(t,e,n.transformResults?Rf(t.fieldTransforms,e,n.transformResults):[]);return new bh(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new vh(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function If(t,e,n){return t instanceof jf?function(t,e,n){if(!Cf(t.jt,e))return e;var r=t.value,i=Pf(t.fieldTransforms,n,e);r=Vf(t.fieldTransforms,r,i);var s=kf(e);return new bh(t.key,s,r,{Vt:!0})}(t,e,n):t instanceof Nf?function(t,e,n){if(!Cf(t.jt,e))return e;var r=kf(e),i=Df(t,e,Pf(t.fieldTransforms,n,e));return new bh(t.key,r,i,{Vt:!0})}(t,e,n):function(t,e){return Cf(t.jt,e)?new vh(t.key,Pl.min()):e}(t,e)}function xf(t,e){return function(t,e){for(var n=null,r=0,i=t;r<i.length;r++){var s=i[r],o=e instanceof bh?e.field(s.field):void 0,a=ff(s.transform,o||null);null!=a&&(n=null==n?(new mh).set(s.field,a):n.set(s.field,a))}return n?n.Pt():null}(t.fieldTransforms,e)}function Af(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.jt.isEqual(e.jt)&&!!function(t,e){return void 0===t&&void 0===e||!(!t||!e)&&wl(t,e,function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof pf&&e instanceof pf||t instanceof gf&&e instanceof gf?wl(t.elements,e.elements,nh):t instanceof bf&&e instanceof bf?nh(t.Ut,e.Ut):t instanceof df&&e instanceof df}(t.transform,e.transform)}(t,e)})}(t.fieldTransforms,e.fieldTransforms)&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.Gt.isEqual(e.Gt))}function kf(t){return t instanceof bh?t.version:Pl.min()}var jf=function(t){function e(e,n,r,i){void 0===i&&(i=[]);var s=this;return(s=t.call(this)||this).key=e,s.value=n,s.jt=r,s.fieldTransforms=i,s.type=0,s}return Object(ol.c)(e,t),e}(Sf),Nf=function(t){function e(e,n,r,i,s){void 0===s&&(s=[]);var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Gt=r,o.jt=i,o.fieldTransforms=s,o.type=1,o}return Object(ol.c)(e,t),e}(Sf);function Df(t,e,n){var r;return r=function(t,e){var n=new mh(e);return t.Gt.fields.forEach(function(e){if(!e.et()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}}),n.Pt()}(t,r=e instanceof bh?e.data():ph.empty()),Vf(t.fieldTransforms,r,n)}function Rf(t,e,n){var r=[];gl(t.length===n.length);for(var i=0;i<n.length;i++){var s=t[i],o=s.transform,a=null;e instanceof bh&&(a=e.field(s.field)),r.push(hf(o,a,n[i]))}return r}function Pf(t,e,n){for(var r=[],i=0,s=t;i<s.length;i++){var o=s[i],a=o.transform,u=null;n instanceof bh&&(u=n.field(o.field)),r.push(lf(a,u,e))}return r}function Vf(t,e,n){for(var r=new mh(e),i=0;i<t.length;i++)r.set(t[i].field,n[i]);return r.Pt()}var Lf,Mf,Ff=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=2,r.fieldTransforms=[],r}return Object(ol.c)(e,t),e}(Sf),Uf=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.jt=n,r.type=3,r.fieldTransforms=[],r}return Object(ol.c)(e,t),e}(Sf),qf=function(t){this.count=t};function Hf(t){switch(t){case Cl.OK:return ml();case Cl.CANCELLED:case Cl.UNKNOWN:case Cl.DEADLINE_EXCEEDED:case Cl.RESOURCE_EXHAUSTED:case Cl.INTERNAL:case Cl.UNAVAILABLE:case Cl.UNAUTHENTICATED:return!1;case Cl.INVALID_ARGUMENT:case Cl.NOT_FOUND:case Cl.ALREADY_EXISTS:case Cl.PERMISSION_DENIED:case Cl.FAILED_PRECONDITION:case Cl.ABORTED:case Cl.OUT_OF_RANGE:case Cl.UNIMPLEMENTED:case Cl.DATA_LOSS:return!0;default:return ml()}}function zf(t){if(void 0===t)return fl("GRPC error has no .code"),Cl.UNKNOWN;switch(t){case Lf.OK:return Cl.OK;case Lf.CANCELLED:return Cl.CANCELLED;case Lf.UNKNOWN:return Cl.UNKNOWN;case Lf.DEADLINE_EXCEEDED:return Cl.DEADLINE_EXCEEDED;case Lf.RESOURCE_EXHAUSTED:return Cl.RESOURCE_EXHAUSTED;case Lf.INTERNAL:return Cl.INTERNAL;case Lf.UNAVAILABLE:return Cl.UNAVAILABLE;case Lf.UNAUTHENTICATED:return Cl.UNAUTHENTICATED;case Lf.INVALID_ARGUMENT:return Cl.INVALID_ARGUMENT;case Lf.NOT_FOUND:return Cl.NOT_FOUND;case Lf.ALREADY_EXISTS:return Cl.ALREADY_EXISTS;case Lf.PERMISSION_DENIED:return Cl.PERMISSION_DENIED;case Lf.FAILED_PRECONDITION:return Cl.FAILED_PRECONDITION;case Lf.ABORTED:return Cl.ABORTED;case Lf.OUT_OF_RANGE:return Cl.OUT_OF_RANGE;case Lf.UNIMPLEMENTED:return Cl.UNIMPLEMENTED;case Lf.DATA_LOSS:return Cl.DATA_LOSS;default:return ml()}}(Mf=Lf||(Lf={}))[Mf.OK=0]="OK",Mf[Mf.CANCELLED=1]="CANCELLED",Mf[Mf.UNKNOWN=2]="UNKNOWN",Mf[Mf.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mf[Mf.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mf[Mf.NOT_FOUND=5]="NOT_FOUND",Mf[Mf.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mf[Mf.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mf[Mf.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mf[Mf.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mf[Mf.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mf[Mf.ABORTED=10]="ABORTED",Mf[Mf.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mf[Mf.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mf[Mf.INTERNAL=13]="INTERNAL",Mf[Mf.UNAVAILABLE=14]="UNAVAILABLE",Mf[Mf.DATA_LOSS=15]="DATA_LOSS";var Bf=function(){function t(t,e){this.H=t,this.root=e||Qf.EMPTY}return t.prototype.zt=function(e,n){return new t(this.H,this.root.zt(e,n,this.H).copy(null,null,Qf.Ht,null,null))},t.prototype.remove=function(e){return new t(this.H,this.root.remove(e,this.H).copy(null,null,Qf.Ht,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.et();){var n=this.H(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.et();){var r=this.H(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.et=function(){return this.root.et()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.Jt=function(){return this.root.Jt()},t.prototype.Yt=function(){return this.root.Yt()},t.prototype.Xt=function(t){return this.root.Xt(t)},t.prototype.forEach=function(t){this.Xt(function(e,n){return t(e,n),!1})},t.prototype.toString=function(){var t=[];return this.Xt(function(e,n){return t.push(e+":"+n),!1}),"{"+t.join(", ")+"}"},t.prototype.Zt=function(t){return this.root.Zt(t)},t.prototype.te=function(){return new Gf(this.root,null,this.H,!1)},t.prototype.ee=function(t){return new Gf(this.root,t,this.H,!1)},t.prototype.ne=function(){return new Gf(this.root,null,this.H,!0)},t.prototype.se=function(t){return new Gf(this.root,t,this.H,!0)},t}(),Gf=function(){function t(t,e,n,r){this.ie=r,this.re=[];for(var i=1;!t.et();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.ie?t.left:t.right;else{if(0===i){this.re.push(t);break}this.re.push(t),t=this.ie?t.right:t.left}}return t.prototype.oe=function(){var t=this.re.pop(),e={key:t.key,value:t.value};if(this.ie)for(t=t.left;!t.et();)this.re.push(t),t=t.right;else for(t=t.right;!t.et();)this.re.push(t),t=t.left;return e},t.prototype.ce=function(){return this.re.length>0},t.prototype.ae=function(){if(0===this.re.length)return null;var t=this.re[this.re.length-1];return{key:t.key,value:t.value}},t}(),Qf=function(){function t(e,n,r,i,s){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=s?s:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,s){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=s?s:this.right)},t.prototype.et=function(){return!1},t.prototype.Xt=function(t){return this.left.Xt(t)||t(this.key,this.value)||this.right.Xt(t)},t.prototype.Zt=function(t){return this.right.Zt(t)||t(this.key,this.value)||this.left.Zt(t)},t.prototype.min=function(){return this.left.et()?this:this.left.min()},t.prototype.Jt=function(){return this.min().key},t.prototype.Yt=function(){return this.right.et()?this.key:this.right.Yt()},t.prototype.zt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.zt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.zt(t,e,n))).ue()},t.prototype.he=function(){if(this.left.et())return t.EMPTY;var e=this;return e.left.le()||e.left.left.le()||(e=e._e()),(e=e.copy(null,null,null,e.left.he(),null)).ue()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.et()||i.left.le()||i.left.left.le()||(i=i._e()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.le()&&(i=i.fe()),i.right.et()||i.right.le()||i.right.left.le()||(i=i.de()),0===n(e,i.key)){if(i.right.et())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.he())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.ue()},t.prototype.le=function(){return this.color},t.prototype.ue=function(){var t=this;return t.right.le()&&!t.left.le()&&(t=t.we()),t.left.le()&&t.left.left.le()&&(t=t.fe()),t.left.le()&&t.right.le()&&(t=t.Ee()),t},t.prototype._e=function(){var t=this.Ee();return t.right.left.le()&&(t=(t=(t=t.copy(null,null,null,null,t.right.fe())).we()).Ee()),t},t.prototype.de=function(){var t=this.Ee();return t.left.left.le()&&(t=(t=t.fe()).Ee()),t},t.prototype.we=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.fe=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.Ee=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.Te=function(){var t=this.Ie();return Math.pow(2,t)<=this.size+1},t.prototype.Ie=function(){if(this.le()&&this.left.le())throw ml();if(this.right.le())throw ml();var t=this.left.Ie();if(t!==this.right.Ie())throw ml();return t+(this.le()?0:1)},t}();Qf.EMPTY=null,Qf.RED=!0,Qf.Ht=!1,Qf.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw ml()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw ml()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.zt=function(t,e,n){return new Qf(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.et=function(){return!0},t.prototype.Xt=function(t){return!1},t.prototype.Zt=function(t){return!1},t.prototype.Jt=function(){return null},t.prototype.Yt=function(){return null},t.prototype.le=function(){return!1},t.prototype.Te=function(){return!0},t.prototype.Ie=function(){return 0},t}());var $f=function(){function t(t){this.H=t,this.data=new Bf(this.H)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.Jt()},t.prototype.last=function(){return this.data.Yt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.Xt(function(e,n){return t(e),!1})},t.prototype.me=function(t,e){for(var n=this.data.ee(t[0]);n.ce();){var r=n.oe();if(this.H(r.key,t[1])>=0)return;e(r.key)}},t.prototype.Ae=function(t,e){var n;for(n=void 0!==e?this.data.ee(e):this.data.te();n.ce();)if(!t(n.oe().key))return},t.prototype.Re=function(t){var e=this.data.ee(t);return e.ce()?e.oe().key:null},t.prototype.te=function(){return new Wf(this.data.te())},t.prototype.ee=function(t){return new Wf(this.data.ee(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).zt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.et=function(){return this.data.et()},t.prototype.Pe=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.te(),r=e.data.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(0!==this.H(i,s))return!1}return!0},t.prototype.it=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.H);return n.data=e,n},t}(),Wf=function(){function t(t){this.ye=t}return t.prototype.oe=function(){return this.ye.oe().key},t.prototype.ce=function(){return this.ye.ce()},t}(),Kf=new Bf(Ul.H);function Yf(){return Kf}function Zf(){return Yf()}var Xf=new Bf(Ul.H);function Jf(){return Xf}var td=new Bf(Ul.H);function ed(){return td}var nd=new $f(Ul.H);function rd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=nd,r=0,i=t;r<i.length;r++){var s=i[r];n=n.add(s)}return n}var id=new $f(_l);function sd(){return id}var od=function(){function t(t){this.H=t?function(e,n){return t(e,n)||Ul.H(e.key,n.key)}:function(t,e){return Ul.H(t.key,e.key)},this.ge=Jf(),this.Ve=new Bf(this.H)}return t.pe=function(e){return new t(e.H)},t.prototype.has=function(t){return null!=this.ge.get(t)},t.prototype.get=function(t){return this.ge.get(t)},t.prototype.first=function(){return this.Ve.Jt()},t.prototype.last=function(){return this.Ve.Yt()},t.prototype.et=function(){return this.Ve.et()},t.prototype.indexOf=function(t){var e=this.ge.get(t);return e?this.Ve.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.Ve.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.Ve.Xt(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.ge.zt(t.key,t),e.Ve.zt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.ge.remove(t),this.Ve.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.Ve.te(),r=e.Ve.te();n.ce();){var i=n.oe().key,s=r.oe().key;if(!i.isEqual(s))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.H=this.H,r.ge=e,r.Ve=n,r},t}(),ad=function(){function t(){this.be=new Bf(Ul.H)}return t.prototype.track=function(t){var e=t.doc.key,n=this.be.get(e);n?0!==t.type&&3===n.type?this.be=this.be.zt(e,t):3===t.type&&1!==n.type?this.be=this.be.zt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.be=this.be.zt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.be=this.be.remove(e):1===t.type&&2===n.type?this.be=this.be.zt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.be=this.be.zt(e,{type:2,doc:t.doc}):ml():this.be=this.be.zt(e,t)},t.prototype.ve=function(){var t=[];return this.be.Xt(function(e,n){t.push(n)}),t},t}(),ud=function(){function t(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.Se=n,this.docChanges=r,this.De=i,this.fromCache=s,this.Ce=o,this.xe=a}return t.Ne=function(e,n,r,i){var s=[];return n.forEach(function(t){s.push({type:0,doc:t})}),new t(e,n,od.pe(n),s,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.De.et()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.Ce===t.Ce&&this.De.isEqual(t.De)&&Xh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Se.isEqual(t.Se)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),cd=function(){function t(t,e,n,r,i){this.kt=t,this.Fe=e,this.Oe=n,this.ke=r,this.Me=i}return t.Le=function(e,n){var r=new Map;return r.set(e,ld.$e(e,n)),new t(Pl.min(),r,sd(),Yf(),rd())},t}(),ld=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Be=e,this.qe=n,this.Ue=r,this.Qe=i}return t.$e=function(e,n){return new t(Ol.T,n,rd(),rd(),rd())},t}(),hd=function(t,e,n,r){this.Ke=t,this.removedTargetIds=e,this.key=n,this.We=r},fd=function(t,e){this.targetId=t,this.je=e},dd=function(t,e,n,r){void 0===n&&(n=Ol.T),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},pd=function(){function t(){this.Ge=0,this.ze=yd(),this.He=Ol.T,this.Je=!1,this.Ye=!0}return Object.defineProperty(t.prototype,"Be",{get:function(){return this.Je},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.He},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Xe",{get:function(){return 0!==this.Ge},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"Ze",{get:function(){return this.Ye},enumerable:!1,configurable:!0}),t.prototype.tn=function(t){t.l()>0&&(this.Ye=!0,this.He=t)},t.prototype.en=function(){var t=rd(),e=rd(),n=rd();return this.ze.forEach(function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:ml()}}),new ld(this.He,this.Je,t,e,n)},t.prototype.nn=function(){this.Ye=!1,this.ze=yd()},t.prototype.sn=function(t,e){this.Ye=!0,this.ze=this.ze.zt(t,e)},t.prototype.rn=function(t){this.Ye=!0,this.ze=this.ze.remove(t)},t.prototype.on=function(){this.Ge+=1},t.prototype.cn=function(){this.Ge-=1},t.prototype.an=function(){this.Ye=!0,this.Je=!0},t}(),md=function(){function t(t){this.un=t,this.hn=new Map,this.ln=Yf(),this._n=gd(),this.fn=new $f(_l)}return t.prototype.dn=function(t){for(var e=0,n=t.Ke;e<n.length;e++){var r=n[e];t.We instanceof bh?this.wn(r,t.We):t.We instanceof vh&&this.En(r,t.key,t.We)}for(var i=0,s=t.removedTargetIds;i<s.length;i++)this.En(r=s[i],t.key,t.We)},t.prototype.Tn=function(t){var e=this;this.In(t,function(n){var r=e.mn(n);switch(t.state){case 0:e.An(n)&&r.tn(t.resumeToken);break;case 1:r.cn(),r.Xe||r.nn(),r.tn(t.resumeToken);break;case 2:r.cn(),r.Xe||e.removeTarget(n);break;case 3:e.An(n)&&(r.an(),r.tn(t.resumeToken));break;case 4:e.An(n)&&(e.Rn(n),r.tn(t.resumeToken));break;default:ml()}})},t.prototype.In=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.hn.forEach(function(t,r){n.An(r)&&e(r)})},t.prototype.Pn=function(t){var e=t.targetId,n=t.je.count,r=this.yn(e);if(r){var i=r.target;if(Sh(i))if(0===n){var s=new Ul(i.path);this.En(e,s,new vh(s,Pl.min()))}else gl(1===n);else this.gn(e)!==n&&(this.Rn(e),this.fn=this.fn.add(e))}},t.prototype.Vn=function(t){var e=this,n=new Map;this.hn.forEach(function(r,i){var s=e.yn(i);if(s){if(r.Be&&Sh(s.target)){var o=new Ul(s.target.path);null!==e.ln.get(o)||e.pn(i,o)||e.En(i,o,new vh(o,t))}r.Ze&&(n.set(i,r.en()),r.nn())}});var r=rd();this._n.forEach(function(t,n){var i=!0;n.Ae(function(t){var n=e.yn(t);return!n||2===n.Ot||(i=!1,!1)}),i&&(r=r.add(t))});var i=new cd(t,n,this.fn,this.ln,r);return this.ln=Yf(),this._n=gd(),this.fn=new $f(_l),i},t.prototype.wn=function(t,e){if(this.An(t)){var n=this.pn(t,e.key)?2:0;this.mn(t).sn(e.key,n),this.ln=this.ln.zt(e.key,e),this._n=this._n.zt(e.key,this.bn(e.key).add(t))}},t.prototype.En=function(t,e,n){if(this.An(t)){var r=this.mn(t);this.pn(t,e)?r.sn(e,1):r.rn(e),this._n=this._n.zt(e,this.bn(e).delete(t)),n&&(this.ln=this.ln.zt(e,n))}},t.prototype.removeTarget=function(t){this.hn.delete(t)},t.prototype.gn=function(t){var e=this.mn(t).en();return this.un.vn(t).size+e.qe.size-e.Qe.size},t.prototype.on=function(t){this.mn(t).on()},t.prototype.mn=function(t){var e=this.hn.get(t);return e||(e=new pd,this.hn.set(t,e)),e},t.prototype.bn=function(t){var e=this._n.get(t);return e||(e=new $f(_l),this._n=this._n.zt(t,e)),e},t.prototype.An=function(t){var e=null!==this.yn(t);return e||hl("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.yn=function(t){var e=this.hn.get(t);return e&&e.Xe?null:this.un.Sn(t)},t.prototype.Rn=function(t){var e=this;this.hn.set(t,new pd),this.un.vn(t).forEach(function(n){e.En(t,n,null)})},t.prototype.pn=function(t,e){return this.un.vn(t).has(e)},t}();function gd(){return new Bf(Ul.H)}function yd(){return new Bf(Ul.H)}var bd={asc:"ASCENDING",desc:"DESCENDING"},vd={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_d=function(t,e){this.t=t,this.Bt=e};function wd(t,e){return t.Bt?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ed(t,e){return t.Bt?e.toBase64():e.toUint8Array()}function Od(t,e){return wd(t,e.j())}function Cd(t){return gl(!!t),Pl.K(function(t){var e=Ql(t);return new Rl(e.seconds,e.nanos)}(t))}function Sd(t,e){return function(t){return new Ll(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).rt()}function Td(t){var e=Ll.ot(t);return gl(Yd(e)),e}function Id(t,e){return Sd(t.t,e.path)}function xd(t,e){var n=Td(e);if(n.get(1)!==t.t.projectId)throw new Sl(Cl.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.t.projectId);if(n.get(3)!==t.t.database)throw new Sl(Cl.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.t.database);return new Ul(Nd(n))}function Ad(t,e){return Sd(t.t,e)}function kd(t){var e=Td(t);return 4===e.length?Ll.ct():Nd(e)}function jd(t){return new Ll(["projects",t.t.projectId,"databases",t.t.database]).rt()}function Nd(t){return gl(t.length>4&&"documents"===t.get(4)),t.Y(5)}function Dd(t,e,n){return{name:Id(t,e),fields:n.proto.mapValue.fields}}function Rd(t,e,n){var r=xd(t,e.name),i=Cd(e.updateTime),s=new ph({mapValue:{fields:e.fields}});return new bh(r,i,s,{hasCommittedMutations:!!n})}function Pd(t,e){var n;if(e instanceof jf)n={update:Dd(t,e.key,e.value)};else if(e instanceof Ff)n={delete:Id(t,e.key)};else if(e instanceof Nf)n={update:Dd(t,e.key,e.data),updateMask:Kd(e.Gt)};else{if(!(e instanceof Uf))return ml();n={verify:Id(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(function(t){return function(t,e){var n=e.transform;if(n instanceof df)return{fieldPath:e.field.rt(),setToServerValue:"REQUEST_TIME"};if(n instanceof pf)return{fieldPath:e.field.rt(),appendMissingElements:{values:n.elements}};if(n instanceof gf)return{fieldPath:e.field.rt(),removeAllFromArray:{values:n.elements}};if(n instanceof bf)return{fieldPath:e.field.rt(),increment:n.Ut};throw ml()}(0,t)})),e.jt.Wt||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Od(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:ml()}(t,e.jt)),n}function Vd(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?Of.updateTime(Cd(t.updateTime)):void 0!==t.exists?Of.exists(t.exists):Of.Kt()}(e.currentDocument):Of.Kt(),r=e.updateTransforms?e.updateTransforms.map(function(e){return function(t,e){var n=null;"setToServerValue"in e?(gl("REQUEST_TIME"===e.setToServerValue),n=new df):"appendMissingElements"in e?n=new pf(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new gf(e.removeAllFromArray.values||[]):"increment"in e?n=new bf(t,e.increment):ml();var r=Fl.lt(e.fieldPath);return new wf(r,n)}(t,e)}):[];if(e.update){var i=xd(t,e.update.name),s=new ph({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){return new Bl((t.fieldPaths||[]).map(function(t){return Fl.lt(t)}))}(e.updateMask);return new Nf(i,s,o,n,r)}return new jf(i,s,n,r)}if(e.delete){var a=xd(t,e.delete);return new Ff(a,n)}if(e.verify){var u=xd(t,e.verify);return new Uf(u,n)}return ml()}function Ld(t,e){return{documents:[Ad(t,e.path)]}}function Md(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Ad(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Ad(t,r.X()),n.structuredQuery.from=[{collectionId:r.tt()}]);var i=function(t){if(0!==t.length){var e=t.map(function(t){return function(t){if("=="===t.op){if(fh(t.value))return{unaryFilter:{field:Gd(t.field),op:"IS_NAN"}};if(hh(t.value))return{unaryFilter:{field:Gd(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(fh(t.value))return{unaryFilter:{field:Gd(t.field),op:"IS_NOT_NAN"}};if(hh(t.value))return{unaryFilter:{field:Gd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gd(t.field),op:Bd(t.op),value:t.value}}}(t)});return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var s=function(t){if(0!==t.length)return t.map(function(t){return function(t){return{field:Gd(t.field),direction:zd(t.dir)}}(t)})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);var o=function(t,e){return t.Bt||Xl(e)?e:{value:e}}(t,e.limit);return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=qd(e.startAt)),e.endAt&&(n.structuredQuery.endAt=qd(e.endAt)),n}function Fd(t){var e=kd(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){gl(1===r);var s=n.from[0];s.allDescendants?i=s.collectionId:e=e.child(s.collectionId)}var o=[];n.where&&(o=Ud(n.where));var a=[];n.orderBy&&(a=n.orderBy.map(function(t){return function(t){return new Lh(Qd(t.field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction))}(t)}));var u=null;n.limit&&(u=function(t){var e;return Xl(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Hd(n.startAt));var l=null;return n.endAt&&(l=Hd(n.endAt)),Hh(e,i,a,o,u,"F",c,l)}function Ud(t){return t?void 0!==t.unaryFilter?[Wd(t)]:void 0!==t.fieldFilter?[$d(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return Ud(t)}).reduce(function(t,e){return t.concat(e)}):ml():[]}function qd(t){return{before:t.before,values:t.position}}function Hd(t){return new Ph(t.values||[],!!t.before)}function zd(t){return bd[t]}function Bd(t){return vd[t]}function Gd(t){return{fieldPath:t.rt()}}function Qd(t){return Fl.lt(t.fieldPath)}function $d(t){return Th.create(Qd(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return ml()}}(t.fieldFilter.op),t.fieldFilter.value)}function Wd(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Qd(t.unaryFilter.field);return Th.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Qd(t.unaryFilter.field);return Th.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Qd(t.unaryFilter.field);return Th.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Qd(t.unaryFilter.field);return Th.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return ml()}}function Kd(t){var e=[];return t.fields.forEach(function(t){return e.push(t.rt())}),{fieldPaths:e}}function Yd(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}var Zd=function(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})},Xd=function(){function t(t){var e=this;this.Dn=null,this.Cn=null,this.result=void 0,this.error=void 0,this.xn=!1,this.Nn=!1,t(function(t){e.xn=!0,e.result=t,e.Dn&&e.Dn(t)},function(t){e.xn=!0,e.error=t,e.Cn&&e.Cn(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.Nn&&ml(),this.Nn=!0,this.xn?this.error?this.Fn(n,this.error):this.On(e,this.result):new t(function(t,i){r.Dn=function(n){r.On(e,n).next(t,i)},r.Cn=function(e){r.Fn(n,e).next(t,i)}})},t.prototype.kn=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.Mn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.On=function(e,n){return e?this.Mn(function(){return e(n)}):t.resolve(n)},t.prototype.Fn=function(e,n){return e?this.Mn(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.Ln=function(e){return new t(function(t,n){var r=0,i=0,s=!1;e.forEach(function(e){++r,e.next(function(){++i,s&&i===r&&t()},function(t){return n(t)})}),s=!0,i===r&&t()})},t.$n=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next(function(n){return n?t.resolve(n):e()})},i=0,s=e;i<s.length;i++)r(s[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.Ln(r)},t}(),Jd=function(){function t(t,e){var n=this;this.action=t,this.transaction=e,this.aborted=!1,this.Bn=new Zd,this.transaction.oncomplete=function(){n.Bn.resolve()},this.transaction.onabort=function(){e.error?n.Bn.reject(new np(t,e.error)):n.Bn.resolve()},this.transaction.onerror=function(e){var r=ap(e.target.error);n.Bn.reject(new np(t,r))}}return t.open=function(e,n,r,i){try{return new t(n,e.transaction(i,r))}catch(e){throw new np(n,e)}},Object.defineProperty(t.prototype,"qn",{get:function(){return this.Bn.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Bn.reject(t),this.aborted||(hl("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new ip(e)},t}(),tp=function(){function t(e,n,r){this.name=e,this.version=n,this.Un=r,12.2===t.Qn(Object(ro.g)())&&fl("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return hl("SimpleDb","Removing database:",t),sp(window.indexedDB.deleteDatabase(t)).kn()},t.Kn=function(){if("undefined"==typeof indexedDB)return!1;if(t.Wn())return!0;var e=Object(ro.g)(),n=t.Qn(e),r=0<n&&n<10,i=t.jn(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)},t.Wn=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Gn)},t.zn=function(t,e){return t.store(e)},t.Qn=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.jn=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Hn=function(t){return Object(ol.b)(this,void 0,void 0,function(){var e,n=this;return Object(ol.d)(this,function(r){switch(r.label){case 0:return this.db?[3,2]:(hl("SimpleDb","Opening database:",this.name),e=this,[4,new Promise(function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){e(t.target.result)},i.onblocked=function(){r(new np(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;r("VersionError"===n.name?new Sl(Cl.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):new np(t,n))},i.onupgradeneeded=function(t){hl("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',t.oldVersion),n.Un.Jn(t.target.result,i.transaction,t.oldVersion,n.version).next(function(){hl("SimpleDb","Database upgrade to version "+n.version+" complete")})}})]);case 1:e.db=r.sent(),r.label=2;case 2:return[2,(this.Yn&&(this.db.onversionchange=function(t){return n.Yn(t)}),this.db)]}})})},t.prototype.Xn=function(t){this.Yn=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n,r){return Object(ol.b)(this,void 0,void 0,function(){var i,s,o,a,u;return Object(ol.d)(this,function(c){switch(c.label){case 0:i="readonly"===e,s=0,o=function(){var e,o,u,c,l;return Object(ol.d)(this,function(h){switch(h.label){case 0:++s,h.label=1;case 1:return h.trys.push([1,4,,5]),[4,a.Hn(t)];case 2:return a.db=h.sent(),e=Jd.open(a.db,t,i?"readonly":"readwrite",n),o=r(e).catch(function(t){return e.abort(t),Xd.reject(t)}).kn(),u={},o.catch(function(){}),[4,e.qn];case 3:return[2,(u.value=(h.sent(),o),u)];case 4:return hl("SimpleDb","Transaction failed with error:",(c=h.sent()).message,"Retrying:",l="FirebaseError"!==c.name&&s<3),a.close(),l?[3,5]:[2,{value:Promise.reject(c)}];case 5:return[2]}})},a=this,c.label=1;case 1:return[5,o()];case 2:if("object"==typeof(u=c.sent()))return[2,u.value];c.label=3;case 3:return[3,1];case 4:return[2]}})})},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),ep=function(){function t(t){this.Zn=t,this.ts=!1,this.es=null}return Object.defineProperty(t.prototype,"xn",{get:function(){return this.ts},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ns",{get:function(){return this.es},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Zn=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.ts=!0},t.prototype.ss=function(t){this.es=t},t.prototype.delete=function(){return sp(this.Zn.delete())},t}(),np=function(t){function e(e,n){var r=this;return(r=t.call(this,Cl.UNAVAILABLE,"IndexedDB transaction '"+e+"' failed: "+n)||this).name="IndexedDbTransactionError",r}return Object(ol.c)(e,t),e}(Sl);function rp(t){return"IndexedDbTransactionError"===t.name}var ip=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(hl("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(hl("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),sp(n)},t.prototype.add=function(t){return hl("SimpleDb","ADD",this.store.name,t,t),sp(this.store.add(t))},t.prototype.get=function(t){var e=this;return sp(this.store.get(t)).next(function(n){return void 0===n&&(n=null),hl("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return hl("SimpleDb","DELETE",this.store.name,t),sp(this.store.delete(t))},t.prototype.count=function(){return hl("SimpleDb","COUNT",this.store.name),sp(this.store.count())},t.prototype.rs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.os(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.cs=function(t,e){hl("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.us=!1;var r=this.cursor(n);return this.os(r,function(t,e,n){return n.delete()})},t.prototype.hs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.os(r,e)},t.prototype.ls=function(t){var e=this.cursor({});return new Xd(function(n,r){e.onerror=function(t){var e=ap(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next(function(t){t?r.continue():n()}):n()}})},t.prototype.os=function(t,e){var n=[];return new Xd(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var s=new ep(i),o=e(i.primaryKey,i.value,s);if(o instanceof Xd){var a=o.catch(function(t){return s.done(),Xd.reject(t)});n.push(a)}s.xn?r():null===s.ns?i.continue():i.continue(s.ns)}else r()}}).next(function(){return Xd.Ln(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.us?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function sp(t){return new Xd(function(e,n){t.onsuccess=function(t){e(t.target.result)},t.onerror=function(t){var e=ap(t.target.error);n(e)}})}var op=!1;function ap(t){var e=tp.Qn(Object(ro.g)());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Sl("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return op||(op=!0,setTimeout(function(){throw r},0)),r}}return t}var up=function(){function t(t,e,n,r,i){this._s=t,this.fs=e,this.ds=n,this.op=r,this.ws=i,this.Es=new Zd,this.then=this.Es.promise.then.bind(this.Es.promise),this.Es.promise.catch(function(t){})}return t.Ts=function(e,n,r,i,s){var o=new t(e,n,Date.now()+r,i,s);return o.start(r),o},t.prototype.start=function(t){var e=this;this.Is=setTimeout(function(){return e.As()},t)},t.prototype.Rs=function(){return this.As()},t.prototype.cancel=function(t){null!==this.Is&&(this.clearTimeout(),this.Es.reject(new Sl(Cl.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.As=function(){var t=this;this._s.Ps(function(){return null!==t.Is?(t.clearTimeout(),t.op().then(function(e){return t.Es.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.Is&&(this.ws(this),clearTimeout(this.Is),this.Is=null)},t}();function cp(t,e){if(fl("AsyncQueue",e+": "+t),rp(t))return new Sl(Cl.UNAVAILABLE,e+": "+t);throw t}var lp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hp=function(){function t(){this.ys=[]}return t.prototype.gs=function(t){this.ys.push(t)},t.prototype.Vs=function(){this.ys.forEach(function(t){return t()})},t}();function fp(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=pp(e)),e=dp(t.get(n),e);return pp(e)}function dp(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var s=t.charAt(i);switch(s){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=s}}return n}function pp(t){return t+"\x01\x01"}function mp(t){var e=t.length;if(gl(e>=2),2===e)return gl("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),Ll.ct();for(var n=e-2,r=[],i="",s=0;s<e;){var o=t.indexOf("\x01",s);switch((o<0||o>n)&&ml(),t.charAt(o+1)){case"\x01":var a=t.substring(s,o),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"\x10":i+=t.substring(s,o),i+="\0";break;case"\x11":i+=t.substring(s,o+1);break;default:ml()}s=o+2}return new Ll(r)}var gp=function(t,e){this.seconds=t,this.nanoseconds=e},yp=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};yp.store="owner",yp.key="owner";var bp=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};bp.store="mutationQueues",bp.keyPath="userId";var vp=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};vp.store="mutations",vp.keyPath="batchId",vp.userMutationsIndex="userMutationsIndex",vp.userMutationsKeyPath=["userId","batchId"];var _p=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,fp(e)]},t.key=function(t,e,n){return[t,fp(e),n]},t}();_p.store="documentMutations",_p.PLACEHOLDER=new _p;var wp=function(t,e){this.path=t,this.readTime=e},Ep=function(t,e){this.path=t,this.version=e},Op=function(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s};Op.store="remoteDocuments",Op.readTimeIndex="readTimeIndex",Op.readTimeIndexPath="readTime",Op.collectionReadTimeIndex="collectionReadTimeIndex",Op.collectionReadTimeIndexPath=["parentPath","readTime"];var Cp=function(t){this.byteSize=t};Cp.store="remoteDocumentGlobal",Cp.key="remoteDocumentGlobalKey";var Sp=function(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o};Sp.store="targets",Sp.keyPath="targetId",Sp.queryTargetsIndexName="queryTargetsIndex",Sp.queryTargetsKeyPath=["canonicalId","targetId"];var Tp=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};Tp.store="targetDocuments",Tp.keyPath=["targetId","path"],Tp.documentTargetsIndex="documentTargetsIndex",Tp.documentTargetsKeyPath=["path","targetId"];var Ip=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};Ip.key="targetGlobalKey",Ip.store="targetGlobal";var xp=function(t,e){this.collectionId=t,this.parent=e};xp.store="collectionParents",xp.keyPath=["collectionId","parent"];var Ap=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};Ap.store="clientMetadata",Ap.keyPath="clientId";var kp=function(t,e,n){this.bundleId=t,this.createTime=e,this.version=n};kp.store="bundles",kp.keyPath="bundleId";var jp=function(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n};jp.store="namedQueries",jp.keyPath="name";var Np=Object(ol.g)(Object(ol.g)(Object(ol.g)(Object(ol.g)([bp.store,vp.store,_p.store,Op.store,Sp.store,yp.store,Ip.store,Tp.store],[Ap.store]),[Cp.store]),[xp.store]),[kp.store,jp.store]),Dp=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ps=e,r.bs=n,r}return Object(ol.c)(e,t),e}(hp);function Rp(t,e){var n=yl(t);return tp.zn(n.ps,e)}var Pp=function(){function t(t,e,n,r){this.batchId=t,this.vs=e,this.baseMutations=n,this.mutations=r}return t.prototype.Ss=function(t,e,n){for(var r=n.Ds,i=0;i<this.mutations.length;i++){var s=this.mutations[i];s.key.isEqual(t)&&(e=Tf(s,e,r[i]))}return e},t.prototype.Cs=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++)(o=r[n]).key.isEqual(t)&&(e=If(o,e,this.vs));for(var i=0,s=this.mutations;i<s.length;i++){var o;(o=s[i]).key.isEqual(t)&&(e=If(o,e,this.vs))}return e},t.prototype.xs=function(t){var e=this,n=t;return this.mutations.forEach(function(r){var i=e.Cs(r.key,t.get(r.key));i&&(n=n.zt(r.key,i))}),n},t.prototype.keys=function(){return this.mutations.reduce(function(t,e){return t.add(e.key)},rd())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&wl(this.mutations,t.mutations,function(t,e){return Af(t,e)})&&wl(this.baseMutations,t.baseMutations,function(t,e){return Af(t,e)})},t}(),Vp=function(){function t(t,e,n,r){this.batch=t,this.Ns=e,this.Ds=n,this.Fs=r}return t.from=function(e,n,r){gl(e.mutations.length===r.length);for(var i=ed(),s=e.mutations,o=0;o<s.length;o++)i=i.zt(s[o].key,r[o].version);return new t(e,n,r,i)},t}(),Lp=function(t){this.Os=t};function Mp(t,e){if(e.document)return Rd(t.Os,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=Ul.Et(e.noDocument.path),r=zp(e.noDocument.readTime);return new vh(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=Ul.Et(e.unknownDocument.path);return r=zp(e.unknownDocument.version),new _h(i,r)}return ml()}function Fp(t,e,n){var r=Up(n),i=e.key.path.X().it();if(e instanceof bh){var s=function(t,e){return{name:Id(t,e.key),fields:e.bt().mapValue.fields,updateTime:wd(t,e.version.j())}}(t.Os,e),o=e.hasCommittedMutations;return new Op(null,null,s,o,r,i)}if(e instanceof vh){var a=e.key.path.it(),u=Hp(e.version);return o=e.hasCommittedMutations,new Op(null,new wp(a,u),null,o,r,i)}if(e instanceof _h){var c=e.key.path.it(),l=Hp(e.version);return new Op(new Ep(c,l),null,null,!0,r,i)}return ml()}function Up(t){var e=t.j();return[e.seconds,e.nanoseconds]}function qp(t){var e=new Rl(t[0],t[1]);return Pl.K(e)}function Hp(t){var e=t.j();return new gp(e.seconds,e.nanoseconds)}function zp(t){var e=new Rl(t.seconds,t.nanoseconds);return Pl.K(e)}function Bp(t,e){for(var n=(e.baseMutations||[]).map(function(e){return Vd(t.Os,e)}),r=0;r<e.mutations.length-1;++r)r+1<e.mutations.length&&void 0!==e.mutations[r+1].transform&&(e.mutations[r].updateTransforms=e.mutations[r+1].transform.fieldTransforms,e.mutations.splice(r+1,1),++r);var i=e.mutations.map(function(e){return Vd(t.Os,e)}),s=Rl.fromMillis(e.localWriteTimeMs);return new Pp(e.batchId,s,n,i)}function Gp(t){var e,n,r=zp(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?zp(t.lastLimboFreeSnapshotVersion):Pl.min();return void 0!==t.query.documents?(gl(1===(n=t.query).documents.length),e=Yh(zh(kd(n.documents[0])))):e=function(t){return Yh(Fd(t))}(t.query),new sf(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Ol.fromBase64String(t.resumeToken))}function Qp(t,e){var n,r=Hp(e.kt),i=Hp(e.lastLimboFreeSnapshotVersion);n=Sh(e.target)?Ld(t.Os,e.target):Md(t.Os,e.target);var s=e.resumeToken.toBase64();return new Sp(e.targetId,Oh(e.target),r,s,e.sequenceNumber,i,n)}function $p(t){var e=Fd({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Zh(e,e.limit,"L"):e}var Wp=function(){function t(){}return t.prototype.ks=function(t,e){return Kp(t).get(e).next(function(t){if(t)return{id:(e=t).bundleId,createTime:zp(e.createTime),version:e.version};var e})},t.prototype.Ms=function(t,e){return Kp(t).put({bundleId:(n=e).id,createTime:Hp(Cd(n.createTime)),version:n.version});var n},t.prototype.Ls=function(t,e){return Yp(t).get(e).next(function(t){if(t)return{name:(e=t).name,query:$p(e.bundledQuery),readTime:zp(e.readTime)};var e})},t.prototype.$s=function(t,e){return Yp(t).put(function(t){return{name:t.name,readTime:Hp(Cd(t.readTime)),bundledQuery:t.bundledQuery}}(e))},t}();function Kp(t){return Rp(t,kp.store)}function Yp(t){return Rp(t,jp.store)}var Zp=function(){function t(){this.Bs=new Xp}return t.prototype.qs=function(t,e){return this.Bs.add(e),Xd.resolve()},t.prototype.Us=function(t,e){return Xd.resolve(this.Bs.getEntries(e))},t}(),Xp=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.tt(),n=t.X(),r=this.index[e]||new $f(Ll.H),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.tt(),n=t.X(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new $f(Ll.H)).it()},t}(),Jp=function(){function t(){this.Qs=new Xp}return t.prototype.qs=function(t,e){var n=this;if(!this.Qs.has(e)){var r=e.tt(),i=e.X();t.gs(function(){n.Qs.add(e)});var s={collectionId:r,parent:fp(i)};return tm(t).put(s)}return Xd.resolve()},t.prototype.Us=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[El(e),""],!1,!0);return tm(t).rs(r).next(function(t){for(var r=0,i=t;r<i.length;r++){var s=i[r];if(s.collectionId!==e)break;n.push(mp(s.parent))}return n})},t}();function tm(t){return Rp(t,xp.store)}var em={Ks:!1,Ws:0,js:0,Gs:0},nm=function(){function t(t,e,n){this.zs=t,this.Hs=e,this.Js=n}return t.Ys=function(e){return new t(e,t.Xs,t.Zs)},t}();function rm(t){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(e){if(t.code!==Cl.FAILED_PRECONDITION||t.message!==lp)throw t;return hl("LocalStore","Unexpectedly lost primary lease"),[2]})})}nm.Xs=10,nm.Zs=1e3,nm.ti=new nm(41943040,nm.Xs,nm.Zs),nm.ei=new nm(-1,0,0);var im=function(){function t(t,e){this.ni=t,this.si=e,this.ii={}}return t.prototype.get=function(t){var e=this.ni(t),n=this.ii[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var s=i[r],o=s[1];if(this.si(s[0],t))return o}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.ni(t),r=this.ii[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.si(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.ii[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.ni(t),n=this.ii[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.si(n[r][0],t))return 1===n.length?delete this.ii[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Hl(this.ii,function(e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];t(s[0],s[1])}})},t.prototype.et=function(){return zl(this.ii)},t}(),sm=function(){function t(){this.ri=new im(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),this.oi=!1}return t.prototype.ci=function(t){var e=this.ri.get(t);return e?e.readTime:Pl.min()},t.prototype.ai=function(t,e){this.ui(),this.ri.set(t.key,{hi:t,readTime:e})},t.prototype.li=function(t,e){void 0===e&&(e=null),this.ui(),this.ri.set(t,{hi:null,readTime:e})},t.prototype._i=function(t,e){this.ui();var n=this.ri.get(e);return void 0!==n?Xd.resolve(n.hi):this.fi(t,e)},t.prototype.getEntries=function(t,e){return this.di(t,e)},t.prototype.apply=function(t){return this.ui(),this.oi=!0,this.wi(t)},t.prototype.ui=function(){},t}();function om(t,e,n){var r=t.store(vp.store),i=t.store(_p.store),s=[],o=IDBKeyRange.only(n.batchId),a=0,u=r.hs({range:o},function(t,e,n){return a++,n.delete()});s.push(u.next(function(){gl(1===a)}));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],d=_p.key(e,f.key.path,n.batchId);s.push(i.delete(d)),c.push(f.key)}return Xd.Ln(s).next(function(){return c})}function am(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ml();e=t.noDocument}return JSON.stringify(e).length}var um=function(){function t(t,e,n,r){this.userId=t,this.Qt=e,this.Ei=n,this.Ti=r,this.Ii={}}return t.mi=function(e,n,r,i){return gl(""!==e.uid),new t(e.m()?e.uid:"",n,r,i)},t.prototype.Ai=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return lm(t).hs({index:vp.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.Ri=function(t,e,n,r){var i=this,s=hm(t),o=lm(t);return o.add({}).next(function(a){gl("number"==typeof a);for(var u=new Pp(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map(function(e){return Pd(t.Os,e)}),i=n.mutations.map(function(e){return Pd(t.Os,e)});return new vp(e,n.batchId,n.vs.toMillis(),r,i)}(i.Qt,i.userId,u),l=[],h=new $f(function(t,e){return _l(t.rt(),e.rt())}),f=0,d=r;f<d.length;f++){var p=d[f],m=_p.key(i.userId,p.key.path,a);h=h.add(p.key.path.X()),l.push(o.put(c)),l.push(s.put(m,_p.PLACEHOLDER))}return h.forEach(function(e){l.push(i.Ei.qs(t,e))}),t.gs(function(){i.Ii[a]=u.keys()}),Xd.Ln(l).next(function(){return u})})},t.prototype.Pi=function(t,e){var n=this;return lm(t).get(e).next(function(t){return t?(gl(t.userId===n.userId),Bp(n.Qt,t)):null})},t.prototype.yi=function(t,e){var n=this;return this.Ii[e]?Xd.resolve(this.Ii[e]):this.Pi(t,e).next(function(t){if(t){var r=t.keys();return n.Ii[e]=r,r}return null})},t.prototype.gi=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return lm(t).hs({index:vp.userMutationsIndex,range:i},function(t,e,i){e.userId===n.userId&&(gl(e.batchId>=r),s=Bp(n.Qt,e)),i.done()}).next(function(){return s})},t.prototype.Vi=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return lm(t).hs({index:vp.userMutationsIndex,range:e,reverse:!0},function(t,e,r){n=e.batchId,r.done()}).next(function(){return n})},t.prototype.pi=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return lm(t).rs(vp.userMutationsIndex,n).next(function(t){return t.map(function(t){return Bp(e.Qt,t)})})},t.prototype.bi=function(t,e){var n=this,r=_p.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),s=[];return hm(t).hs({range:i},function(r,i,o){var a=r[0],u=r[2],c=mp(r[1]);if(a===n.userId&&e.path.isEqual(c))return lm(t).get(u).next(function(t){if(!t)throw ml();gl(t.userId===n.userId),s.push(Bp(n.Qt,t))});o.done()}).next(function(){return s})},t.prototype.vi=function(t,e){var n=this,r=new $f(_l),i=[];return e.forEach(function(e){var s=_p.prefixForPath(n.userId,e.path),o=IDBKeyRange.lowerBound(s),a=hm(t).hs({range:o},function(t,i,s){var o=t[0],a=t[2],u=mp(t[1]);o===n.userId&&e.path.isEqual(u)?r=r.add(a):s.done()});i.push(a)}),Xd.Ln(i).next(function(){return n.Si(t,r)})},t.prototype.Di=function(t,e){var n=this,r=e.path,i=r.length+1,s=_p.prefixForPath(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new $f(_l);return hm(t).hs({range:o},function(t,e,s){var o=t[0],u=t[2],c=mp(t[1]);o===n.userId&&r.nt(c)?c.length===i&&(a=a.add(u)):s.done()}).next(function(){return n.Si(t,a)})},t.prototype.Si=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(lm(t).get(e).next(function(t){if(null===t)throw ml();gl(t.userId===n.userId),r.push(Bp(n.Qt,t))}))}),Xd.Ln(i).next(function(){return r})},t.prototype.Ci=function(t,e){var n=this;return om(t.ps,this.userId,e).next(function(r){return t.gs(function(){n.xi(e.batchId)}),Xd.forEach(r,function(e){return n.Ti.Ni(t,e)})})},t.prototype.xi=function(t){delete this.Ii[t]},t.prototype.Fi=function(t){var e=this;return this.Ai(t).next(function(n){if(!n)return Xd.resolve();var r=IDBKeyRange.lowerBound(_p.prefixForUser(e.userId)),i=[];return hm(t).hs({range:r},function(t,n,r){if(t[0]===e.userId){var s=mp(t[1]);i.push(s)}else r.done()}).next(function(){gl(0===i.length)})})},t.prototype.Oi=function(t,e){return cm(t,this.userId,e)},t.prototype.ki=function(t){var e=this;return fm(t).get(this.userId).next(function(t){return t||new bp(e.userId,-1,"")})},t}();function cm(t,e,n){var r=_p.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return hm(t).hs({range:s,us:!0},function(t,n,r){t[0]===e&&t[1]===i&&(o=!0),r.done()}).next(function(){return o})}function lm(t){return Rp(t,vp.store)}function hm(t){return Rp(t,_p.store)}function fm(t){return Rp(t,bp.store)}var dm=function(){function t(t){this.Mi=t}return t.prototype.next=function(){return this.Mi+=2,this.Mi},t.Li=function(){return new t(0)},t.$i=function(){return new t(-1)},t}(),pm=function(){function t(t,e){this.Ti=t,this.Qt=e}return t.prototype.Bi=function(t){var e=this;return this.qi(t).next(function(n){var r=new dm(n.highestTargetId);return n.highestTargetId=r.next(),e.Ui(t,n).next(function(){return n.highestTargetId})})},t.prototype.Qi=function(t){return this.qi(t).next(function(t){return Pl.K(new Rl(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.Ki=function(t){return this.qi(t).next(function(t){return t.highestListenSequenceNumber})},t.prototype.Wi=function(t,e,n){var r=this;return this.qi(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.j()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.Ui(t,i)})},t.prototype.ji=function(t,e){var n=this;return this.Gi(t,e).next(function(){return n.qi(t).next(function(r){return r.targetCount+=1,n.zi(e,r),n.Ui(t,r)})})},t.prototype.Hi=function(t,e){return this.Gi(t,e)},t.prototype.Ji=function(t,e){var n=this;return this.Yi(t,e.targetId).next(function(){return mm(t).delete(e.targetId)}).next(function(){return n.qi(t)}).next(function(e){return gl(e.targetCount>0),e.targetCount-=1,n.Ui(t,e)})},t.prototype.Xi=function(t,e,n){var r=this,i=0,s=[];return mm(t).hs(function(o,a){var u=Gp(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,s.push(r.Ji(t,u)))}).next(function(){return Xd.Ln(s)}).next(function(){return i})},t.prototype.In=function(t,e){return mm(t).hs(function(t,n){var r=Gp(n);e(r)})},t.prototype.qi=function(t){return gm(t).get(Ip.key).next(function(t){return gl(null!==t),t})},t.prototype.Ui=function(t,e){return gm(t).put(Ip.key,e)},t.prototype.Gi=function(t,e){return mm(t).put(Qp(this.Qt,e))},t.prototype.zi=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.Zi=function(t){return this.qi(t).next(function(t){return t.targetCount})},t.prototype.tr=function(t,e){var n=Oh(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return mm(t).hs({range:r,index:Sp.queryTargetsIndexName},function(t,n,r){var s=Gp(n);Ch(e,s.target)&&(i=s,r.done())}).next(function(){return i})},t.prototype.er=function(t,e,n){var r=this,i=[],s=ym(t);return e.forEach(function(e){var o=fp(e.path);i.push(s.put(new Tp(n,o))),i.push(r.Ti.nr(t,n,e))}),Xd.Ln(i)},t.prototype.sr=function(t,e,n){var r=this,i=ym(t);return Xd.forEach(e,function(e){var s=fp(e.path);return Xd.Ln([i.delete([n,s]),r.Ti.ir(t,n,e)])})},t.prototype.Yi=function(t,e){var n=ym(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.rr=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=ym(t),i=rd();return r.hs({range:n,us:!0},function(t,e,n){var r=mp(t[1]),s=new Ul(r);i=i.add(s)}).next(function(){return i})},t.prototype.Oi=function(t,e){var n=fp(e.path),r=IDBKeyRange.bound([n],[El(n)],!1,!0),i=0;return ym(t).hs({index:Tp.documentTargetsIndex,us:!0,range:r},function(t,e,n){0!==t[0]&&(i++,n.done())}).next(function(){return i>0})},t.prototype.Sn=function(t,e){return mm(t).get(e).next(function(t){return t?Gp(t):null})},t}();function mm(t){return Rp(t,Sp.store)}function gm(t){return Rp(t,Ip.store)}function ym(t){return Rp(t,Tp.store)}function bm(t,e){var n=t[1],r=e[1],i=_l(t[0],e[0]);return 0===i?_l(n,r):i}var vm=function(){function t(t){this.cr=t,this.buffer=new $f(bm),this.ar=0}return t.prototype.ur=function(){return++this.ar},t.prototype.hr=function(t){var e=[t,this.ur()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();bm(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),_m=function(){function t(t,e){this.lr=t,this._s=e,this._r=!1,this.dr=null}return t.prototype.start=function(t){-1!==this.lr.params.zs&&this.wr(t)},t.prototype.stop=function(){this.dr&&(this.dr.cancel(),this.dr=null)},Object.defineProperty(t.prototype,"Er",{get:function(){return null!==this.dr},enumerable:!1,configurable:!0}),t.prototype.wr=function(t){var e=this,n=this._r?3e5:6e4;hl("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.dr=this._s.Tr("lru_garbage_collection",n,function(){return Object(ol.b)(e,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:this.dr=null,this._r=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.Ir(this.lr)];case 2:return n.sent(),[3,7];case 3:return rp(e=n.sent())?(hl("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,rm(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.wr(t)];case 8:return n.sent(),[2]}})})})},t}(),wm=function(){function t(t,e){this.mr=t,this.params=e}return t.prototype.Ar=function(t,e){return this.mr.Rr(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.Pr=function(t,e){var n=this;if(0===e)return Xd.resolve(Dl.q);var r=new vm(e);return this.mr.In(t,function(t){return r.hr(t.sequenceNumber)}).next(function(){return n.mr.yr(t,function(t){return r.hr(t)})}).next(function(){return r.maxValue})},t.prototype.Xi=function(t,e,n){return this.mr.Xi(t,e,n)},t.prototype.gr=function(t,e){return this.mr.gr(t,e)},t.prototype.Vr=function(t,e){var n=this;return-1===this.params.zs?(hl("LruGarbageCollector","Garbage collection skipped; disabled"),Xd.resolve(em)):this.pr(t).next(function(r){return r<n.params.zs?(hl("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.zs),em):n.br(t,e)})},t.prototype.pr=function(t){return this.mr.pr(t)},t.prototype.br=function(t,e){var n,r,i,s,o,a,u,c=this,l=Date.now();return this.Ar(t,this.params.Hs).next(function(e){return e>c.params.Js?(hl("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Js+" from "+e),r=c.params.Js):r=e,s=Date.now(),c.Pr(t,r)}).next(function(r){return n=r,o=Date.now(),c.Xi(t,n,e)}).next(function(e){return i=e,a=Date.now(),c.gr(t,n)}).next(function(t){return u=Date.now(),ll()<=no.a.DEBUG&&hl("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(s-l)+"ms\n\tDetermined least recently used "+r+" in "+(o-s)+"ms\n\tRemoved "+i+" targets in "+(a-o)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),Xd.resolve({Ks:!0,Ws:r,js:i,Gs:t})})},t}(),Em=function(){function t(t,e){this.db=t,this.lr=function(t,e){return new wm(t,e)}(this,e)}return t.prototype.Rr=function(t){var e=this.vr(t);return this.db.Sr().Zi(t).next(function(t){return e.next(function(e){return t+e})})},t.prototype.vr=function(t){var e=0;return this.yr(t,function(t){e++}).next(function(){return e})},t.prototype.In=function(t,e){return this.db.Sr().In(t,e)},t.prototype.yr=function(t,e){return this.Dr(t,function(t,n){return e(n)})},t.prototype.nr=function(t,e,n){return Om(t,n)},t.prototype.ir=function(t,e,n){return Om(t,n)},t.prototype.Xi=function(t,e,n){return this.db.Sr().Xi(t,e,n)},t.prototype.Ni=function(t,e){return Om(t,e)},t.prototype.Cr=function(t,e){return function(t,e){var n=!1;return fm(t).ls(function(r){return cm(t,r,e).next(function(t){return t&&(n=!0),Xd.resolve(!t)})}).next(function(){return n})}(t,e)},t.prototype.gr=function(t,e){var n=this,r=this.db.Fr().Nr(),i=[],s=0;return this.Dr(t,function(o,a){if(a<=e){var u=n.Cr(t,o).next(function(e){if(!e)return s++,r._i(t,o).next(function(){return r.li(o),ym(t).delete([0,fp(o.path)])})});i.push(u)}}).next(function(){return Xd.Ln(i)}).next(function(){return r.apply(t)}).next(function(){return s})},t.prototype.removeTarget=function(t,e){var n=e.Mt(t.bs);return this.db.Sr().Hi(t,n)},t.prototype.Or=function(t,e){return Om(t,e)},t.prototype.Dr=function(t,e){var n,r=ym(t),i=Dl.q;return r.hs({index:Tp.documentTargetsIndex},function(t,r){var s=r.path,o=r.sequenceNumber;0===t[0]?(i!==Dl.q&&e(new Ul(mp(n)),i),i=o,n=s):i=Dl.q}).next(function(){i!==Dl.q&&e(new Ul(mp(n)),i)})},t.prototype.pr=function(t){return this.db.Fr().kr(t)},t}();function Om(t,e){return ym(t).put(function(t,e){return new Tp(0,fp(t.path),e)}(e,t.bs))}var Cm=function(){function t(t,e){this.Qt=t,this.Ei=e}return t.prototype.ai=function(t,e,n){return Im(t).put(xm(e),n)},t.prototype.li=function(t,e){var n=Im(t),r=xm(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.Mr(t,r)})},t.prototype._i=function(t,e){var n=this;return Im(t).get(xm(e)).next(function(t){return n.Lr(t)})},t.prototype.$r=function(t,e){var n=this;return Im(t).get(xm(e)).next(function(t){var e=n.Lr(t);return e?{hi:e,size:am(t)}:null})},t.prototype.getEntries=function(t,e){var n=this,r=Zf();return this.Br(t,e,function(t,e){var i=n.Lr(e);r=r.zt(t,i)}).next(function(){return r})},t.prototype.qr=function(t,e){var n=this,r=Zf(),i=new Bf(Ul.H);return this.Br(t,e,function(t,e){var s=n.Lr(e);s?(r=r.zt(t,s),i=i.zt(t,am(e))):(r=r.zt(t,null),i=i.zt(t,0))}).next(function(){return{Ur:r,Qr:i}})},t.prototype.Br=function(t,e,n){if(e.et())return Xd.resolve();var r=IDBKeyRange.bound(e.first().path.it(),e.last().path.it()),i=e.te(),s=i.oe();return Im(t).hs({range:r},function(t,e,r){for(var o=Ul.Et(t);s&&Ul.H(s,o)<0;)n(s,null),s=i.oe();s&&s.isEqual(o)&&(n(s,e),s=i.ce()?i.oe():null),s?r.ss(s.path.it()):r.done()}).next(function(){for(;s;)n(s,null),s=i.ce()?i.oe():null})},t.prototype.Kr=function(t,e,n){var r=this,i=Jf(),s=e.path.length+1,o={};if(n.isEqual(Pl.min())){var a=e.path.it();o.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.it(),c=Up(n);o.range=IDBKeyRange.lowerBound([u,c],!0),o.index=Op.collectionReadTimeIndex}return Im(t).hs(o,function(t,n,o){if(t.length===s){var a=Mp(r.Qt,n);e.path.nt(a.key.path)?a instanceof bh&&ef(e,a)&&(i=i.zt(a.key,a)):o.done()}}).next(function(){return i})},t.prototype.Nr=function(t){return new Sm(this,!!t&&t.Wr)},t.prototype.kr=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return Tm(t).get(Cp.key).next(function(t){return gl(!!t),t})},t.prototype.Mr=function(t,e){return Tm(t).put(Cp.key,e)},t.prototype.Lr=function(t){if(t){var e=Mp(this.Qt,t);return e instanceof vh&&e.version.isEqual(Pl.min())?null:e}return null},t}(),Sm=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).jr=e,r.Wr=n,r.Gr=new im(function(t){return t.toString()},function(t,e){return t.isEqual(e)}),r}return Object(ol.c)(e,t),e.prototype.wi=function(t){var e=this,n=[],r=0,i=new $f(function(t,e){return _l(t.rt(),e.rt())});return this.ri.forEach(function(s,o){var a=e.Gr.get(s);if(o.hi){var u=Fp(e.jr.Qt,o.hi,e.ci(s));i=i.add(s.path.X());var c=am(u);r+=c-a,n.push(e.jr.ai(t,s,u))}else if(r-=a,e.Wr){var l=Fp(e.jr.Qt,new vh(s,Pl.min()),e.ci(s));n.push(e.jr.ai(t,s,l))}else n.push(e.jr.li(t,s))}),i.forEach(function(r){n.push(e.jr.Ei.qs(t,r))}),n.push(this.jr.updateMetadata(t,r)),Xd.Ln(n)},e.prototype.fi=function(t,e){var n=this;return this.jr.$r(t,e).next(function(t){return null===t?(n.Gr.set(e,0),null):(n.Gr.set(e,t.size),t.hi)})},e.prototype.di=function(t,e){var n=this;return this.jr.qr(t,e).next(function(t){var e=t.Ur;return t.Qr.forEach(function(t,e){n.Gr.set(t,e)}),e})},e}(sm);function Tm(t){return Rp(t,Cp.store)}function Im(t){return Rp(t,Op.store)}function xm(t){return t.path.it()}var Am=function(){function t(t){this.Qt=t}return t.prototype.Jn=function(t,e,n,r){var i=this;gl(n<r&&n>=0&&r<=11);var s=new Jd("createOrUpgrade",e);n<1&&r>=1&&(function(t){t.createObjectStore(yp.store)}(t),function(t){t.createObjectStore(bp.store,{keyPath:bp.keyPath}),t.createObjectStore(vp.store,{keyPath:vp.keyPath,autoIncrement:!0}).createIndex(vp.userMutationsIndex,vp.userMutationsKeyPath,{unique:!0}),t.createObjectStore(_p.store)}(t),km(t),function(t){t.createObjectStore(Op.store)}(t));var o=Xd.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Tp.store),t.deleteObjectStore(Sp.store),t.deleteObjectStore(Ip.store)}(t),km(t)),o=o.next(function(){return function(t){var e=t.store(Ip.store),n=new Ip(0,0,Pl.min().j(),0);return e.put(Ip.key,n)}(s)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return function(t,e){return e.store(vp.store).rs().next(function(n){t.deleteObjectStore(vp.store),t.createObjectStore(vp.store,{keyPath:vp.keyPath,autoIncrement:!0}).createIndex(vp.userMutationsIndex,vp.userMutationsKeyPath,{unique:!0});var r=e.store(vp.store),i=n.map(function(t){return r.put(t)});return Xd.Ln(i)})}(t,s)})),o=o.next(function(){!function(t){t.createObjectStore(Ap.store,{keyPath:Ap.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(function(){return i.zr(s)})),n<6&&r>=6&&(o=o.next(function(){return function(t){t.createObjectStore(Cp.store)}(t),i.Hr(s)})),n<7&&r>=7&&(o=o.next(function(){return i.Jr(s)})),n<8&&r>=8&&(o=o.next(function(){return i.Yr(t,s)})),n<9&&r>=9&&(o=o.next(function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(Op.store);e.createIndex(Op.readTimeIndex,Op.readTimeIndexPath,{unique:!1}),e.createIndex(Op.collectionReadTimeIndex,Op.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(function(){return i.Xr(s)})),n<11&&r>=11&&(o=o.next(function(){!function(t){t.createObjectStore(kp.store,{keyPath:kp.keyPath})}(t),function(t){t.createObjectStore(jp.store,{keyPath:jp.keyPath})}(t)})),o},t.prototype.Hr=function(t){var e=0;return t.store(Op.store).hs(function(t,n){e+=am(n)}).next(function(){var n=new Cp(e);return t.store(Cp.store).put(Cp.key,n)})},t.prototype.zr=function(t){var e=this,n=t.store(bp.store),r=t.store(vp.store);return n.rs().next(function(n){return Xd.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.rs(vp.userMutationsIndex,i).next(function(r){return Xd.forEach(r,function(r){gl(r.userId===n.userId);var i=Bp(e.Qt,r);return om(t,n.userId,i).next(function(){})})})})})},t.prototype.Jr=function(t){var e=t.store(Tp.store),n=t.store(Op.store);return t.store(Ip.store).get(Ip.key).next(function(t){var r=[];return n.hs(function(n,i){var s=new Ll(n),o=function(t){return[0,fp(t)]}(s);r.push(e.get(o).next(function(n){return n?Xd.resolve():function(n){return e.put(new Tp(0,fp(n),t.highestListenSequenceNumber))}(s)}))}).next(function(){return Xd.Ln(r)})})},t.prototype.Yr=function(t,e){t.createObjectStore(xp.store,{keyPath:xp.keyPath});var n=e.store(xp.store),r=new Xp,i=function(t){if(r.add(t)){var e=t.tt(),i=t.X();return n.put({collectionId:e,parent:fp(i)})}};return e.store(Op.store).hs({us:!0},function(t,e){var n=new Ll(t);return i(n.X())}).next(function(){return e.store(_p.store).hs({us:!0},function(t,e){var n=mp(t[1]);return i(n.X())})})},t.prototype.Xr=function(t){var e=this,n=t.store(Sp.store);return n.hs(function(t,r){var i=Gp(r),s=Qp(e.Qt,i);return n.put(s)})},t}();function km(t){t.createObjectStore(Tp.store,{keyPath:Tp.keyPath}).createIndex(Tp.documentTargetsIndex,Tp.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Sp.store,{keyPath:Sp.keyPath}).createIndex(Sp.queryTargetsIndexName,Sp.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ip.store)}var jm="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",Nm=function(){function t(e,n,r,i,s,o,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Zr=s,this.window=o,this.document=a,this.eo=c,this.no=l,this.so=null,this.io=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ro=null,this.inForeground=!1,this.oo=null,this.co=null,this.ao=Number.NEGATIVE_INFINITY,this.uo=function(t){return Promise.resolve()},!t.Kn())throw new Sl(Cl.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.Ti=new Em(this,i),this.ho=n+"main",this.Qt=new Lp(u),this.lo=new tp(this.ho,11,new Am(this.Qt)),this._o=new pm(this.Ti,this.Qt),this.Ei=new Jp,this.fo=function(t,e){return new Cm(t,e)}(this.Qt,this.Ei),this.wo=new Wp,this.window&&this.window.localStorage?this.Eo=this.window.localStorage:(this.Eo=null,!1===l&&fl("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.prototype.start=function(){var t=this;return this.To().then(function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Sl(Cl.FAILED_PRECONDITION,jm);return t.Io(),t.mo(),t.Ao(),t.runTransaction("getHighestListenSequenceNumber","readonly",function(e){return t._o.Ki(e)})}).then(function(e){t.so=new Dl(e,t.eo)}).then(function(){t.io=!0}).catch(function(e){return t.lo&&t.lo.close(),Promise.reject(e)})},t.prototype.Ro=function(t){var e=this;return this.uo=function(n){return Object(ol.b)(e,void 0,void 0,function(){return Object(ol.d)(this,function(e){return this.Er?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.Po=function(t){var e=this;this.lo.Xn(function(n){return Object(ol.b)(e,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})})})},t.prototype.yo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Zr.Ps(function(){return Object(ol.b)(e,void 0,void 0,function(){return Object(ol.d)(this,function(t){switch(t.label){case 0:return this.Er?[4,this.To()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.To=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",function(e){return Rm(e).put(new Ap(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next(function(){if(t.isPrimary)return t.Vo(e).next(function(e){e||(t.isPrimary=!1,t.Zr.po(function(){return t.uo(!1)}))})}).next(function(){return t.bo(e)}).next(function(n){return t.isPrimary&&!n?t.vo(e).next(function(){return!1}):!!n&&t.So(e).next(function(){return!0})})}).catch(function(e){if(rp(e))return hl("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return hl("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(function(e){t.isPrimary!==e&&t.Zr.po(function(){return t.uo(e)}),t.isPrimary=e})},t.prototype.Vo=function(t){var e=this;return Dm(t).get(yp.key).next(function(t){return Xd.resolve(e.Do(t))})},t.prototype.Co=function(t){return Rm(t).delete(this.clientId)},t.prototype.xo=function(){return Object(ol.b)(this,void 0,void 0,function(){var t,e,n,r=this;return Object(ol.d)(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.No(this.ao,18e5)?[3,2]:(this.ao=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(t){var e=Rp(t,Ap.store);return e.rs().next(function(t){var n=r.Fo(t,18e5),i=t.filter(function(t){return-1===n.indexOf(t)});return Xd.forEach(i,function(t){return e.delete(t.clientId)}).next(function(){return i})})}).catch(function(){return[]})]);case 1:if(t=i.sent(),this.Eo)for(e=0,n=t;e<n.length;e++)this.Eo.removeItem(this.Oo(n[e].clientId));i.label=2;case 2:return[2]}})})},t.prototype.Ao=function(){var t=this;this.co=this.Zr.Tr("client_metadata_refresh",4e3,function(){return t.To().then(function(){return t.xo()}).then(function(){return t.Ao()})})},t.prototype.Do=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.bo=function(t){var e=this;return this.no?Xd.resolve(!0):Dm(t).get(yp.key).next(function(n){if(null!==n&&e.No(n.leaseTimestampMs,5e3)&&!e.ko(n.ownerId)){if(e.Do(n)&&e.networkEnabled)return!0;if(!e.Do(n)){if(!n.allowTabSynchronization)throw new Sl(Cl.FAILED_PRECONDITION,jm);return!1}}return!(!e.networkEnabled||!e.inForeground)||Rm(t).rs().next(function(t){return void 0===e.Fo(t,5e3).find(function(t){return!(e.clientId===t.clientId||!(!e.networkEnabled&&t.networkEnabled||!e.inForeground&&t.inForeground&&e.networkEnabled===t.networkEnabled))})})}).next(function(t){return e.isPrimary!==t&&hl("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.Mo=function(){return Object(ol.b)(this,void 0,void 0,function(){var t=this;return Object(ol.d)(this,function(e){switch(e.label){case 0:return this.io=!1,this.Lo(),this.co&&(this.co.cancel(),this.co=null),this.$o(),this.Bo(),[4,this.lo.runTransaction("shutdown","readwrite",[yp.store,Ap.store],function(e){var n=new Dp(e,Dl.q);return t.vo(n).next(function(){return t.Co(n)})})];case 1:return e.sent(),this.lo.close(),this.qo(),[2]}})})},t.prototype.Fo=function(t,e){var n=this;return t.filter(function(t){return n.No(t.updateTimeMs,e)&&!n.ko(t.clientId)})},t.prototype.Uo=function(){var t=this;return this.runTransaction("getActiveClients","readonly",function(e){return Rm(e).rs().next(function(e){return t.Fo(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Qo=function(t){return um.mi(t,this.Qt,this.Ei,this.Ti)},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Ko=function(){return this.Ei},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r,i=this;return hl("IndexedDbPersistence","Starting transaction:",t),this.lo.runTransaction(t,"readonly"===e?"readonly":"readwrite",Np,function(s){return r=new Dp(s,i.so?i.so.next():Dl.q),"readwrite-primary"===e?i.Vo(r).next(function(t){return!!t||i.bo(r)}).next(function(e){if(!e)throw fl("Failed to obtain primary lease for action '"+t+"'."),i.isPrimary=!1,i.Zr.po(function(){return i.uo(!1)}),new Sl(Cl.FAILED_PRECONDITION,lp);return n(r)}).next(function(t){return i.So(r).next(function(){return t})}):i.jo(r).next(function(){return n(r)})}).then(function(t){return r.Vs(),t})},t.prototype.jo=function(t){var e=this;return Dm(t).get(yp.key).next(function(t){if(null!==t&&e.No(t.leaseTimestampMs,5e3)&&!e.ko(t.ownerId)&&!e.Do(t)&&!(e.no||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Sl(Cl.FAILED_PRECONDITION,jm)})},t.prototype.So=function(t){var e=new yp(this.clientId,this.allowTabSynchronization,Date.now());return Dm(t).put(yp.key,e)},t.Kn=function(){return tp.Kn()},t.prototype.vo=function(t){var e=this,n=Dm(t);return n.get(yp.key).next(function(t){return e.Do(t)?(hl("IndexedDbPersistence","Releasing primary lease."),n.delete(yp.key)):Xd.resolve()})},t.prototype.No=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(fl("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Io=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.oo=function(){t.Zr.Ps(function(){return t.inForeground="visible"===t.document.visibilityState,t.To()})},this.document.addEventListener("visibilitychange",this.oo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.$o=function(){this.oo&&(this.document.removeEventListener("visibilitychange",this.oo),this.oo=null)},t.prototype.mo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.ro=function(){e.Lo(),e.Zr.Ps(function(){return e.Mo()})},this.window.addEventListener("unload",this.ro))},t.prototype.Bo=function(){this.ro&&(this.window.removeEventListener("unload",this.ro),this.ro=null)},t.prototype.ko=function(t){var e;try{var n=null!==(null===(e=this.Eo)||void 0===e?void 0:e.getItem(this.Oo(t)));return hl("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return fl("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.Lo=function(){if(this.Eo)try{this.Eo.setItem(this.Oo(this.clientId),String(Date.now()))}catch(t){fl("Failed to set zombie client id.",t)}},t.prototype.qo=function(){if(this.Eo)try{this.Eo.removeItem(this.Oo(this.clientId))}catch(t){}},t.prototype.Oo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function Dm(t){return Rp(t,yp.store)}function Rm(t){return Rp(t,Ap.store)}function Pm(t,e){var n=t.projectId;return t.o||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var Vm=function(t,e){this.progress=t,this.Go=e},Lm=function(){function t(t,e,n){this.fo=t,this.zo=e,this.Ei=n}return t.prototype.Ho=function(t,e){var n=this;return this.zo.bi(t,e).next(function(r){return n.Jo(t,e,r)})},t.prototype.Jo=function(t,e,n){return this.fo._i(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].Cs(e,t);return t})},t.prototype.Yo=function(t,e,n){var r=Zf();return e.forEach(function(t,e){for(var i=0,s=n;i<s.length;i++)e=s[i].Cs(t,e);r=r.zt(t,e)}),r},t.prototype.Xo=function(t,e){var n=this;return this.fo.getEntries(t,e).next(function(e){return n.Zo(t,e)})},t.prototype.Zo=function(t,e){var n=this;return this.zo.vi(t,e).next(function(r){var i=n.Yo(t,e,r),s=Yf();return i.forEach(function(t,e){e||(e=new vh(t,Pl.min())),s=s.zt(t,e)}),s})},t.prototype.Kr=function(t,e,n){return function(t){return Ul.wt(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.tc(t,e.path):Wh(e)?this.ec(t,e,n):this.nc(t,e,n)},t.prototype.tc=function(t,e){return this.Ho(t,new Ul(e)).next(function(t){var e=Jf();return t instanceof bh&&(e=e.zt(t.key,t)),e})},t.prototype.ec=function(t,e,n){var r=this,i=e.collectionGroup,s=Jf();return this.Ei.Us(t,i).next(function(o){return Xd.forEach(o,function(o){var a=function(t,e){return new qh(e,null,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(e,o.child(i));return r.nc(t,a,n).next(function(t){t.forEach(function(t,e){s=s.zt(t,e)})})}).next(function(){return s})})},t.prototype.nc=function(t,e,n){var r,i,s=this;return this.fo.Kr(t,e,n).next(function(n){return r=n,s.zo.Di(t,e)}).next(function(e){return s.sc(t,i=e,r).next(function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var s=n[e],o=0,a=s.mutations;o<a.length;o++){var u=a[o],c=u.key,l=If(u,r.get(c),s.vs);r=l instanceof bh?r.zt(c,l):r.remove(c)}})}).next(function(){return r.forEach(function(t,n){ef(e,n)||(r=r.remove(t))}),r})},t.prototype.sc=function(t,e,n){for(var r=rd(),i=0,s=e;i<s.length;i++)for(var o=0,a=s[i].mutations;o<a.length;o++){var u=a[o];u instanceof Nf&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.fo.getEntries(t,r).next(function(t){return t.forEach(function(t,e){null!==e&&e instanceof bh&&(c=c.zt(t,e))}),c})},t}(),Mm=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.ic=n,this.rc=r}return t.oc=function(e,n){for(var r=rd(),i=rd(),s=0,o=n.docChanges;s<o.length;s++){var a=o[s];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),Fm=function(){function t(){}return t.prototype.cc=function(t){this.ac=t},t.prototype.Kr=function(t,e,n,r){var i=this;return function(t){return 0===t.filters.length&&null===t.limit&&null==t.startAt&&null==t.endAt&&(0===t.xt.length||1===t.xt.length&&t.xt[0].field.ut())}(e)||n.isEqual(Pl.min())?this.uc(t,e):this.ac.Xo(t,r).next(function(s){var o=i.hc(e,s);return(Bh(e)||Gh(e))&&i.lc(e.limitType,o,r,n)?i.uc(t,e):(ll()<=no.a.DEBUG&&hl("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),tf(e)),i.ac.Kr(t,e,n).next(function(t){return o.forEach(function(e){t=t.zt(e.key,e)}),t}))})},t.prototype.hc=function(t,e){var n=new $f(nf(t));return e.forEach(function(e,r){r instanceof bh&&ef(t,r)&&(n=n.add(r))}),n},t.prototype.lc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version._(r)>0)},t.prototype.uc=function(t,e){return ll()<=no.a.DEBUG&&hl("QueryEngine","Using full collection scan to execute query:",tf(e)),this.ac.Kr(t,e,Pl.min())},t}(),Um=function(){function t(t,e,n,r){this.persistence=t,this._c=e,this.Qt=r,this.fc=new Bf(_l),this.dc=new im(function(t){return Oh(t)},Ch),this.wc=Pl.min(),this.zo=t.Qo(n),this.Ec=t.Fr(),this._o=t.Sr(),this.Tc=new Lm(this.Ec,this.zo,this.persistence.Ko()),this.wo=t.Wo(),this._c.cc(this.Tc)}return t.prototype.Ir=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",function(n){return t.Vr(n,e.fc)})},t}();function qm(t,e,n,r){return new Um(t,e,n,r)}function Hm(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(ol.d)(this,function(o){switch(o.label){case 0:return n=yl(t),r=n.zo,i=n.Tc,[4,n.persistence.runTransaction("Handle user change","readonly",function(t){var s;return n.zo.pi(t).next(function(o){return s=o,r=n.persistence.Qo(e),i=new Lm(n.Ec,r,n.persistence.Ko()),r.pi(t)}).next(function(e){for(var n=[],r=[],o=rd(),a=0,u=s;a<u.length;a++){var c=u[a];n.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++)o=o.add(h[l].key)}for(var f=0,d=e;f<d.length;f++){var p=d[f];r.push(p.batchId);for(var m=0,g=p.mutations;m<g.length;m++)o=o.add(g[m].key)}return i.Xo(t,o).next(function(t){return{Ic:t,mc:n,Ac:r}})})})];case 1:return s=o.sent(),[2,(n.zo=r,n.Tc=i,n._c.cc(n.Tc),s)]}})})}function zm(t,e){var n=yl(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(t){var r=e.batch.keys(),i=n.Ec.Nr({Wr:!0});return function(t,e,n,r){var i=n.batch,s=i.keys(),o=Xd.resolve();return s.forEach(function(t){o=o.next(function(){return r._i(e,t)}).next(function(e){var s=e,o=n.Fs.get(t);gl(null!==o),(!s||s.version._(o)<0)&&(s=i.Ss(t,s,n))&&r.ai(s,n.Ns)})}),o.next(function(){return t.zo.Ci(e,i)})}(n,t,e,i).next(function(){return i.apply(t)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}function Bm(t){var e=yl(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",function(t){return e._o.Qi(t)})}function Gm(t,e){var n=yl(t),r=e.kt,i=n.fc;return n.persistence.runTransaction("Apply remote event","readwrite-primary",function(t){var s=n.Ec.Nr({Wr:!0});i=n.fc;var o=[];e.Fe.forEach(function(e,s){var a=i.get(s);if(a){o.push(n._o.sr(t,e.Qe,s).next(function(){return n._o.er(t,e.qe,s)}));var u=e.resumeToken;if(u.l()>0){var c=a.Lt(u,r).Mt(t.bs);i=i.zt(s,c),function(t,e,n){return gl(e.resumeToken.l()>0),0===t.resumeToken.l()||e.kt.W()-t.kt.W()>=3e8||n.qe.size+n.Ue.size+n.Qe.size>0}(a,c,e)&&o.push(n._o.Hi(t,c))}}});var a=Yf();if(e.ke.forEach(function(r,i){e.Me.has(r)&&o.push(n.persistence.Ti.Or(t,r))}),o.push(Qm(t,s,e.ke,r,void 0).next(function(t){a=t})),!r.isEqual(Pl.min())){var u=n._o.Qi(t).next(function(e){return n._o.Wi(t,t.bs,r)});o.push(u)}return Xd.Ln(o).next(function(){return s.apply(t)}).next(function(){return n.Tc.Zo(t,a)})}).then(function(t){return n.fc=i,t})}function Qm(t,e,n,r,i){var s=rd();return n.forEach(function(t){return s=s.add(t)}),e.getEntries(t,s).next(function(t){var s=Yf();return n.forEach(function(n,o){var a=t.get(n),u=(null==i?void 0:i.get(n))||r;o instanceof vh&&o.version.isEqual(Pl.min())?(e.li(n,u),s=s.zt(n,o)):null==a||o.version._(a.version)>0||0===o.version._(a.version)&&a.hasPendingWrites?(e.ai(o,u),s=s.zt(n,o)):hl("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function $m(t,e){var n=yl(t);return n.persistence.runTransaction("Get next mutation batch","readonly",function(t){return void 0===e&&(e=-1),n.zo.gi(t,e)})}function Wm(t,e){var n=yl(t);return n.persistence.runTransaction("Allocate target","readwrite",function(t){var r;return n._o.tr(t,e).next(function(i){return i?Xd.resolve(r=i):n._o.Bi(t).next(function(i){return r=new sf(e,i,0,t.bs),n._o.ji(t,r).next(function(){return r})})})}).then(function(t){var r=n.fc.get(t.targetId);return(null===r||t.kt._(r.kt)>0)&&(n.fc=n.fc.zt(t.targetId,t),n.dc.set(e,t.targetId)),t})}function Km(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ol.d)(this,function(a){switch(a.label){case 0:r=yl(t),i=r.fc.get(e),s=n?"readwrite":"readwrite-primary",a.label=1;case 1:return a.trys.push([1,4,,5]),n?[3,3]:[4,r.persistence.runTransaction("Release target",s,function(t){return r.persistence.Ti.removeTarget(t,i)})];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:if(!rp(o=a.sent()))throw o;return hl("LocalStore","Failed to update sequence numbers for target "+e+": "+o),[3,5];case 5:return r.fc=r.fc.remove(e),r.dc.delete(i.target),[2]}})})}function Ym(t,e,n){var r=yl(t),i=Pl.min(),s=rd();return r.persistence.runTransaction("Execute query","readonly",function(t){return function(t,e,n){var r=yl(t),i=r.dc.get(n);return void 0!==i?Xd.resolve(r.fc.get(i)):r._o.tr(e,n)}(r,t,Yh(e)).next(function(e){if(e)return i=e.lastLimboFreeSnapshotVersion,r._o.rr(t,e.targetId).next(function(t){s=t})}).next(function(){return r._c.Kr(t,e,n?i:Pl.min(),n?s:rd())}).next(function(t){return{documents:t,Rc:s}})})}function Zm(t,e){var n=yl(t),r=yl(n._o),i=n.fc.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",function(t){return r.Sn(t,e).next(function(t){return t?t.target:null})})}function Xm(t){var e=yl(t);return e.persistence.runTransaction("Get new document changes","readonly",function(t){return function(t,e,n){var r=yl(t),i=Yf(),s=Up(n),o=Im(e),a=IDBKeyRange.lowerBound(s,!0);return o.hs({index:Op.readTimeIndex,range:a},function(t,e){var n=Mp(r.Qt,e);i=i.zt(n.key,n),s=e.readTime}).next(function(){return{Go:i,readTime:qp(s)}})}(e.Ec,t,e.wc)}).then(function(t){var n=t.Go;return e.wc=t.readTime,n})}function Jm(t){return Object(ol.b)(this,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){return[2,(e=yl(t)).persistence.runTransaction("Synchronize last document change read time","readonly",function(t){return function(t){var e=Im(t),n=Pl.min();return e.hs({index:Op.readTimeIndex,reverse:!0},function(t,e,r){e.readTime&&(n=qp(e.readTime)),r.done()}).next(function(){return n})}(t)}).then(function(t){e.wc=t})]})})}function tg(t,e,n,r){return Object(ol.b)(this,void 0,void 0,function(){var i,s,o,a,u,c,l,h,f,d;return Object(ol.d)(this,function(p){switch(p.label){case 0:for(i=yl(t),s=rd(),o=Yf(),a=ed(),u=0,c=n;u<c.length;u++)h=e.Pc((l=c[u]).metadata.name),l.document&&(s=s.add(h)),o=o.zt(h,e.yc(l)),a=a.zt(h,e.gc(l.metadata.readTime));return f=i.Ec.Nr({Wr:!0}),[4,Wm(i,function(t){return Yh(zh(Ll.ot("__bundle__/docs/"+t)))}(r))];case 1:return d=p.sent(),[2,i.persistence.runTransaction("Apply bundle documents","readwrite",function(t){return Qm(t,f,o,Pl.min(),a).next(function(e){return f.apply(t),e}).next(function(e){return i._o.Yi(t,d.targetId).next(function(){return i._o.er(t,s,d.targetId)}).next(function(){return i.Tc.Zo(t,e)})})})]}})})}function eg(t,e,n){return void 0===n&&(n=rd()),Object(ol.b)(this,void 0,void 0,function(){var r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:return[4,Wm(t,Yh($p(e.bundledQuery)))];case 1:return r=s.sent(),[2,(i=yl(t)).persistence.runTransaction("Save named query","readwrite",function(t){var s=Cd(e.readTime);if(r.kt._(s)>=0)return i.wo.$s(t,e);var o=r.Lt(Ol.T,s);return i.fc=i.fc.zt(o.targetId,o),i._o.Hi(t,o).next(function(){return i._o.Yi(t,r.targetId)}).next(function(){return i._o.er(t,n,r.targetId)}).next(function(){return i.wo.$s(t,e)})})]}})})}var ng=function(){function t(t){this.Qt=t,this.Vc=new Map,this.bc=new Map}return t.prototype.ks=function(t,e){return Xd.resolve(this.Vc.get(e))},t.prototype.Ms=function(t,e){var n;return this.Vc.set(e.id,{id:(n=e).id,version:n.version,createTime:Cd(n.createTime)}),Xd.resolve()},t.prototype.Ls=function(t,e){return Xd.resolve(this.bc.get(e))},t.prototype.$s=function(t,e){return this.bc.set(e.name,function(t){return{name:t.name,query:$p(t.bundledQuery),readTime:Cd(t.readTime)}}(e)),Xd.resolve()},t}(),rg=function(){function t(){this.vc=new $f(ig.Sc),this.Dc=new $f(ig.Cc)}return t.prototype.et=function(){return this.vc.et()},t.prototype.nr=function(t,e){var n=new ig(t,e);this.vc=this.vc.add(n),this.Dc=this.Dc.add(n)},t.prototype.xc=function(t,e){var n=this;t.forEach(function(t){return n.nr(t,e)})},t.prototype.ir=function(t,e){this.Nc(new ig(t,e))},t.prototype.Fc=function(t,e){var n=this;t.forEach(function(t){return n.ir(t,e)})},t.prototype.Oc=function(t){var e=this,n=new Ul(new Ll([])),r=new ig(n,t),i=new ig(n,t+1),s=[];return this.Dc.me([r,i],function(t){e.Nc(t),s.push(t.key)}),s},t.prototype.kc=function(){var t=this;this.vc.forEach(function(e){return t.Nc(e)})},t.prototype.Nc=function(t){this.vc=this.vc.delete(t),this.Dc=this.Dc.delete(t)},t.prototype.Mc=function(t){var e=new Ul(new Ll([])),n=new ig(e,t),r=new ig(e,t+1),i=rd();return this.Dc.me([n,r],function(t){i=i.add(t.key)}),i},t.prototype.Oi=function(t){var e=new ig(t,0),n=this.vc.Re(e);return null!==n&&t.isEqual(n.key)},t}(),ig=function(){function t(t,e){this.key=t,this.Lc=e}return t.Sc=function(t,e){return Ul.H(t.key,e.key)||_l(t.Lc,e.Lc)},t.Cc=function(t,e){return _l(t.Lc,e.Lc)||Ul.H(t.key,e.key)},t}(),sg=function(){function t(t,e){this.Ei=t,this.Ti=e,this.zo=[],this.$c=1,this.Bc=new $f(ig.Sc)}return t.prototype.Ai=function(t){return Xd.resolve(0===this.zo.length)},t.prototype.Ri=function(t,e,n,r){var i=this.$c;this.$c++;var s=new Pp(i,e,n,r);this.zo.push(s);for(var o=0,a=r;o<a.length;o++){var u=a[o];this.Bc=this.Bc.add(new ig(u.key,i)),this.Ei.qs(t,u.key.path.X())}return Xd.resolve(s)},t.prototype.Pi=function(t,e){return Xd.resolve(this.qc(e))},t.prototype.gi=function(t,e){var n=this.Uc(e+1),r=n<0?0:n;return Xd.resolve(this.zo.length>r?this.zo[r]:null)},t.prototype.Vi=function(){return Xd.resolve(0===this.zo.length?-1:this.$c-1)},t.prototype.pi=function(t){return Xd.resolve(this.zo.slice())},t.prototype.bi=function(t,e){var n=this,r=new ig(e,0),i=new ig(e,Number.POSITIVE_INFINITY),s=[];return this.Bc.me([r,i],function(t){var e=n.qc(t.Lc);s.push(e)}),Xd.resolve(s)},t.prototype.vi=function(t,e){var n=this,r=new $f(_l);return e.forEach(function(t){var e=new ig(t,0),i=new ig(t,Number.POSITIVE_INFINITY);n.Bc.me([e,i],function(t){r=r.add(t.Lc)})}),Xd.resolve(this.Qc(r))},t.prototype.Di=function(t,e){var n=e.path,r=n.length+1,i=n;Ul.wt(i)||(i=i.child(""));var s=new ig(new Ul(i),0),o=new $f(_l);return this.Bc.Ae(function(t){var e=t.key.path;return!!n.nt(e)&&(e.length===r&&(o=o.add(t.Lc)),!0)},s),Xd.resolve(this.Qc(o))},t.prototype.Qc=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.qc(t);null!==r&&n.push(r)}),n},t.prototype.Ci=function(t,e){var n=this;gl(0===this.Kc(e.batchId,"removed")),this.zo.shift();var r=this.Bc;return Xd.forEach(e.mutations,function(i){var s=new ig(i.key,e.batchId);return r=r.delete(s),n.Ti.Ni(t,i.key)}).next(function(){n.Bc=r})},t.prototype.xi=function(t){},t.prototype.Oi=function(t,e){var n=new ig(e,0),r=this.Bc.Re(n);return Xd.resolve(e.isEqual(r&&r.key))},t.prototype.Fi=function(t){return Xd.resolve()},t.prototype.Kc=function(t,e){return this.Uc(t)},t.prototype.Uc=function(t){return 0===this.zo.length?0:t-this.zo[0].batchId},t.prototype.qc=function(t){var e=this.Uc(t);return e<0||e>=this.zo.length?null:this.zo[e]},t}(),og=function(){function t(t,e){this.Ei=t,this.Wc=e,this.docs=new Bf(Ul.H),this.size=0}return t.prototype.ai=function(t,e,n){var r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.Wc(e);return this.docs=this.docs.zt(r,{hi:e,size:o,readTime:n}),this.size+=o-s,this.Ei.qs(t,r.path.X())},t.prototype.li=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype._i=function(t,e){var n=this.docs.get(e);return Xd.resolve(n?n.hi:null)},t.prototype.getEntries=function(t,e){var n=this,r=Zf();return e.forEach(function(t){var e=n.docs.get(t);r=r.zt(t,e?e.hi:null)}),Xd.resolve(r)},t.prototype.Kr=function(t,e,n){for(var r=Jf(),i=new Ul(e.path.child("")),s=this.docs.ee(i);s.ce();){var o=s.oe(),a=o.value,u=a.hi,c=a.readTime;if(!e.path.nt(o.key.path))break;c._(n)<=0||u instanceof bh&&ef(e,u)&&(r=r.zt(u.key,u))}return Xd.resolve(r)},t.prototype.jc=function(t,e){return Xd.forEach(this.docs,function(t){return e(t)})},t.prototype.Nr=function(t){return new ag(this)},t.prototype.kr=function(t){return Xd.resolve(this.size)},t}(),ag=function(t){function e(e){var n=this;return(n=t.call(this)||this).jr=e,n}return Object(ol.c)(e,t),e.prototype.wi=function(t){var e=this,n=[];return this.ri.forEach(function(r,i){i&&i.hi?n.push(e.jr.ai(t,i.hi,e.ci(r))):e.jr.li(r)}),Xd.Ln(n)},e.prototype.fi=function(t,e){return this.jr._i(t,e)},e.prototype.di=function(t,e){return this.jr.getEntries(t,e)},e}(sm),ug=function(){function t(t){this.persistence=t,this.Gc=new im(function(t){return Oh(t)},Ch),this.lastRemoteSnapshotVersion=Pl.min(),this.highestTargetId=0,this.zc=0,this.Hc=new rg,this.targetCount=0,this.Jc=dm.Li()}return t.prototype.In=function(t,e){return this.Gc.forEach(function(t,n){return e(n)}),Xd.resolve()},t.prototype.Qi=function(t){return Xd.resolve(this.lastRemoteSnapshotVersion)},t.prototype.Ki=function(t){return Xd.resolve(this.zc)},t.prototype.Bi=function(t){return this.highestTargetId=this.Jc.next(),Xd.resolve(this.highestTargetId)},t.prototype.Wi=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.zc&&(this.zc=e),Xd.resolve()},t.prototype.Gi=function(t){this.Gc.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.Jc=new dm(e),this.highestTargetId=e),t.sequenceNumber>this.zc&&(this.zc=t.sequenceNumber)},t.prototype.ji=function(t,e){return this.Gi(e),this.targetCount+=1,Xd.resolve()},t.prototype.Hi=function(t,e){return this.Gi(e),Xd.resolve()},t.prototype.Ji=function(t,e){return this.Gc.delete(e.target),this.Hc.Oc(e.targetId),this.targetCount-=1,Xd.resolve()},t.prototype.Xi=function(t,e,n){var r=this,i=0,s=[];return this.Gc.forEach(function(o,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.Gc.delete(o),s.push(r.Yi(t,a.targetId)),i++)}),Xd.Ln(s).next(function(){return i})},t.prototype.Zi=function(t){return Xd.resolve(this.targetCount)},t.prototype.tr=function(t,e){var n=this.Gc.get(e)||null;return Xd.resolve(n)},t.prototype.er=function(t,e,n){return this.Hc.xc(e,n),Xd.resolve()},t.prototype.sr=function(t,e,n){this.Hc.Fc(e,n);var r=this.persistence.Ti,i=[];return r&&e.forEach(function(e){i.push(r.Ni(t,e))}),Xd.Ln(i)},t.prototype.Yi=function(t,e){return this.Hc.Oc(e),Xd.resolve()},t.prototype.rr=function(t,e){var n=this.Hc.Mc(e);return Xd.resolve(n)},t.prototype.Oi=function(t,e){return Xd.resolve(this.Hc.Oi(e))},t}(),cg=function(){function t(t,e){var n=this;this.Yc={},this.so=new Dl(0),this.io=!1,this.io=!0,this.Ti=t(this),this._o=new ug(this),this.Ei=new Zp,this.fo=function(t,e){return new og(t,function(t){return n.Ti.Xc(t)})}(this.Ei),this.Qt=new Lp(e),this.wo=new ng(this.Qt)}return t.prototype.start=function(){return Promise.resolve()},t.prototype.Mo=function(){return this.io=!1,Promise.resolve()},Object.defineProperty(t.prototype,"Er",{get:function(){return this.io},enumerable:!1,configurable:!0}),t.prototype.Po=function(){},t.prototype.yo=function(){},t.prototype.Ko=function(){return this.Ei},t.prototype.Qo=function(t){var e=this.Yc[t.A()];return e||(e=new sg(this.Ei,this.Ti),this.Yc[t.A()]=e),e},t.prototype.Sr=function(){return this._o},t.prototype.Fr=function(){return this.fo},t.prototype.Wo=function(){return this.wo},t.prototype.runTransaction=function(t,e,n){var r=this;hl("MemoryPersistence","Starting transaction:",t);var i=new lg(this.so.next());return this.Ti.Zc(),n(i).next(function(t){return r.Ti.ta(i).next(function(){return t})}).kn().then(function(t){return i.Vs(),t})},t.prototype.ea=function(t,e){return Xd.$n(Object.values(this.Yc).map(function(n){return function(){return n.Oi(t,e)}}))},t}(),lg=function(t){function e(e){var n=this;return(n=t.call(this)||this).bs=e,n}return Object(ol.c)(e,t),e}(hp),hg=function(){function t(t){this.persistence=t,this.na=new rg,this.sa=null}return t.ia=function(e){return new t(e)},Object.defineProperty(t.prototype,"ra",{get:function(){if(this.sa)return this.sa;throw ml()},enumerable:!1,configurable:!0}),t.prototype.nr=function(t,e,n){return this.na.nr(n,e),this.ra.delete(n.toString()),Xd.resolve()},t.prototype.ir=function(t,e,n){return this.na.ir(n,e),this.ra.add(n.toString()),Xd.resolve()},t.prototype.Ni=function(t,e){return this.ra.add(e.toString()),Xd.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.na.Oc(e.targetId).forEach(function(t){return n.ra.add(t.toString())});var r=this.persistence.Sr();return r.rr(t,e.targetId).next(function(t){t.forEach(function(t){return n.ra.add(t.toString())})}).next(function(){return r.Ji(t,e)})},t.prototype.Zc=function(){this.sa=new Set},t.prototype.ta=function(t){var e=this,n=this.persistence.Fr().Nr();return Xd.forEach(this.ra,function(r){var i=Ul._t(r);return e.oa(t,i).next(function(t){t||n.li(i)})}).next(function(){return e.sa=null,n.apply(t)})},t.prototype.Or=function(t,e){var n=this;return this.oa(t,e).next(function(t){t?n.ra.delete(e.toString()):n.ra.add(e.toString())})},t.prototype.Xc=function(t){return 0},t.prototype.oa=function(t,e){var n=this;return Xd.$n([function(){return Xd.resolve(n.na.Oi(e))},function(){return n.persistence.Sr().Oi(t,e)},function(){return n.persistence.ea(t,e)}])},t}();function fg(t,e){return"firestore_clients_"+t+"_"+e}function dg(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.m()&&(r+="_"+e.uid),r}function pg(t,e){return"firestore_targets_"+t+"_"+e}var mg=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.ca=function(e,n,r){var i=JSON.parse(r),s="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),o=void 0;return s&&i.error&&(s="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(o=new Sl(i.error.code,i.error.message)),s?new t(e,n,i.state,o):(fl("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),gg=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.ca=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),s=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(s=new Sl(r.error.code,r.error.message)),i?new t(e,r.state,s):(fl("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.aa=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),yg=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.ca=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,s=sd(),o=0;i&&o<r.activeTargetIds.length;++o)i=th(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new t(e,s):(fl("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),bg=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.ca=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(fl("SharedClientState","Failed to parse online state: "+e),null)},t}(),vg=function(){function t(){this.activeTargetIds=sd()}return t.prototype.ua=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.ha=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.aa=function(){var t={activeTargetIds:this.activeTargetIds.it(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),_g=function(){function t(t,e,n,r,i){this.window=t,this.Zr=e,this.persistenceKey=n,this.la=r,this._a=null,this.fa=null,this.M=null,this.da=this.wa.bind(this),this.Ea=new Bf(_l),this.Er=!1,this.Ta=[];var s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.Ia=fg(this.persistenceKey,this.la),this.ma=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Ea=this.Ea.zt(this.la,new vg),this.Aa=new RegExp("^firestore_clients_"+s+"_([^_]*)$"),this.Ra=new RegExp("^firestore_mutations_"+s+"_(\\d+)(?:_(.*))?$"),this.Pa=new RegExp("^firestore_targets_"+s+"_(\\d+)$"),this.ya=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.ga=function(t){return"firestore_bundle_loaded_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.da)}return t.Kn=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return Object(ol.b)(this,void 0,void 0,function(){var t,e,n,r,i,s,o,a,u,c,l=this;return Object(ol.d)(this,function(h){switch(h.label){case 0:return[4,this._a.Uo()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.la&&(i=this.getItem(fg(this.persistenceKey,r)))&&(s=yg.ca(r,i))&&(this.Ea=this.Ea.zt(s.clientId,s));for(this.Va(),(o=this.storage.getItem(this.ya))&&(a=this.pa(o))&&this.ba(a),u=0,c=this.Ta;u<c.length;u++)this.wa(c[u]);return this.Ta=[],this.window.addEventListener("unload",function(){return l.Mo()}),this.Er=!0,[2]}})})},t.prototype.B=function(t){this.setItem(this.ma,JSON.stringify(t))},t.prototype.va=function(){return this.Sa(this.Ea)},t.prototype.Da=function(t){var e=!1;return this.Ea.forEach(function(n,r){r.activeTargetIds.has(t)&&(e=!0)}),e},t.prototype.Ca=function(t){this.xa(t,"pending")},t.prototype.Na=function(t,e,n){this.xa(t,e,n),this.Fa(t)},t.prototype.Oa=function(t){var e="not-current";if(this.Da(t)){var n=this.storage.getItem(pg(this.persistenceKey,t));if(n){var r=gg.ca(t,n);r&&(e=r.state)}}return this.ka.ua(t),this.Va(),e},t.prototype.Ma=function(t){this.ka.ha(t),this.Va()},t.prototype.La=function(t){return this.ka.activeTargetIds.has(t)},t.prototype.$a=function(t){this.removeItem(pg(this.persistenceKey,t))},t.prototype.Ba=function(t,e,n){this.qa(t,e,n)},t.prototype.Ua=function(t,e,n){var r=this;e.forEach(function(t){r.Fa(t)}),this.currentUser=t,n.forEach(function(t){r.Ca(t)})},t.prototype.Qa=function(t){this.Ka(t)},t.prototype.Wa=function(){this.ja()},t.prototype.Mo=function(){this.Er&&(this.window.removeEventListener("storage",this.da),this.removeItem(this.Ia),this.Er=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return hl("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){hl("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){hl("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.wa=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(hl("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ia)return void fl("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Zr.po(function(){return Object(ol.b)(e,void 0,void 0,function(){var t,e,r,i,s,o;return Object(ol.d)(this,function(a){if(this.Er){if(null!==n.key)if(this.Aa.test(n.key)){if(null==n.newValue)return t=this.Ga(n.key),[2,this.za(t,null)];if(e=this.Ha(n.key,n.newValue))return[2,this.za(e.clientId,e)]}else if(this.Ra.test(n.key)){if(null!==n.newValue&&(r=this.Ja(n.key,n.newValue)))return[2,this.Ya(r)]}else if(this.Pa.test(n.key)){if(null!==n.newValue&&(i=this.Xa(n.key,n.newValue)))return[2,this.Za(i)]}else if(n.key===this.ya){if(null!==n.newValue&&(s=this.pa(n.newValue)))return[2,this.ba(s)]}else if(n.key===this.ma)(o=function(t){var e=Dl.q;if(null!=t)try{var n=JSON.parse(t);gl("number"==typeof n),e=n}catch(t){fl("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==Dl.q&&this.M(o);else if(n.key===this.ga)return[2,this._a.tu()]}else this.Ta.push(n);return[2]})})})}},Object.defineProperty(t.prototype,"ka",{get:function(){return this.Ea.get(this.la)},enumerable:!1,configurable:!0}),t.prototype.Va=function(){this.setItem(this.Ia,this.ka.aa())},t.prototype.xa=function(t,e,n){var r=new mg(this.currentUser,t,e,n),i=dg(this.persistenceKey,this.currentUser,t);this.setItem(i,r.aa())},t.prototype.Fa=function(t){var e=dg(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.Ka=function(t){this.storage.setItem(this.ya,JSON.stringify({clientId:this.la,onlineState:t}))},t.prototype.qa=function(t,e,n){var r=pg(this.persistenceKey,t),i=new gg(t,e,n);this.setItem(r,i.aa())},t.prototype.ja=function(){this.setItem(this.ga,"value-not-used")},t.prototype.Ga=function(t){var e=this.Aa.exec(t);return e?e[1]:null},t.prototype.Ha=function(t,e){var n=this.Ga(t);return yg.ca(n,e)},t.prototype.Ja=function(t,e){var n=this.Ra.exec(t),r=Number(n[1]);return mg.ca(new Il(void 0!==n[2]?n[2]:null),r,e)},t.prototype.Xa=function(t,e){var n=this.Pa.exec(t),r=Number(n[1]);return gg.ca(r,e)},t.prototype.pa=function(t){return bg.ca(t)},t.prototype.Ya=function(t){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(e){return t.user.uid===this.currentUser.uid?[2,this._a.eu(t.batchId,t.state,t.error)]:(hl("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])})})},t.prototype.Za=function(t){return this._a.nu(t.targetId,t.state,t.error)},t.prototype.za=function(t,e){var n=this,r=e?this.Ea.zt(t,e):this.Ea.remove(t),i=this.Sa(this.Ea),s=this.Sa(r),o=[],a=[];return s.forEach(function(t){i.has(t)||o.push(t)}),i.forEach(function(t){s.has(t)||a.push(t)}),this._a.su(o,a).then(function(){n.Ea=r})},t.prototype.ba=function(t){this.Ea.get(t.clientId)&&this.fa(t.onlineState)},t.prototype.Sa=function(t){var e=sd();return t.forEach(function(t,n){e=e.Pe(n.activeTargetIds)}),e},t}(),wg=function(){function t(){this.iu=new vg,this.ru={},this.fa=null,this.M=null}return t.prototype.Ca=function(t){},t.prototype.Na=function(t,e,n){},t.prototype.Oa=function(t){return this.iu.ua(t),this.ru[t]||"not-current"},t.prototype.Ba=function(t,e,n){this.ru[t]=e},t.prototype.Ma=function(t){this.iu.ha(t)},t.prototype.La=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.$a=function(t){delete this.ru[t]},t.prototype.va=function(){return this.iu.activeTargetIds},t.prototype.Da=function(t){return this.iu.activeTargetIds.has(t)},t.prototype.start=function(){return this.iu=new vg,Promise.resolve()},t.prototype.Ua=function(t,e,n){},t.prototype.Qa=function(t){},t.prototype.Mo=function(){},t.prototype.B=function(t){},t.prototype.Wa=function(){},t}(),Eg=function(){function t(){}return t.prototype.ou=function(t){},t.prototype.Mo=function(){},t}(),Og=function(){function t(){var t=this;this.cu=function(){return t.au()},this.uu=function(){return t.hu()},this.lu=[],this._u()}return t.prototype.ou=function(t){this.lu.push(t)},t.prototype.Mo=function(){window.removeEventListener("online",this.cu),window.removeEventListener("offline",this.uu)},t.prototype._u=function(){window.addEventListener("online",this.cu),window.addEventListener("offline",this.uu)},t.prototype.au=function(){hl("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(0)},t.prototype.hu=function(){hl("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.lu;t<e.length;t++)(0,e[t])(1)},t.Kn=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),Cg={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},Sg=function(){function t(t){this.fu=t.fu,this.du=t.du}return t.prototype.wu=function(t){this.Eu=t},t.prototype.Tu=function(t){this.Iu=t},t.prototype.onMessage=function(t){this.mu=t},t.prototype.close=function(){this.du()},t.prototype.send=function(t){this.fu(t)},t.prototype.Au=function(){this.Eu()},t.prototype.Ru=function(t){this.Iu(t)},t.prototype.Pu=function(t){this.mu(t)},t}(),Tg=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n.i=e.i,n}return Object(ol.c)(e,t),e.prototype.Su=function(t,e,n,r){return new Promise(function(i,s){var o=new sl;o.listenOnce(nl.COMPLETE,function(){try{switch(o.getLastErrorCode()){case el.NO_ERROR:var e=o.getResponseJson();hl("Connection","XHR received:",JSON.stringify(e)),i(e);break;case el.TIMEOUT:hl("Connection",'RPC "'+t+'" timed out'),s(new Sl(Cl.DEADLINE_EXCEEDED,"Request time out"));break;case el.HTTP_ERROR:var n=o.getStatus();if(hl("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace(/_/g,"-");return Object.values(Cl).indexOf(e)>=0?e:Cl.UNKNOWN}(r.status);s(new Sl(a,r.message))}else s(new Sl(Cl.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new Sl(Cl.UNAVAILABLE,"Connection failed."));break;default:ml()}}finally{hl("Connection",'RPC "'+t+'" completed.')}});var a=JSON.stringify(r);o.send(e,"POST",a,n,15)})},e.prototype.Cu=function(t,e){var n=[this.gu,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=new Yc,i=Ja(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.t.projectId+"/databases/"+this.t.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.i};this.vu(s.initMessageHeaders,e),Object(ro.l)()||Object(ro.n)()||Object(ro.j)()||Object(ro.k)()||Object(ro.o)()||Object(ro.i)()||(s.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");hl("Connection","Creating WebChannel: "+o,s);var a=r.createWebChannel(o,s),u=!1,c=!1,l=new Sg({fu:function(t){c?hl("Connection","Not sending because WebChannel is closed:",t):(u||(hl("Connection","Opening WebChannel transport."),a.open(),u=!0),hl("Connection","WebChannel sending:",t),a.send(t))},du:function(){return a.close()}}),h=function(t,e,n){t.listen(e,function(t){try{n(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(a,il.EventType.OPEN,function(){c||hl("Connection","WebChannel transport opened.")}),h(a,il.EventType.CLOSE,function(){c||(c=!0,hl("Connection","WebChannel transport closed"),l.Ru())}),h(a,il.EventType.ERROR,function(t){c||(c=!0,dl("Connection","WebChannel transport errored:",t),l.Ru(new Sl(Cl.UNAVAILABLE,"The operation could not be completed")))}),h(a,il.EventType.MESSAGE,function(t){var e;if(!c){var n=t.data[0];gl(!!n);var r=n.error||(null===(e=n[0])||void 0===e?void 0:e.error);if(r){hl("Connection","WebChannel received error:",r);var i=r.status,s=function(t){var e=Lf[t];if(void 0!==e)return zf(e)}(i),o=r.message;void 0===s&&(s=Cl.INTERNAL,o="Unknown error status: "+i+" with message "+r.message),c=!0,l.Ru(new Sl(s,o)),a.close()}else hl("Connection","WebChannel received:",n),l.Pu(n)}}),h(i,rl.STAT_EVENT,function(t){10===t.stat?hl("Connection","Detected buffering proxy"):11===t.stat&&hl("Connection","Detected no buffering proxy")}),setTimeout(function(){l.Au()},0),l},e}(function(){function t(t){this.yu=t,this.t=t.t,this.gu=(t.ssl?"https":"http")+"://"+t.host,this.Vu="projects/"+this.t.projectId+"/databases/"+this.t.database+"/documents"}return t.prototype.pu=function(t,e,n,r){var i=this.bu(t,e);hl("RestConnection","Sending: ",i,n);var s={};return this.vu(s,r),this.Su(t,i,s,n).then(function(t){return hl("RestConnection","Received: ",t),t},function(e){throw dl("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e})},t.prototype.Du=function(t,e,n,r){return this.pu(t,e,n,r)},t.prototype.vu=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/8.2.6",t["Content-Type"]="text/plain",e)for(var n in e.g)e.g.hasOwnProperty(n)&&(t[n]=e.g[n])},t.prototype.bu=function(t,e){return this.gu+"/v1/"+e+":"+Cg[t]},t}());function Ig(){return"undefined"!=typeof window?window:null}function xg(){return"undefined"!=typeof document?document:null}function Ag(t){return new _d(t,!0)}var kg=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Zr=t,this.fs=e,this.xu=n,this.Nu=r,this.Fu=i,this.Ou=0,this.ku=null,this.Mu=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ou=0},t.prototype.Lu=function(){this.Ou=this.Fu},t.prototype.$u=function(t){var e=this;this.cancel();var n=Math.floor(this.Ou+this.Bu()),r=Math.max(0,Date.now()-this.Mu),i=Math.max(0,n-r);i>0&&hl("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ou+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.ku=this.Zr.Tr(this.fs,i,function(){return e.Mu=Date.now(),t()}),this.Ou*=this.Nu,this.Ou<this.xu&&(this.Ou=this.xu),this.Ou>this.Fu&&(this.Ou=this.Fu)},t.prototype.qu=function(){null!==this.ku&&(this.ku.Rs(),this.ku=null)},t.prototype.cancel=function(){null!==this.ku&&(this.ku.cancel(),this.ku=null)},t.prototype.Bu=function(){return(Math.random()-.5)*this.Ou},t}(),jg=function(){function t(t,e,n,r,i,s){this.Zr=t,this.Uu=n,this.Qu=r,this.Ku=i,this.listener=s,this.state=0,this.Wu=0,this.ju=null,this.stream=null,this.Gu=new kg(t,e)}return t.prototype.zu=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.Hu=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Ju()},t.prototype.stop=function(){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(t){switch(t.label){case 0:return this.zu()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.Yu=function(){this.state=0,this.Gu.reset()},t.prototype.Xu=function(){var t=this;this.Hu()&&null===this.ju&&(this.ju=this.Zr.Tr(this.Uu,6e4,function(){return t.Zu()}))},t.prototype.th=function(t){this.eh(),this.stream.send(t)},t.prototype.Zu=function(){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(t){return this.Hu()?[2,this.close(0)]:[2]})})},t.prototype.eh=function(){this.ju&&(this.ju.cancel(),this.ju=null)},t.prototype.close=function(t,e){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(n){switch(n.label){case 0:return this.eh(),this.Gu.cancel(),this.Wu++,3!==t?this.Gu.reset():e&&e.code===Cl.RESOURCE_EXHAUSTED?(fl(e.toString()),fl("Using maximum backoff delay to prevent overloading the backend."),this.Gu.Lu()):e&&e.code===Cl.UNAUTHENTICATED&&this.Ku.p(),null!==this.stream&&(this.nh(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.Tu(e)];case 1:return n.sent(),[2]}})})},t.prototype.nh=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.sh(this.Wu),n=this.Wu;this.Ku.getToken().then(function(e){t.Wu===n&&t.ih(e)},function(n){e(function(){var e=new Sl(Cl.UNKNOWN,"Fetching auth token failed: "+n.message);return t.rh(e)})})},t.prototype.ih=function(t){var e=this,n=this.sh(this.Wu);this.stream=this.oh(t),this.stream.wu(function(){n(function(){return e.state=2,e.listener.wu()})}),this.stream.Tu(function(t){n(function(){return e.rh(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.Ju=function(){var t=this;this.state=4,this.Gu.$u(function(){return Object(ol.b)(t,void 0,void 0,function(){return Object(ol.d)(this,function(t){return this.state=0,this.start(),[2]})})})},t.prototype.rh=function(t){return hl("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.sh=function(t){var e=this;return function(n){e.Zr.Ps(function(){return e.Wu===t?n():(hl("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),Ng=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,s)||this).Qt=i,o}return Object(ol.c)(e,t),e.prototype.oh=function(t){return this.Qu.Cu("Listen",t)},e.prototype.onMessage=function(t){this.Gu.reset();var e=function(t,e){var n;if("targetChange"in e){var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:ml()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(t,e){return t.Bt?(gl(void 0===e||"string"==typeof e),Ol.fromBase64String(e||"")):(gl(void 0===e||e instanceof Uint8Array),Ol.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),o=(a=e.targetChange.cause)&&function(t){var e=void 0===t.code?Cl.UNKNOWN:zf(t.code);return new Sl(e,t.message||"")}(a);n=new dd(r,i,s,o||null)}else if("documentChange"in e){i=xd(t,(r=e.documentChange).document.name),s=Cd(r.document.updateTime);var a=new ph({mapValue:{fields:r.document.fields}}),u=(o=new bh(i,s,a,{}),r.targetIds||[]);n=new hd(u,r.removedTargetIds||[],o.key,o)}else if("documentDelete"in e)i=xd(t,(r=e.documentDelete).document),s=r.readTime?Cd(r.readTime):Pl.min(),a=new vh(i,s),n=new hd([],o=r.removedTargetIds||[],a.key,a);else if("documentRemove"in e)i=xd(t,(r=e.documentRemove).document),n=new hd([],s=r.removedTargetIds||[],i,null);else{if(!("filter"in e))return ml();var c=e.filter;i=new qf(r=c.count||0),n=new fd(s=c.targetId,i)}return n}(this.Qt,t),n=function(t){if(!("targetChange"in t))return Pl.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?Pl.min():e.readTime?Cd(e.readTime):Pl.min()}(t);return this.listener.ah(e,n)},e.prototype.uh=function(t){var e={};e.database=jd(this.Qt),e.addTarget=function(t,e){var n,r=e.target;return(n=Sh(r)?{documents:Ld(t,r)}:{query:Md(t,r)}).targetId=e.targetId,e.resumeToken.l()>0?n.resumeToken=Ed(t,e.resumeToken):e.kt._(Pl.min())>0&&(n.readTime=wd(t,e.kt.j())),n}(this.Qt,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return ml()}}(0,e.Ot);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.th(e)},e.prototype.hh=function(t){var e={};e.database=jd(this.Qt),e.removeTarget=t,this.th(e)},e}(jg),Dg=function(t){function e(e,n,r,i,s){var o=this;return(o=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,s)||this).Qt=i,o.lh=!1,o}return Object(ol.c)(e,t),Object.defineProperty(e.prototype,"_h",{get:function(){return this.lh},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.lh=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.nh=function(){this.lh&&this.fh([])},e.prototype.oh=function(t){return this.Qu.Cu("Write",t)},e.prototype.onMessage=function(t){if(gl(!!t.streamToken),this.lastStreamToken=t.streamToken,this.lh){this.Gu.reset();var e=function(t,e){return t&&t.length>0?(gl(void 0!==e),t.map(function(t){return function(t,e){var n=Cd(t.updateTime?t.updateTime:e);n.isEqual(Pl.min())&&(n=Cd(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new Ef(n,r)}(t,e)})):[]}(t.writeResults,t.commitTime),n=Cd(t.commitTime);return this.listener.dh(n,e)}return gl(!t.writeResults||0===t.writeResults.length),this.lh=!0,this.listener.wh()},e.prototype.Eh=function(){var t={};t.database=jd(this.Qt),this.th(t)},e.prototype.fh=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map(function(t){return Pd(e.Qt,t)})};this.th(n)},e}(jg),Rg=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.Qu=n,i.Qt=r,i.Th=!1,i}return Object(ol.c)(e,t),e.prototype.Ih=function(){if(this.Th)throw new Sl(Cl.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.pu=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.pu(t,e,n,i)}).catch(function(t){throw t.code===Cl.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.Du=function(t,e,n){var r=this;return this.Ih(),this.credentials.getToken().then(function(i){return r.Qu.Du(t,e,n,i)}).catch(function(t){throw t.code===Cl.UNAUTHENTICATED&&r.credentials.p(),t})},e.prototype.terminate=function(){this.Th=!1},e}(function(){}),Pg=function(){function t(t,e){this._s=t,this.fa=e,this.state="Unknown",this.mh=0,this.Ah=null,this.Rh=!0}return t.prototype.Ph=function(){var t=this;0===this.mh&&(this.yh("Unknown"),this.Ah=this._s.Tr("online_state_timeout",1e4,function(){return t.Ah=null,t.gh("Backend didn't respond within 10 seconds."),t.yh("Offline"),Promise.resolve()}))},t.prototype.Vh=function(t){"Online"===this.state?this.yh("Unknown"):(this.mh++,this.mh>=1&&(this.ph(),this.gh("Connection failed 1 times. Most recent error: "+t.toString()),this.yh("Offline")))},t.prototype.set=function(t){this.ph(),this.mh=0,"Online"===t&&(this.Rh=!1),this.yh(t)},t.prototype.yh=function(t){t!==this.state&&(this.state=t,this.fa(t))},t.prototype.gh=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Rh?(fl(e),this.Rh=!1):hl("OnlineStateTracker",e)},t.prototype.ph=function(){null!==this.Ah&&(this.Ah.cancel(),this.Ah=null)},t}(),Vg=function(t,e,n,r,i){var s=this;this.bh=t,this.Sh=e,this._s=n,this.Dh={},this.Ch=[],this.xh=new Map,this.Nh=new Set,this.Fh=[],this.Oh=i,this.Oh.ou(function(t){n.Ps(function(){return Object(ol.b)(s,void 0,void 0,function(){return Object(ol.d)(this,function(t){switch(t.label){case 0:return Gg(this)?(hl("RemoteStore","Restarting streams for network reachability change."),[4,function(t){return Object(ol.b)(this,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return(e=yl(t)).Nh.add(4),[4,Mg(e)];case 1:return n.sent(),e.kh.set("Unknown"),e.Nh.delete(4),[4,Lg(e)];case 2:return n.sent(),[2]}})})}(this)]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})})}),this.kh=new Pg(n,r)};function Lg(t){return Object(ol.b)(this,void 0,void 0,function(){var e,n;return Object(ol.d)(this,function(r){switch(r.label){case 0:if(!Gg(t))return[3,4];e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!0)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Mg(t){return Object(ol.b)(this,void 0,void 0,function(){var e,n;return Object(ol.d)(this,function(r){switch(r.label){case 0:e=0,n=t.Fh,r.label=1;case 1:return e<n.length?[4,(0,n[e])(!1)]:[3,4];case 2:r.sent(),r.label=3;case 3:return e++,[3,1];case 4:return[2]}})})}function Fg(t,e){var n=yl(t);n.xh.has(e.targetId)||(n.xh.set(e.targetId,e),Bg(n)?zg(n):oy(n).Hu()&&qg(n,e))}function Ug(t,e){var n=yl(t),r=oy(n);n.xh.delete(e),r.Hu()&&Hg(n,e),0===n.xh.size&&(r.Hu()?r.Xu():Gg(n)&&n.kh.set("Unknown"))}function qg(t,e){t.Mh.on(e.targetId),oy(t).uh(e)}function Hg(t,e){t.Mh.on(e),oy(t).hh(e)}function zg(t){t.Mh=new md({vn:function(e){return t.Dh.vn(e)},Sn:function(e){return t.xh.get(e)||null}}),oy(t).start(),t.kh.Ph()}function Bg(t){return Gg(t)&&!oy(t).zu()&&t.xh.size>0}function Gg(t){return 0===yl(t).Nh.size}function Qg(t){t.Mh=void 0}function $g(t){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(e){return t.xh.forEach(function(e,n){qg(t,e)}),[2]})})}function Wg(t,e){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(n){return Qg(t),Bg(t)?(t.kh.Vh(e),zg(t)):t.kh.set("Unknown"),[2]})})}function Kg(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i,s;return Object(ol.d)(this,function(o){switch(o.label){case 0:if(t.kh.set("Online"),!(e instanceof dd&&2===e.state&&e.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,function(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s;return Object(ol.d)(this,function(o){switch(o.label){case 0:n=e.cause,r=0,i=e.targetIds,o.label=1;case 1:return r<i.length?t.xh.has(s=i[r])?[4,t.Dh.Lh(s,n)]:[3,3]:[3,5];case 2:o.sent(),t.xh.delete(s),t.Mh.removeTarget(s),o.label=3;case 3:o.label=4;case 4:return r++,[3,1];case 5:return[2]}})})}(t,e)];case 2:return o.sent(),[3,5];case 3:return r=o.sent(),hl("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),[4,Yg(t,r)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(e instanceof hd?t.Mh.dn(e):e instanceof fd?t.Mh.Pn(e):t.Mh.Tn(e),n.isEqual(Pl.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,Bm(t.bh)];case 8:return i=o.sent(),n._(i)>=0?[4,function(t,e){var n=t.Mh.Vn(e);return n.Fe.forEach(function(n,r){if(n.resumeToken.l()>0){var i=t.xh.get(r);i&&t.xh.set(r,i.Lt(n.resumeToken,e))}}),n.Oe.forEach(function(e){var n=t.xh.get(e);if(n){t.xh.set(e,n.Lt(Ol.T,n.kt)),Hg(t,e);var r=new sf(n.target,e,1,n.sequenceNumber);qg(t,r)}}),t.Dh.$h(n)}(t,n)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return hl("RemoteStore","Failed to raise snapshot:",s=o.sent()),[4,Yg(t,s)];case 12:return o.sent(),[3,13];case 13:return[2]}})})}function Yg(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r=this;return Object(ol.d)(this,function(i){switch(i.label){case 0:if(!rp(e))throw e;return t.Nh.add(1),[4,Mg(t)];case 1:return i.sent(),t.kh.set("Offline"),n||(n=function(){return Bm(t.bh)}),t._s.po(function(){return Object(ol.b)(r,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return hl("RemoteStore","Retrying IndexedDB access"),[4,n()];case 1:return e.sent(),t.Nh.delete(1),[4,Lg(t)];case 2:return e.sent(),[2]}})})}),[2]}})})}function Zg(t,e){return e().catch(function(n){return Yg(t,n,e)})}function Xg(t){return Object(ol.b)(this,void 0,void 0,function(){var e,n,r,i,s;return Object(ol.d)(this,function(o){switch(o.label){case 0:e=yl(t),n=ay(e),r=e.Ch.length>0?e.Ch[e.Ch.length-1].batchId:-1,o.label=1;case 1:if(!function(t){return Gg(t)&&t.Ch.length<10}(e))return[3,7];o.label=2;case 2:return o.trys.push([2,4,,6]),[4,$m(e.bh,r)];case 3:return null===(i=o.sent())?(0===e.Ch.length&&n.Xu(),[3,7]):(r=i.batchId,function(t,e){t.Ch.push(e);var n=ay(t);n.Hu()&&n._h&&n.fh(e.mutations)}(e,i),[3,6]);case 4:return s=o.sent(),[4,Yg(e,s)];case 5:return o.sent(),[3,6];case 6:return[3,1];case 7:return Jg(e)&&ty(e),[2]}})})}function Jg(t){return Gg(t)&&!ay(t).zu()&&t.Ch.length>0}function ty(t){ay(t).start()}function ey(t){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(e){return ay(t).Eh(),[2]})})}function ny(t){return Object(ol.b)(this,void 0,void 0,function(){var e,n,r;return Object(ol.d)(this,function(i){for(e=ay(t),n=0,r=t.Ch;n<r.length;n++)e.fh(r[n].mutations);return[2]})})}function ry(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:return r=t.Ch.shift(),i=Vp.from(r,e,n),[4,Zg(t,function(){return t.Dh.Bh(i)})];case 1:return s.sent(),[4,Xg(t)];case 2:return s.sent(),[2]}})})}function iy(t,e){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(n){switch(n.label){case 0:return e&&ay(t)._h?[4,function(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r;return Object(ol.d)(this,function(i){switch(i.label){case 0:return Hf(r=e.code)&&r!==Cl.ABORTED?(n=t.Ch.shift(),ay(t).Yu(),[4,Zg(t,function(){return t.Dh.qh(n.batchId,e)})]):[3,3];case 1:return i.sent(),[4,Xg(t)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}(t,e)]:[3,2];case 1:n.sent(),n.label=2;case 2:return Jg(t)&&ty(t),[2]}})})}function sy(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n;return Object(ol.d)(this,function(r){switch(r.label){case 0:return n=yl(t),e?(n.Nh.delete(2),[4,Lg(n)]):[3,2];case 1:return r.sent(),[3,5];case 2:return e?[3,4]:(n.Nh.add(2),[4,Mg(n)]);case 3:r.sent(),n.kh.set("Unknown"),r.label=4;case 4:r.label=5;case 5:return[2]}})})}function oy(t){var e=this;return t.Uh||(t.Uh=function(t,e,n){var r=yl(t);return r.Ih(),new Ng(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:$g.bind(null,t),Tu:Wg.bind(null,t),ah:Kg.bind(null,t)}),t.Fh.push(function(n){return Object(ol.b)(e,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return n?(t.Uh.Yu(),Bg(t)?zg(t):t.kh.set("Unknown"),[3,3]):[3,1];case 1:return[4,t.Uh.stop()];case 2:e.sent(),Qg(t),e.label=3;case 3:return[2]}})})})),t.Uh}function ay(t){var e=this;return t.Qh||(t.Qh=function(t,e,n){var r=yl(t);return r.Ih(),new Dg(e,r.Qu,r.credentials,r.Qt,n)}(t.Sh,t._s,{wu:ey.bind(null,t),Tu:iy.bind(null,t),wh:ny.bind(null,t),dh:ry.bind(null,t)}),t.Fh.push(function(n){return Object(ol.b)(e,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return n?(t.Qh.Yu(),[4,Xg(t)]):[3,2];case 1:return e.sent(),[3,4];case 2:return[4,t.Qh.stop()];case 3:e.sent(),t.Ch.length>0&&(hl("RemoteStore","Stopping write stream with "+t.Ch.length+" pending writes"),t.Ch=[]),e.label=4;case 4:return[2]}})})})),t.Qh}var uy=function(){this.Kh=void 0,this.listeners=[]},cy=function(){this.queries=new im(function(t){return Jh(t)},Xh),this.onlineState="Unknown",this.Wh=new Set};function ly(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(ol.d)(this,function(c){switch(c.label){case 0:if(n=yl(t),i=!1,(s=n.queries.get(r=e.query))||(i=!0,s=new uy),!i)return[3,4];c.label=1;case 1:return c.trys.push([1,3,,4]),o=s,[4,n.jh(r)];case 2:return o.Kh=c.sent(),[3,4];case 3:return a=c.sent(),u=cp(a,"Initialization of query '"+tf(e.query)+"' failed"),[2,void e.onError(u)];case 4:return n.queries.set(r,s),s.listeners.push(e),e.Gh(n.onlineState),s.Kh&&e.zh(s.Kh)&&py(n),[2]}})})}function hy(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ol.d)(this,function(a){return n=yl(t),i=!1,(s=n.queries.get(r=e.query))&&(o=s.listeners.indexOf(e))>=0&&(s.listeners.splice(o,1),i=0===s.listeners.length),i?[2,(n.queries.delete(r),n.Hh(r))]:[2]})})}function fy(t,e){for(var n=yl(t),r=!1,i=0,s=e;i<s.length;i++){var o=s[i],a=n.queries.get(o.query);if(a){for(var u=0,c=a.listeners;u<c.length;u++)c[u].zh(o)&&(r=!0);a.Kh=o}}r&&py(n)}function dy(t,e,n){var r=yl(t),i=r.queries.get(e);if(i)for(var s=0,o=i.listeners;s<o.length;s++)o[s].onError(n);r.queries.delete(e)}function py(t){t.Wh.forEach(function(t){t.next()})}var my=function(){function t(t,e,n){this.query=t,this.Jh=e,this.Yh=!1,this.Xh=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.zh=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new ud(t.query,t.docs,t.Se,e,t.De,t.fromCache,t.Ce,!0)}var s=!1;return this.Yh?this.Zh(t)&&(this.Jh.next(t),s=!0):this.tl(t,this.onlineState)&&(this.el(t),s=!0),this.Xh=t,s},t.prototype.onError=function(t){this.Jh.error(t)},t.prototype.Gh=function(t){this.onlineState=t;var e=!1;return this.Xh&&!this.Yh&&this.tl(this.Xh,t)&&(this.el(this.Xh),e=!0),e},t.prototype.tl=function(t,e){return!t.fromCache||!(this.options.nl&&"Offline"!==e||t.docs.et()&&"Offline"!==e)},t.prototype.Zh=function(t){return t.docChanges.length>0||!!(t.Ce||this.Xh&&this.Xh.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges},t.prototype.el=function(t){t=ud.Ne(t.query,t.docs,t.De,t.fromCache),this.Yh=!0,this.Jh.next(t)},t}(),gy=function(){function t(t,e){this.payload=t,this.byteLength=e}return t.prototype.sl=function(){return"metadata"in this.payload},t}(),yy=function(){function t(t){this.Qt=t}return t.prototype.Pc=function(t){return xd(this.Qt,t)},t.prototype.yc=function(t){return t.metadata.exists?Rd(this.Qt,t.document,!1):new vh(this.Pc(t.metadata.name),this.gc(t.metadata.readTime))},t.prototype.gc=function(t){return Cd(t)},t}();!function(){function t(t,e,n){this.il=t,this.bh=e,this.Qt=n,this.queries=[],this.documents=[],this.progress=function(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}(t)}t.prototype.rl=function(t){this.progress.bytesLoaded+=t.byteLength;var e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null},t.prototype.ol=function(t){for(var e=new Map,n=new yy(this.Qt),r=0,i=t;r<i.length;r++){var s=i[r];if(s.metadata.queries)for(var o=n.Pc(s.metadata.name),a=0,u=s.metadata.queries;a<u.length;a++){var c=u[a],l=(e.get(c)||rd()).add(o);e.set(c,l)}}return e},t.prototype.complete=function(){return Object(ol.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:return[4,tg(this.bh,new yy(this.Qt),this.documents,this.il.id)];case 1:t=s.sent(),e=this.ol(this.documents),n=0,r=this.queries,s.label=2;case 2:return n<r.length?[4,eg(this.bh,i=r[n],e.get(i.name))]:[3,5];case 3:s.sent(),s.label=4;case 4:return n++,[3,2];case 5:return[2,(this.progress.taskState="Success",new Vm(Object.assign({},this.progress),t))]}})})}}();var by=function(t){this.key=t},vy=function(t){this.key=t},_y=function(){function t(t,e){this.query=t,this.cl=e,this.al=null,this.Be=!1,this.ul=rd(),this.De=rd(),this.hl=nf(t),this.ll=new od(this.hl)}return Object.defineProperty(t.prototype,"_l",{get:function(){return this.cl},enumerable:!1,configurable:!0}),t.prototype.fl=function(t,e){var n=this,r=e?e.dl:new ad,i=e?e.ll:this.ll,s=e?e.De:this.De,o=i,a=!1,u=Bh(this.query)&&i.size===this.query.limit?i.last():null,c=Gh(this.query)&&i.size===this.query.limit?i.first():null;if(t.Xt(function(t,e){var l=i.get(t),h=e instanceof bh?e:null;h&&(h=ef(n.query,h)?h:null);var f=!!l&&n.De.has(l.key),d=!!h&&(h.Vt||n.De.has(h.key)&&h.hasCommittedMutations),p=!1;l&&h?l.data().isEqual(h.data())?f!==d&&(r.track({type:3,doc:h}),p=!0):n.wl(l,h)||(r.track({type:2,doc:h}),p=!0,(u&&n.hl(h,u)>0||c&&n.hl(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),p=!0):l&&!h&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(a=!0)),p&&(h?(o=o.add(h),s=d?s.add(t):s.delete(t)):(o=o.delete(t),s=s.delete(t)))}),Bh(this.query)||Gh(this.query))for(;o.size>this.query.limit;){var l=Bh(this.query)?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{ll:o,dl:r,lc:a,De:s}},t.prototype.wl=function(t,e){return t.Vt&&e.hasCommittedMutations&&!e.Vt},t.prototype.wi=function(t,e,n){var r=this,i=this.ll;this.ll=t.ll,this.De=t.De;var s=t.dl.ve();s.sort(function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ml()}};return n(t)-n(e)}(t.type,e.type)||r.hl(t.doc,e.doc)}),this.El(n);var o=e?this.Tl():[],a=0===this.ul.size&&this.Be?1:0,u=a!==this.al;return this.al=a,0!==s.length||u?{snapshot:new ud(this.query,t.ll,i,s,t.De,0===a,u,!1),Il:o}:{Il:o}},t.prototype.Gh=function(t){return this.Be&&"Offline"===t?(this.Be=!1,this.wi({ll:this.ll,dl:new ad,De:this.De,lc:!1},!1)):{Il:[]}},t.prototype.ml=function(t){return!this.cl.has(t)&&!!this.ll.has(t)&&!this.ll.get(t).Vt},t.prototype.El=function(t){var e=this;t&&(t.qe.forEach(function(t){return e.cl=e.cl.add(t)}),t.Ue.forEach(function(t){}),t.Qe.forEach(function(t){return e.cl=e.cl.delete(t)}),this.Be=t.Be)},t.prototype.Tl=function(){var t=this;if(!this.Be)return[];var e=this.ul;this.ul=rd(),this.ll.forEach(function(e){t.ml(e.key)&&(t.ul=t.ul.add(e.key))});var n=[];return e.forEach(function(e){t.ul.has(e)||n.push(new vy(e))}),this.ul.forEach(function(t){e.has(t)||n.push(new by(t))}),n},t.prototype.Al=function(t){this.cl=t.Rc,this.ul=rd();var e=this.fl(t.documents);return this.wi(e,!0)},t.prototype.Rl=function(){return ud.Ne(this.query,this.ll,this.De,0===this.al)},t}(),wy=function(t,e,n){this.query=t,this.targetId=e,this.view=n},Ey=function(t){this.key=t,this.Pl=!1},Oy=function(){function t(t,e,n,r,i,s){this.bh=t,this.yl=e,this.gl=n,this.Vl=r,this.currentUser=i,this.pl=s,this.bl={},this.vl=new im(function(t){return Jh(t)},Xh),this.Sl=new Map,this.Dl=[],this.Cl=new Bf(Ul.H),this.xl=new Map,this.Nl=new rg,this.Fl={},this.Ol=new Map,this.kl=dm.$i(),this.onlineState="Unknown",this.Ml=void 0}return Object.defineProperty(t.prototype,"Ll",{get:function(){return!0===this.Ml},enumerable:!1,configurable:!0}),t}();function Cy(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ol.d)(this,function(a){switch(a.label){case 0:return n=Jy(t),(i=n.vl.get(e))?(n.Vl.Oa(i.targetId),r=i.view.Rl(),[3,4]):[3,1];case 1:return[4,Wm(n.bh,Yh(e))];case 2:return s=a.sent(),o=n.Vl.Oa(s.targetId),[4,Sy(n,e,s.targetId,"current"===o)];case 3:r=a.sent(),n.Ll&&Fg(n.yl,s),a.label=4;case 4:return[2,r]}})})}function Sy(t,e,n,r){return Object(ol.b)(this,void 0,void 0,function(){var i,s,o,a,u,c;return Object(ol.d)(this,function(l){switch(l.label){case 0:return t.$l=function(e,n,r){return function(t,e,n,r){return Object(ol.b)(this,void 0,void 0,function(){var i,s,o;return Object(ol.d)(this,function(a){switch(a.label){case 0:return(i=e.view.fl(n)).lc?[4,Ym(t.bh,e.query,!1).then(function(t){return e.view.fl(t.documents,i)})]:[3,2];case 1:i=a.sent(),a.label=2;case 2:return s=r&&r.Fe.get(e.targetId),o=e.view.wi(i,t.Ll,s),[2,(My(t,e.targetId,o.Il),o.snapshot)]}})})}(t,e,n,r)},[4,Ym(t.bh,e,!0)];case 1:return i=l.sent(),s=new _y(e,i.Rc),o=s.fl(i.documents),a=ld.$e(n,r&&"Offline"!==t.onlineState),u=s.wi(o,t.Ll,a),My(t,n,u.Il),c=new wy(e,n,s),[2,(t.vl.set(e,c),t.Sl.has(n)?t.Sl.get(n).push(e):t.Sl.set(n,[e]),u.snapshot)]}})})}function Ty(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:return n=yl(t),r=n.vl.get(e),(i=n.Sl.get(r.targetId)).length>1?[2,(n.Sl.set(r.targetId,i.filter(function(t){return!Xh(t,e)})),void n.vl.delete(e))]:n.Ll?(n.Vl.Ma(r.targetId),n.Vl.Da(r.targetId)?[3,2]:[4,Km(n.bh,r.targetId,!1).then(function(){n.Vl.$a(r.targetId),Ug(n.yl,r.targetId),Vy(n,r.targetId)}).catch(rm)]):[3,3];case 1:s.sent(),s.label=2;case 2:return[3,5];case 3:return Vy(n,r.targetId),[4,Km(n.bh,r.targetId,!0)];case 4:s.sent(),s.label=5;case 5:return[2]}})})}function Iy(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ol.d)(this,function(a){switch(a.label){case 0:r=tb(t),a.label=1;case 1:return a.trys.push([1,5,,6]),[4,function(t,e){var n,r=yl(t),i=Rl.now(),s=e.reduce(function(t,e){return t.add(e.key)},rd());return r.persistence.runTransaction("Locally write mutations","readwrite",function(t){return r.Tc.Xo(t,s).next(function(s){n=s;for(var o=[],a=0,u=e;a<u.length;a++){var c=u[a],l=xf(c,n.get(c.key));null!=l&&o.push(new Nf(c.key,l,gh(l.proto.mapValue),Of.exists(!0)))}return r.zo.Ri(t,i,o,e)})}).then(function(t){var e=t.xs(n);return{batchId:t.batchId,ri:e}})}(r.bh,e)];case 2:return i=a.sent(),r.Vl.Ca(i.batchId),function(t,e,n){var r=t.Fl[t.currentUser.A()];r||(r=new Bf(_l)),r=r.zt(e,n),t.Fl[t.currentUser.A()]=r}(r,i.batchId,n),[4,qy(r,i.ri)];case 3:return a.sent(),[4,Xg(r.yl)];case 4:return a.sent(),[3,6];case 5:return s=a.sent(),o=cp(s,"Failed to persist write"),n.reject(o),[3,6];case 6:return[2]}})})}function xy(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r;return Object(ol.d)(this,function(i){switch(i.label){case 0:n=yl(t),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,Gm(n.bh,e)];case 2:return r=i.sent(),e.Fe.forEach(function(t,e){var r=n.xl.get(e);r&&(gl(t.qe.size+t.Ue.size+t.Qe.size<=1),t.qe.size>0?r.Pl=!0:t.Ue.size>0?gl(r.Pl):t.Qe.size>0&&(gl(r.Pl),r.Pl=!1))}),[4,qy(n,r,e)];case 3:return i.sent(),[3,6];case 4:return[4,rm(i.sent())];case 5:return i.sent(),[3,6];case 6:return[2]}})})}function Ay(t,e,n){var r=yl(t);if(r.Ll&&0===n||!r.Ll&&1===n){var i=[];r.vl.forEach(function(t,n){var r=n.view.Gh(e);r.snapshot&&i.push(r.snapshot)}),function(t,e){var n=yl(t);n.onlineState=e;var r=!1;n.queries.forEach(function(t,n){for(var i=0,s=n.listeners;i<s.length;i++)s[i].Gh(e)&&(r=!0)}),r&&py(n)}(r.gl,e),i.length&&r.bl.ah(i),r.onlineState=e,r.Ll&&r.Vl.Qa(e)}}function ky(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i,s,o,a,u;return Object(ol.d)(this,function(c){switch(c.label){case 0:return(r=yl(t)).Vl.Ba(e,"rejected",n),i=r.xl.get(e),(s=i&&i.key)?(o=(o=new Bf(Ul.H)).zt(s,new vh(s,Pl.min())),a=rd().add(s),u=new cd(Pl.min(),new Map,new $f(_l),o,a),[4,xy(r,u)]):[3,2];case 1:return c.sent(),r.Cl=r.Cl.remove(s),r.xl.delete(e),Uy(r),[3,4];case 2:return[4,Km(r.bh,e,!1).then(function(){return Vy(r,e,n)}).catch(rm)];case 3:c.sent(),c.label=4;case 4:return[2]}})})}function jy(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:n=yl(t),r=e.batch.batchId,s.label=1;case 1:return s.trys.push([1,4,,6]),[4,zm(n.bh,e)];case 2:return i=s.sent(),Py(n,r,null),Ry(n,r),n.Vl.Na(r,"acknowledged"),[4,qy(n,i)];case 3:return s.sent(),[3,6];case 4:return[4,rm(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Ny(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:r=yl(t),s.label=1;case 1:return s.trys.push([1,4,,6]),[4,function(t,e){var n=yl(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",function(t){var r;return n.zo.Pi(t,e).next(function(e){return gl(null!==e),r=e.keys(),n.zo.Ci(t,e)}).next(function(){return n.zo.Fi(t)}).next(function(){return n.Tc.Xo(t,r)})})}(r.bh,e)];case 2:return i=s.sent(),Py(r,e,n),Ry(r,e),r.Vl.Na(e,"rejected",n),[4,qy(r,i)];case 3:return s.sent(),[3,6];case 4:return[4,rm(s.sent())];case 5:return s.sent(),[3,6];case 6:return[2]}})})}function Dy(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s,o;return Object(ol.d)(this,function(a){switch(a.label){case 0:Gg((n=yl(t)).yl)||hl("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),a.label=1;case 1:return a.trys.push([1,3,,4]),[4,function(t){var e=yl(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",function(t){return e.zo.Vi(t)})}(n.bh)];case 2:return-1===(r=a.sent())?[2,void e.resolve()]:((i=n.Ol.get(r)||[]).push(e),n.Ol.set(r,i),[3,4]);case 3:return s=a.sent(),o=cp(s,"Initialization of waitForPendingWrites() operation failed"),e.reject(o),[3,4];case 4:return[2]}})})}function Ry(t,e){(t.Ol.get(e)||[]).forEach(function(t){t.resolve()}),t.Ol.delete(e)}function Py(t,e,n){var r=yl(t),i=r.Fl[r.currentUser.A()];if(i){var s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Fl[r.currentUser.A()]=i}}function Vy(t,e,n){void 0===n&&(n=null),t.Vl.Ma(e);for(var r=0,i=t.Sl.get(e);r<i.length;r++){var s=i[r];t.vl.delete(s),n&&t.bl.Bl(s,n)}t.Sl.delete(e),t.Ll&&t.Nl.Oc(e).forEach(function(e){t.Nl.Oi(e)||Ly(t,e)})}function Ly(t,e){var n=t.Cl.get(e);null!==n&&(Ug(t.yl,n),t.Cl=t.Cl.remove(e),t.xl.delete(n),Uy(t))}function My(t,e,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];s instanceof by?(t.Nl.nr(s.key,e),Fy(t,s)):s instanceof vy?(hl("SyncEngine","Document no longer in limbo: "+s.key),t.Nl.ir(s.key,e),t.Nl.Oi(s.key)||Ly(t,s.key)):ml()}}function Fy(t,e){var n=e.key;t.Cl.get(n)||(hl("SyncEngine","New document in limbo: "+n),t.Dl.push(n),Uy(t))}function Uy(t){for(;t.Dl.length>0&&t.Cl.size<t.pl;){var e=t.Dl.shift(),n=t.kl.next();t.xl.set(n,new Ey(e)),t.Cl=t.Cl.zt(e,n),Fg(t.yl,new sf(Yh(zh(e.path)),n,2,Dl.q))}}function qy(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i,s,o;return Object(ol.d)(this,function(a){switch(a.label){case 0:return r=yl(t),i=[],s=[],o=[],r.vl.et()?[3,3]:(r.vl.forEach(function(t,a){o.push(r.$l(a,e,n).then(function(t){if(t){r.Ll&&r.Vl.Ba(a.targetId,t.fromCache?"not-current":"current"),i.push(t);var e=Mm.oc(a.targetId,t);s.push(e)}}))}),[4,Promise.all(o)]);case 1:return a.sent(),r.bl.ah(i),[4,function(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c;return Object(ol.d)(this,function(l){switch(l.label){case 0:n=yl(t),l.label=1;case 1:return l.trys.push([1,3,,4]),[4,n.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(t){return Xd.forEach(e,function(e){return Xd.forEach(e.ic,function(r){return n.persistence.Ti.nr(t,e.targetId,r)}).next(function(){return Xd.forEach(e.rc,function(r){return n.persistence.Ti.ir(t,e.targetId,r)})})})})];case 2:return l.sent(),[3,4];case 3:if(!rp(r=l.sent()))throw r;return hl("LocalStore","Failed to update sequence numbers: "+r),[3,4];case 4:for(i=0,s=e;i<s.length;i++)a=(o=s[i]).targetId,o.fromCache||(u=n.fc.get(a),c=u.$t(u.kt),n.fc=n.fc.zt(a,c));return[2]}})})}(r.bh,s)];case 2:a.sent(),a.label=3;case 3:return[2]}})})}function Hy(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r;return Object(ol.d)(this,function(i){switch(i.label){case 0:return(n=yl(t)).currentUser.isEqual(e)?[3,3]:(hl("SyncEngine","User change. New user:",e.A()),[4,Hm(n.bh,e)]);case 1:return r=i.sent(),n.currentUser=e,function(t,e){t.Ol.forEach(function(t){t.forEach(function(t){t.reject(new Sl(Cl.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),t.Ol.clear()}(n),n.Vl.Ua(e,r.mc,r.Ac),[4,qy(n,r.Ic)];case 2:i.sent(),i.label=3;case 3:return[2]}})})}function zy(t,e){var n=yl(t),r=n.xl.get(e);if(r&&r.Pl)return rd().add(r.key);var i=rd(),s=n.Sl.get(e);if(!s)return i;for(var o=0,a=s;o<a.length;o++){var u=n.vl.get(a[o]);i=i.Pe(u.view._l)}return i}function By(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:return[4,Ym((n=yl(t)).bh,e.query,!0)];case 1:return r=s.sent(),i=e.view.Al(r),[2,(n.Ll&&My(n,e.targetId,i.Il),i)]}})})}function Gy(t){return Object(ol.b)(this,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){return[2,Xm((e=yl(t)).bh).then(function(t){return qy(e,t)})]})})}function Qy(t,e,n,r){return Object(ol.b)(this,void 0,void 0,function(){var i,s;return Object(ol.d)(this,function(o){switch(o.label){case 0:return[4,function(t,e){var n=yl(t),r=yl(n.zo);return n.persistence.runTransaction("Lookup mutation documents","readonly",function(t){return r.yi(t,e).next(function(e){return e?n.Tc.Xo(t,e):Xd.resolve(null)})})}((i=yl(t)).bh,e)];case 1:return null===(s=o.sent())?[3,6]:"pending"!==n?[3,3]:[4,Xg(i.yl)];case 2:return o.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(Py(i,e,r||null),Ry(i,e),function(t,e){yl(yl(t).zo).xi(e)}(i.bh,e)):ml(),o.label=4;case 4:return[4,qy(i,s)];case 5:return o.sent(),[3,7];case 6:hl("SyncEngine","Cannot apply mutation batch with id: "+e),o.label=7;case 7:return[2]}})})}function $y(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u;return Object(ol.d)(this,function(c){switch(c.label){case 0:return Jy(n=yl(t)),tb(n),!0!==e||!0===n.Ml?[3,3]:(r=n.Vl.va(),[4,Wy(n,r.it())]);case 1:return i=c.sent(),n.Ml=!0,[4,sy(n.yl,!0)];case 2:for(c.sent(),s=0,o=i;s<o.length;s++)Fg(n.yl,o[s]);return[3,7];case 3:return!1!==e||!1===n.Ml?[3,7]:(a=[],u=Promise.resolve(),n.Sl.forEach(function(t,e){n.Vl.La(e)?a.push(e):u=u.then(function(){return Vy(n,e),Km(n.bh,e,!0)}),Ug(n.yl,e)}),[4,u]);case 4:return c.sent(),[4,Wy(n,a)];case 5:return c.sent(),function(t){var e=yl(t);e.xl.forEach(function(t,n){Ug(e.yl,n)}),e.Nl.kc(),e.xl=new Map,e.Cl=new Bf(Ul.H)}(n),n.Ml=!1,[4,sy(n.yl,!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})}function Wy(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s,o,a,u,c,l,h,f,d,p;return Object(ol.d)(this,function(m){switch(m.label){case 0:n=yl(t),r=[],i=[],s=0,o=e,m.label=1;case 1:return s<o.length?(u=void 0,(c=n.Sl.get(a=o[s]))&&0!==c.length?[4,Wm(n.bh,Yh(c[0]))]:[3,7]):[3,13];case 2:u=m.sent(),l=0,h=c,m.label=3;case 3:return l<h.length?(f=n.vl.get(h[l]),[4,By(n,f)]):[3,6];case 4:(d=m.sent()).snapshot&&i.push(d.snapshot),m.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,Zm(n.bh,a)];case 8:return p=m.sent(),[4,Wm(n.bh,p)];case 9:return u=m.sent(),[4,Sy(n,Ky(p),a,!1)];case 10:m.sent(),m.label=11;case 11:r.push(u),m.label=12;case 12:return s++,[3,1];case 13:return[2,(n.bl.ah(i),r)]}})})}function Ky(t){return Hh(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function Yy(t){var e=yl(t);return yl(yl(e.bh).persistence).Uo()}function Zy(t,e,n,r){return Object(ol.b)(this,void 0,void 0,function(){var i,s,o;return Object(ol.d)(this,function(a){switch(a.label){case 0:return(i=yl(t)).Ml?(hl("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.Sl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,Xm(i.bh)];case 3:return s=a.sent(),o=cd.Le(e,"current"===n),[4,qy(i,s,o)];case 4:return a.sent(),[3,8];case 5:return[4,Km(i.bh,e,!0)];case 6:return a.sent(),Vy(i,e,r),[3,8];case 7:ml(),a.label=8;case 8:return[2]}})})}function Xy(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i,s,o,a,u,c,l,h;return Object(ol.d)(this,function(f){switch(f.label){case 0:if(!(r=Jy(t)).Ml)return[3,10];i=0,s=e,f.label=1;case 1:return i<s.length?r.Sl.has(o=s[i])?(hl("SyncEngine","Adding an already active target "+o),[3,5]):[4,Zm(r.bh,o)]:[3,6];case 2:return a=f.sent(),[4,Wm(r.bh,a)];case 3:return u=f.sent(),[4,Sy(r,Ky(a),u.targetId,!1)];case 4:f.sent(),Fg(r.yl,u),f.label=5;case 5:return i++,[3,1];case 6:c=function(t){return Object(ol.d)(this,function(e){switch(e.label){case 0:return r.Sl.has(t)?[4,Km(r.bh,t,!1).then(function(){Ug(r.yl,t),Vy(r,t)}).catch(rm)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}})},l=0,h=n,f.label=7;case 7:return l<h.length?[5,c(h[l])]:[3,10];case 8:f.sent(),f.label=9;case 9:return l++,[3,7];case 10:return[2]}})})}function Jy(t){var e=yl(t);return e.yl.Dh.$h=xy.bind(null,e),e.yl.Dh.vn=zy.bind(null,e),e.yl.Dh.Lh=ky.bind(null,e),e.bl.ah=fy.bind(null,e.gl),e.bl.Bl=dy.bind(null,e.gl),e}function tb(t){var e=yl(t);return e.yl.Dh.Bh=jy.bind(null,e),e.yl.Dh.qh=Ny.bind(null,e),e}var eb=function(){function t(){this.synchronizeTabs=!1}return t.prototype.initialize=function(t){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return this.Qt=Ag(t.yu.t),this.Vl=this.Wl(t),this.persistence=this.jl(t),[4,this.persistence.start()];case 1:return e.sent(),this.Gl=this.zl(t),this.bh=this.Hl(t),[2]}})})},t.prototype.zl=function(t){return null},t.prototype.Hl=function(t){return qm(this.persistence,new Fm,t.Jl,this.Qt)},t.prototype.jl=function(t){return new cg(hg.ia,this.Qt)},t.prototype.Wl=function(t){return new wg},t.prototype.terminate=function(){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(t){switch(t.label){case 0:return this.Gl&&this.Gl.stop(),[4,this.Vl.Mo()];case 1:return t.sent(),[4,this.persistence.Mo()];case 2:return t.sent(),[2]}})})},t}(),nb=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).Yl=e,i.cacheSizeBytes=n,i.forceOwnership=r,i.synchronizeTabs=!1,i}return Object(ol.c)(e,t),e.prototype.initialize=function(e){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,Jm(this.bh)];case 2:return n.sent(),[4,this.Yl.initialize(this,e)];case 3:return n.sent(),[4,tb(this.Yl._a)];case 4:return n.sent(),[4,Xg(this.Yl.yl)];case 5:return n.sent(),[2]}})})},e.prototype.Hl=function(t){return qm(this.persistence,new Fm,t.Jl,this.Qt)},e.prototype.zl=function(t){return new _m(this.persistence.Ti.lr,t._s)},e.prototype.jl=function(t){var e=Pm(t.yu.t,t.yu.persistenceKey),n=void 0!==this.cacheSizeBytes?nm.Ys(this.cacheSizeBytes):nm.ti;return new Nm(this.synchronizeTabs,e,t.clientId,n,t._s,Ig(),xg(),this.Qt,this.Vl,!!this.forceOwnership)},e.prototype.Wl=function(t){return new wg},e}(eb),rb=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n,!1)||this).Yl=e,r.cacheSizeBytes=n,r.synchronizeTabs=!0,r}return Object(ol.c)(e,t),e.prototype.initialize=function(e){return Object(ol.b)(this,void 0,void 0,function(){var n,r=this;return Object(ol.d)(this,function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),n=this.Yl._a,this.Vl instanceof _g?(this.Vl._a={eu:Qy.bind(null,n),nu:Zy.bind(null,n),su:Xy.bind(null,n),Uo:Yy.bind(null,n),tu:Gy.bind(null,n)},[4,this.Vl.start()]):[3,3];case 2:i.sent(),i.label=3;case 3:return[4,this.persistence.Ro(function(t){return Object(ol.b)(r,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return[4,$y(this.Yl._a,t)];case 1:return e.sent(),this.Gl&&(t&&!this.Gl.Er?this.Gl.start(this.bh):t||this.Gl.stop()),[2]}})})})];case 4:return i.sent(),[2]}})})},e.prototype.Wl=function(t){var e=Ig();if(!_g.Kn(e))throw new Sl(Cl.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=Pm(t.yu.t,t.yu.persistenceKey);return new _g(e,t._s,n,t.clientId,t.Jl)},e}(nb),ib=function(){function t(){}return t.prototype.initialize=function(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n=this;return Object(ol.d)(this,function(r){switch(r.label){case 0:return this.bh?[3,2]:(this.bh=t.bh,this.Vl=t.Vl,this.Sh=this.Xl(e),this.yl=this.Zl(e),this.gl=this.t_(e),this._a=this.e_(e,!t.synchronizeTabs),this.Vl.fa=function(t){return Ay(n._a,t,1)},this.yl.Dh.n_=Hy.bind(null,this._a),[4,sy(this.yl,this._a.Ll)]);case 1:r.sent(),r.label=2;case 2:return[2]}})})},t.prototype.t_=function(t){return new cy},t.prototype.Xl=function(t){var e=Ag(t.yu.t),n=new Tg(t.yu);return function(t,e,n){return new Rg(t,e,n)}(t.credentials,n,e)},t.prototype.Zl=function(t){var e,n,r,i,s,o=this;return e=this.bh,n=this.Sh,r=t._s,i=function(t){return Ay(o._a,t,0)},s=Og.Kn()?new Og:new Eg,new Vg(e,n,r,i,s)},t.prototype.e_=function(t,e){return function(t,e,n,r,i,s,o){var a=new Oy(t,e,n,r,i,s);return o&&(a.Ml=!0),a}(this.bh,this.yl,this.gl,this.Vl,t.Jl,t.pl,e)},t.prototype.terminate=function(){return function(t){return Object(ol.b)(this,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return e=yl(t),hl("RemoteStore","RemoteStore shutting down."),e.Nh.add(5),[4,Mg(e)];case 1:return n.sent(),e.Oh.Mo(),e.kh.set("Unknown"),[2]}})})}(this.yl)},t}(),sb=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.s_(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.s_(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.i_=function(){this.muted=!0},t.prototype.s_=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),ob=(function(){function t(t,e){var n=this;this.r_=t,this.Qt=e,this.metadata=new Zd,this.buffer=new Uint8Array,this.o_=new TextDecoder("utf-8"),this.c_().then(function(t){t&&t.sl()?n.metadata.resolve(t.payload.metadata):n.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             "+JSON.stringify(null==t?void 0:t.payload)))},function(t){return n.metadata.reject(t)})}t.prototype.close=function(){return this.r_.cancel()},t.prototype.getMetadata=function(){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(t){return[2,this.metadata.promise]})})},t.prototype.Ql=function(){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(t){switch(t.label){case 0:return[4,this.getMetadata()];case 1:return[2,(t.sent(),this.c_())]}})})},t.prototype.c_=function(){return Object(ol.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(ol.d)(this,function(i){switch(i.label){case 0:return[4,this.a_()];case 1:return null===(t=i.sent())?[2,null]:(e=this.o_.decode(t),n=Number(e),isNaN(n)&&this.u_("length string ("+e+") is not valid number"),[4,this.h_(n)]);case 2:return r=i.sent(),[2,new gy(JSON.parse(r),t.length+n)]}})})},t.prototype.l_=function(){return this.buffer.findIndex(function(t){return t==="{".charCodeAt(0)})},t.prototype.a_=function(){return Object(ol.b)(this,void 0,void 0,function(){var t,e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return this.l_()<0?[4,this.__()]:[3,3];case 1:if(n.sent())return[3,3];n.label=2;case 2:return[3,0];case 3:return 0===this.buffer.length?[2,null]:((t=this.l_())<0&&this.u_("Reached the end of bundle when a length string is expected."),e=this.buffer.slice(0,t),[2,(this.buffer=this.buffer.slice(t),e)])}})})},t.prototype.h_=function(t){return Object(ol.b)(this,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return this.buffer.length<t?[4,this.__()]:[3,3];case 1:n.sent()&&this.u_("Reached the end of bundle when more is expected."),n.label=2;case 2:return[3,0];case 3:return e=this.o_.decode(this.buffer.slice(0,t)),[2,(this.buffer=this.buffer.slice(t),e)]}})})},t.prototype.u_=function(t){throw this.r_.cancel(),new Error("Invalid bundle format: "+t)},t.prototype.__=function(){return Object(ol.b)(this,void 0,void 0,function(){var t,e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return[4,this.r_.read()];case 1:return(t=n.sent()).done||((e=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),e.set(t.value,this.buffer.length),this.buffer=e),[2,t.done]}})})}}(),function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=0;n<t.length;++n)if(0===t[n].length)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.f_=new Fl(t)}return t.prototype.isEqual=function(t){return this.f_.isEqual(t.f_)},t}()),ab=function(t){this._methodName=t},ub=function(t){this.d_=t};function cb(t,e,n){if(!n)throw new Sl(Cl.INVALID_ARGUMENT,"Function "+t+"() cannot be called with an empty "+e+".")}function lb(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function hb(t,e,n,r){if(!0===e&&!0===r)throw new Sl(Cl.INVALID_ARGUMENT,t+" and "+n+" cannot be used together.")}function fb(t){if(!Ul.wt(t))throw new Sl(Cl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t+" has "+t.length+".")}function db(t){if(Ul.wt(t))throw new Sl(Cl.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+t+" has "+t.length+".")}function pb(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":ml()}function mb(t,e){if("_delegate"in t&&(t=t.d_),!(t instanceof e)){if(e.name===t.constructor.name)throw new Sl(Cl.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=pb(t);throw new Sl(Cl.INVALID_ARGUMENT,"Expected type '"+e.name+"', but it was: "+n)}return t}function gb(t,e){if(e<=0)throw new Sl(Cl.INVALID_ARGUMENT,"Function "+t+"() requires a positive number, but it was: "+e+".")}var yb=function(){function t(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new Sl(Cl.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new Sl(Cl.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,hb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),bb=new Map,vb=function(){function t(t,e){this.w_="(lite)",this.E_=new yb({}),this.T_=!1,t instanceof ul?(this.I_=t,this.m_=new Al):(this.A_=t,this.I_=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new Sl(Cl.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ul(t.options.projectId)}(t),this.m_=new kl(e))}return Object.defineProperty(t.prototype,"app",{get:function(){if(!this.A_)throw new Sl(Cl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.A_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"R_",{get:function(){return this.T_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"P_",{get:function(){return void 0!==this.y_},enumerable:!1,configurable:!0}),t.prototype.g_=function(t){if(this.T_)throw new Sl(Cl.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this.E_=new yb(t),void 0!==t.credentials&&(this.m_=function(t){if(!t)return new Al;switch(t.type){case"gapi":var e=t.client;return gl(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new Nl(e,t.sessionIndex||"0");case"provider":return t.client;default:throw new Sl(Cl.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))},t.prototype.V_=function(){return this.E_},t.prototype.p_=function(){return this.T_=!0,this.E_},t.prototype._delete=function(){return this.y_||(this.y_=this.b_()),this.y_},t.prototype.toJSON=function(){return{app:this.A_,t:this.I_,settings:this.E_}},t.prototype.b_=function(){return(t=bb.get(this))&&(hl("ComponentProvider","Removing Datastore"),bb.delete(this),t.terminate()),Promise.resolve();var t},t}(),_b=function(){function t(t,e,n){this.v_=e,this.S_=n,this.type="document",this.firestore=t}return Object.defineProperty(t.prototype,"D_",{get:function(){return this.S_.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this.S_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new Eb(this.firestore,this.v_,this.S_.path.X())},enumerable:!1,configurable:!0}),t.prototype.withConverter=function(e){return new t(this.firestore,e,this.S_)},t}(),wb=function(){function t(t,e,n){this.v_=e,this.C_=n,this.type="query",this.firestore=t}return t.prototype.withConverter=function(e){return new t(this.firestore,e,this.C_)},t}(),Eb=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,zh(r))||this).firestore=e,i.D_=r,i.type="collection",i}return Object(ol.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.C_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.C_.path.rt()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.D_.X();return t.et()?null:new _b(this.firestore,null,new Ul(t))},enumerable:!1,configurable:!0}),e.prototype.withConverter=function(t){return new e(this.firestore,t,this.D_)},e}(wb);function Ob(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ub&&(t=t.d_),cb("collection","path",e),t instanceof vb)return db(n=Ll.ot.apply(Ll,Object(ol.g)([e],r))),new Eb(t,null,n);if(!(t instanceof _b||t instanceof Eb))throw new Sl(Cl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return db(n=Ll.ot.apply(Ll,Object(ol.g)([t.path],r)).child(Ll.ot(e))),new Eb(t.firestore,null,n)}function Cb(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(t instanceof ub&&(t=t.d_),1===arguments.length&&(e=vl.u()),cb("doc","path",e),t instanceof vb)return fb(n=Ll.ot.apply(Ll,Object(ol.g)([e],r))),new _b(t,null,new Ul(n));if(!(t instanceof _b||t instanceof Eb))throw new Sl(Cl.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");return fb(n=t.D_.child(Ll.ot.apply(Ll,Object(ol.g)([e],r)))),new _b(t.firestore,t instanceof Eb?t.v_:null,new Ul(n))}function Sb(t,e){return t instanceof ub&&(t=t.d_),e instanceof ub&&(e=e.d_),(t instanceof _b||t instanceof Eb)&&(e instanceof _b||e instanceof Eb)&&t.firestore===e.firestore&&t.path===e.path&&t.v_===e.v_}function Tb(t,e){return t instanceof ub&&(t=t.d_),e instanceof ub&&(e=e.d_),t instanceof wb&&e instanceof wb&&t.firestore===e.firestore&&Xh(t.C_,e.C_)&&t.v_===e.v_}var Ib=function(){function t(t,e){if(!isFinite(t)||t<-90||t>90)throw new Sl(Cl.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Sl(Cl.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.x_=t,this.N_=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.x_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.N_},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.x_===t.x_&&this.N_===t.N_},t.prototype.toJSON=function(){return{latitude:this.x_,longitude:this.N_}},t.prototype.U=function(t){return _l(this.x_,t.x_)||_l(this.N_,t.N_)},t}(),xb=/^__.*__$/,Ab=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return null!==this.Gt?new Nf(t,this.data,this.Gt,e,this.fieldTransforms):new jf(t,this.data,e,this.fieldTransforms)},t}(),kb=function(){function t(t,e,n){this.data=t,this.Gt=e,this.fieldTransforms=n}return t.prototype.F_=function(t,e){return new Nf(t,this.data,this.Gt,e,this.fieldTransforms)},t}();function jb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ml()}}var Nb=function(){function t(t,e,n,r,i,s){this.settings=t,this.t=e,this.Qt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.O_(),this.fieldTransforms=i||[],this.Gt=s||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"k_",{get:function(){return this.settings.k_},enumerable:!1,configurable:!0}),t.prototype.M_=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.t,this.Qt,this.ignoreUndefinedProperties,this.fieldTransforms,this.Gt)},t.prototype.L_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.q_(t),r},t.prototype.U_=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.M_({path:n,B_:!1});return r.O_(),r},t.prototype.Q_=function(t){return this.M_({path:void 0,B_:!0})},t.prototype.K_=function(t){return Xb(t,this.settings.methodName,this.settings.W_||!1,this.path,this.settings.j_)},t.prototype.contains=function(t){return void 0!==this.Gt.find(function(e){return t.nt(e)})||void 0!==this.fieldTransforms.find(function(e){return t.nt(e.field)})},t.prototype.O_=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.q_(this.path.get(t))},t.prototype.q_=function(t){if(0===t.length)throw this.K_("Document fields must not be empty");if(jb(this.k_)&&xb.test(t))throw this.K_('Document fields cannot begin and end with "__"')},t}(),Db=function(){function t(t,e,n){this.t=t,this.ignoreUndefinedProperties=e,this.Qt=n||Ag(t)}return t.prototype.G_=function(t,e,n,r){return void 0===r&&(r=!1),new Nb({k_:t,methodName:e,j_:n,path:Fl.ct(),B_:!1,W_:r},this.t,this.Qt,this.ignoreUndefinedProperties)},t}();function Rb(t){var e=t.p_(),n=Ag(t.I_);return new Db(t.I_,!!e.ignoreUndefinedProperties,n)}function Pb(t,e,n,r,i,s){void 0===s&&(s={});var o=t.G_(s.merge||s.mergeFields?2:0,e,n,i);Wb("Data must be an object, but it was:",o,r);var a,u,c=Qb(r,o);if(s.merge)a=new Bl(o.Gt),u=o.fieldTransforms;else if(s.mergeFields){for(var l=[],h=0,f=s.mergeFields;h<f.length;h++){var d=Kb(e,f[h],n);if(!o.contains(d))throw new Sl(Cl.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");Jb(l,d)||l.push(d)}a=new Bl(l),u=o.fieldTransforms.filter(function(t){return a.Tt(t.field)})}else a=null,u=o.fieldTransforms;return new Ab(new ph(c),a,u)}var Vb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.z_=function(t){if(2!==t.k_)throw t.K_(1===t.k_?this._methodName+"() can only appear at the top level of your update data":this._methodName+"() cannot be used with set() unless you pass {merge:true}");return t.Gt.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(ab);function Lb(t,e,n){return new Nb({k_:3,j_:e.settings.j_,methodName:t._methodName,B_:n},e.t,e.Qt,e.ignoreUndefinedProperties)}var Mb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.z_=function(t){return new wf(t.path,new df)},e.prototype.isEqual=function(t){return t instanceof e},e}(ab),Fb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(ol.c)(e,t),e.prototype.z_=function(t){var e=Lb(this,t,!0),n=this.H_.map(function(t){return Gb(t,e)}),r=new pf(n);return new wf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ab),Ub=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).H_=n,r}return Object(ol.c)(e,t),e.prototype.z_=function(t){var e=Lb(this,t,!0),n=this.H_.map(function(t){return Gb(t,e)}),r=new gf(n);return new wf(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(ab),qb=function(t){function e(e,n){var r=this;return(r=t.call(this,e)||this).J_=n,r}return Object(ol.c)(e,t),e.prototype.z_=function(t){var e=new bf(t.Qt,uf(t.Qt,this.J_));return new wf(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(ab);function Hb(t,e,n,r){var i=t.G_(1,e,n);Wb("Data must be an object, but it was:",i,r);var s=[],o=new mh;Hl(r,function(t,r){var a=Zb(e,t,n);r instanceof ub&&(r=r.d_);var u=i.U_(a);if(r instanceof Vb)s.push(a);else{var c=Gb(r,u);null!=c&&(s.push(a),o.set(a,c))}});var a=new Bl(s);return new kb(o.Pt(),a,i.fieldTransforms)}function zb(t,e,n,r,i,s){var o=t.G_(1,e,n),a=[Kb(e,r,n)],u=[i];if(s.length%2!=0)throw new Sl(Cl.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<s.length;c+=2)a.push(Kb(e,s[c])),u.push(s[c+1]);for(var l=[],h=new mh,f=a.length-1;f>=0;--f)if(!Jb(l,a[f])){var d=a[f],p=u[f];p instanceof ub&&(p=p.d_);var m=o.U_(d);if(p instanceof Vb)l.push(d);else{var g=Gb(p,m);null!=g&&(l.push(d),h.set(d,g))}}var y=new Bl(l);return new kb(h.Pt(),y,o.fieldTransforms)}function Bb(t,e,n,r){return void 0===r&&(r=!1),Gb(n,t.G_(r?4:3,e))}function Gb(t,e){if(t instanceof ub&&(t=t.d_),$b(t))return Wb("Unsupported field value:",e,t),Qb(t,e);if(t instanceof ab)return function(t,e){if(!jb(e.k_))throw e.K_(t._methodName+"() can only be used with update() and set()");if(!e.path)throw e.K_(t._methodName+"() is not currently supported inside arrays");var n=t.z_(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.Gt.push(e.path),t instanceof Array){if(e.settings.B_&&4!==e.k_)throw e.K_("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,s=t;i<s.length;i++){var o=Gb(s[i],e.Q_(r));null==o&&(o={nullValue:"NULL_VALUE"}),n.push(o),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(t instanceof ub&&(t=t.d_),null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return uf(e.Qt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Rl.fromDate(t);return{timestampValue:wd(e.Qt,n)}}if(t instanceof Rl)return n=new Rl(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)),{timestampValue:wd(e.Qt,n)};if(t instanceof Ib)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Tl)return{bytesValue:Ed(e.Qt,t.I)};if(t instanceof _b){var r=t.firestore.I_;if(!r.isEqual(n=e.t))throw e.K_("Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return{referenceValue:Sd(t.firestore.I_||e.t,t.S_.path)}}throw e.K_("Unsupported field value: "+pb(t))}(t,e)}function Qb(t,e){var n={};return zl(t)?e.path&&e.path.length>0&&e.Gt.push(e.path):Hl(t,function(t,r){var i=Gb(r,e.L_(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function $b(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Rl||t instanceof Ib||t instanceof Tl||t instanceof _b||t instanceof ab)}function Wb(t,e,n){if(!$b(n)||!function(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}(n)){var r=pb(n);throw e.K_("an object"===r?t+" a custom object":t+" "+r)}}function Kb(t,e,n){if(e instanceof ub&&(e=e.d_),e instanceof ob)return e.f_;if("string"==typeof e)return Zb(t,e);throw Xb("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}var Yb=new RegExp("[~\\*/\\[\\]]");function Zb(t,e,n){if(e.search(Yb)>=0)throw Xb("Invalid field path ("+e+"). Paths must not contain '~', '*', '/', '[', or ']'",t,!1,void 0,n);try{return(new(ob.bind.apply(ob,Object(ol.g)([void 0],e.split("."))))).f_}catch(r){throw Xb("Invalid field path ("+e+"). Paths must not be empty, begin with '.', end with '.', or contain '..'",t,!1,void 0,n)}}function Xb(t,e,n,r,i){var s=r&&!r.et(),o=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(s||o)&&(u+=" (found",s&&(u+=" in field "+r),o&&(u+=" in document "+i),u+=")"),new Sl(Cl.INVALID_ARGUMENT,(a+=". ")+t+u)}function Jb(t,e){return t.some(function(t){return t.isEqual(e)})}var tv=function(){function t(t){this.Sh=t,this.Y_=new Map,this.mutations=[],this.X_=!1,this.Z_=null,this.tf=new Set}return t.prototype.ef=function(t){return Object(ol.b)(this,void 0,void 0,function(){var e,n=this;return Object(ol.d)(this,function(r){switch(r.label){case 0:if(this.nf(),this.mutations.length>0)throw new Sl(Cl.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i,s,o,a;return Object(ol.d)(this,function(u){switch(u.label){case 0:return n=yl(t),r=jd(n.Qt)+"/documents",i={documents:e.map(function(t){return Id(n.Qt,t)})},[4,n.Du("BatchGetDocuments",r,i)];case 1:return s=u.sent(),o=new Map,s.forEach(function(t){var e=function(t,e){return"found"in e?function(t,e){gl(!!e.found);var n=xd(t,e.found.name),r=Cd(e.found.updateTime),i=new ph({mapValue:{fields:e.found.fields}});return new bh(n,r,i,{})}(t,e):"missing"in e?function(t,e){gl(!!e.missing),gl(!!e.readTime);var n=xd(t,e.missing),r=Cd(e.readTime);return new vh(n,r)}(t,e):ml()}(n.Qt,t);o.set(e.key.toString(),e)}),a=[],[2,(e.forEach(function(t){var e=o.get(t.toString());gl(!!e),a.push(e)}),a)]}})})}(this.Sh,t)];case 1:return[2,((e=r.sent()).forEach(function(t){t instanceof vh||t instanceof bh?n.sf(t):ml()}),e)]}})})},t.prototype.set=function(t,e){this.write(e.F_(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.update=function(t,e){try{this.write(e.F_(t,this.rf(t)))}catch(t){this.Z_=t}this.tf.add(t.toString())},t.prototype.delete=function(t){this.write(new Ff(t,this.jt(t))),this.tf.add(t.toString())},t.prototype.commit=function(){return Object(ol.b)(this,void 0,void 0,function(){var t,e=this;return Object(ol.d)(this,function(n){switch(n.label){case 0:if(this.nf(),this.Z_)throw this.Z_;return t=this.Y_,this.mutations.forEach(function(e){t.delete(e.key.toString())}),t.forEach(function(t,n){var r=Ul._t(n);e.mutations.push(new Uf(r,e.jt(r)))}),[4,function(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:return n=yl(t),r=jd(n.Qt)+"/documents",i={writes:e.map(function(t){return Pd(n.Qt,t)})},[4,n.pu("Commit",r,i)];case 1:return s.sent(),[2]}})})}(this.Sh,this.mutations)];case 1:return n.sent(),this.X_=!0,[2]}})})},t.prototype.sf=function(t){var e;if(t instanceof bh)e=t.version;else{if(!(t instanceof vh))throw ml();e=Pl.min()}var n=this.Y_.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Sl(Cl.ABORTED,"Document version changed between two reads.")}else this.Y_.set(t.key.toString(),e)},t.prototype.jt=function(t){var e=this.Y_.get(t.toString());return!this.tf.has(t.toString())&&e?Of.updateTime(e):Of.Kt()},t.prototype.rf=function(t){var e=this.Y_.get(t.toString());if(!this.tf.has(t.toString())&&e){if(e.isEqual(Pl.min()))throw new Sl(Cl.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Of.updateTime(e)}return Of.exists(!0)},t.prototype.write=function(t){this.nf(),this.mutations.push(t)},t.prototype.nf=function(){},t}(),ev=function(){function t(t,e,n,r){this._s=t,this.Sh=e,this.updateFunction=n,this.Es=r,this.cf=5,this.Gu=new kg(this._s,"transaction_retry")}return t.prototype.run=function(){this.af()},t.prototype.af=function(){var t=this;this.Gu.$u(function(){return Object(ol.b)(t,void 0,void 0,function(){var t,e,n=this;return Object(ol.d)(this,function(r){return t=new tv(this.Sh),(e=this.uf(t))&&e.then(function(e){n._s.Ps(function(){return t.commit().then(function(){n.Es.resolve(e)}).catch(function(t){n.hf(t)})})}).catch(function(t){n.hf(t)}),[2]})})})},t.prototype.uf=function(t){try{var e=this.updateFunction(t);return!Xl(e)&&e.catch&&e.then?e:(this.Es.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.Es.reject(t),null}},t.prototype.hf=function(t){var e=this;this.cf>0&&this.lf(t)?(this.cf-=1,this._s.Ps(function(){return e.af(),Promise.resolve()})):this.Es.reject(t)},t.prototype.lf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Hf(e)}return!1},t}(),nv=function(){function t(t,e,n){var r=this;this.credentials=t,this._s=e,this.yu=n,this.user=Il.UNAUTHENTICATED,this.clientId=vl.u(),this._f=function(){},this.C=new Zd,this.credentials.v(function(t){hl("FirestoreClient","Received user=",t.uid),r.user=t,r._f(t),r.C.resolve()})}return t.prototype.getConfiguration=function(){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(t){switch(t.label){case 0:return[4,this.C.promise];case 1:return[2,(t.sent(),{_s:this._s,yu:this.yu,clientId:this.clientId,credentials:this.credentials,Jl:this.user,pl:100})]}})})},t.prototype.ff=function(t){var e=this;this._f=t,this.C.promise.then(function(){return e._f(e.user)})},t.prototype.df=function(){if(this._s.wf)throw new Sl(Cl.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.terminate=function(){var t=this;this._s.Ef();var e=new Zd;return this._s.Tf(function(){return Object(ol.b)(t,void 0,void 0,function(){var t,n;return Object(ol.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,5,,6]),this.If?[4,this.If.terminate()]:[3,2];case 1:r.sent(),r.label=2;case 2:return this.mf?[4,this.mf.terminate()]:[3,4];case 3:r.sent(),r.label=4;case 4:return this.credentials.S(),e.resolve(),[3,6];case 5:return t=r.sent(),n=cp(t,"Failed to shutdown persistence"),e.reject(n),[3,6];case 6:return[2]}})})}),e.promise},t}();function rv(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r,i=this;return Object(ol.d)(this,function(s){switch(s.label){case 0:return t._s.Af(),hl("FirestoreClient","Initializing OfflineComponentProvider"),[4,t.getConfiguration()];case 1:return n=s.sent(),[4,e.initialize(n)];case 2:return s.sent(),r=n.Jl,t.ff(function(n){r.isEqual(n)||(r=n,t._s.po(function(){return Object(ol.b)(i,void 0,void 0,function(){return Object(ol.d)(this,function(t){switch(t.label){case 0:return[4,Hm(e.bh,n)];case 1:return t.sent(),[2]}})})}))}),e.persistence.Po(function(){return t.terminate()}),t.mf=e,[2]}})})}function iv(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r;return Object(ol.d)(this,function(i){switch(i.label){case 0:return t._s.Af(),[4,sv(t)];case 1:return n=i.sent(),hl("FirestoreClient","Initializing OnlineComponentProvider"),[4,t.getConfiguration()];case 2:return r=i.sent(),[4,e.initialize(n,r)];case 3:return i.sent(),t.ff(function(n){return t._s.po(function(){return function(t,e){return Object(ol.b)(this,void 0,void 0,function(){var n,r;return Object(ol.d)(this,function(i){switch(i.label){case 0:return(n=yl(t))._s.Af(),hl("RemoteStore","RemoteStore received new credentials"),r=Gg(n),n.Nh.add(3),[4,Mg(n)];case 1:return i.sent(),r&&n.kh.set("Unknown"),[4,n.Dh.n_(e)];case 2:return i.sent(),n.Nh.delete(3),[4,Lg(n)];case 3:return i.sent(),[2]}})})}(e.yl,n)})}),t.If=e,[2]}})})}function sv(t){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return t.mf?[3,2]:(hl("FirestoreClient","Using default OfflineComponentProvider"),[4,rv(t,new eb)]);case 1:e.sent(),e.label=2;case 2:return[2,t.mf]}})})}function ov(t){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return t.If?[3,2]:(hl("FirestoreClient","Using default OnlineComponentProvider"),[4,iv(t,new ib)]);case 1:e.sent(),e.label=2;case 2:return[2,t.If]}})})}function av(t){return sv(t).then(function(t){return t.persistence})}function uv(t){return sv(t).then(function(t){return t.bh})}function cv(t){return ov(t).then(function(t){return t.yl})}function lv(t){return ov(t).then(function(t){return t._a})}function hv(t){return Object(ol.b)(this,void 0,void 0,function(){var e,n;return Object(ol.d)(this,function(r){switch(r.label){case 0:return[4,ov(t)];case 1:return e=r.sent(),[2,((n=e.gl).jh=Cy.bind(null,e._a),n.Hh=Ty.bind(null,e._a),n)]}})})}function fv(t,e,n){var r=this;void 0===n&&(n={});var i=new Zd;return t._s.Ps(function(){return Object(ol.b)(r,void 0,void 0,function(){var r;return Object(ol.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new sb({next:function(s){e.Ps(function(){return hy(t,o)});var a=s.docs.has(n);!a&&s.fromCache?i.reject(new Sl(Cl.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Sl(Cl.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:function(t){return i.reject(t)}}),o=new my(zh(n.path),s,{includeMetadataChanges:!0,nl:!0});return ly(t,o)},[4,hv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t._s,e,n,i])]}})})}),i.promise}function dv(t,e,n){var r=this;void 0===n&&(n={});var i=new Zd;return t._s.Ps(function(){return Object(ol.b)(r,void 0,void 0,function(){var r;return Object(ol.d)(this,function(s){switch(s.label){case 0:return r=function(t,e,n,r,i){var s=new sb({next:function(n){e.Ps(function(){return hy(t,o)}),n.fromCache&&"server"===r.source?i.reject(new Sl(Cl.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(t){return i.reject(t)}}),o=new my(n,s,{includeMetadataChanges:!0,nl:!0});return ly(t,o)},[4,hv(t)];case 1:return[2,r.apply(void 0,[s.sent(),t._s,e,n,i])]}})})}),i.promise}var pv=function(){function t(){var t=this;this.Rf=Promise.resolve(),this.Pf=[],this.yf=!1,this.gf=[],this.Vf=null,this.pf=!1,this.bf=[],this.Gu=new kg(this,"async_queue_retry"),this.vf=function(){var e=xg();e&&hl("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Gu.qu()};var e=xg();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.vf)}return Object.defineProperty(t.prototype,"wf",{get:function(){return this.yf},enumerable:!1,configurable:!0}),t.prototype.Ps=function(t){this.enqueue(t)},t.prototype.Tf=function(t){this.Sf(),this.Df(t)},t.prototype.Ef=function(){if(!this.yf){this.yf=!0;var t=xg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.vf)}},t.prototype.enqueue=function(t){return this.Sf(),this.yf?new Promise(function(t){}):this.Df(t)},t.prototype.po=function(t){var e=this;this.Ps(function(){return e.Pf.push(t),e.Cf()})},t.prototype.Cf=function(){return Object(ol.b)(this,void 0,void 0,function(){var t,e=this;return Object(ol.d)(this,function(n){switch(n.label){case 0:if(0===this.Pf.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.Pf[0]()];case 2:return n.sent(),this.Pf.shift(),this.Gu.reset(),[3,4];case 3:if(!rp(t=n.sent()))throw t;return hl("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.Pf.length>0&&this.Gu.$u(function(){return e.Cf()}),n.label=5;case 5:return[2]}})})},t.prototype.Df=function(t){var e=this,n=this.Rf.then(function(){return e.pf=!0,t().catch(function(t){throw e.Vf=t,e.pf=!1,fl("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(function(t){return e.pf=!1,t})});return this.Rf=n,n},t.prototype.Tr=function(t,e,n){var r=this;this.Sf(),this.bf.indexOf(t)>-1&&(e=0);var i=up.Ts(this,t,e,n,function(t){return r.xf(t)});return this.gf.push(i),i},t.prototype.Sf=function(){this.Vf&&ml()},t.prototype.Af=function(){},t.prototype.Nf=function(){return Object(ol.b)(this,void 0,void 0,function(){var t;return Object(ol.d)(this,function(e){switch(e.label){case 0:return[4,t=this.Rf];case 1:e.sent(),e.label=2;case 2:if(t!==this.Rf)return[3,0];e.label=3;case 3:return[2]}})})},t.prototype.Ff=function(t){for(var e=0,n=this.gf;e<n.length;e++)if(n[e].fs===t)return!0;return!1},t.prototype.Of=function(t){var e=this;return this.Nf().then(function(){e.gf.sort(function(t,e){return t.ds-e.ds});for(var n=0,r=e.gf;n<r.length;n++){var i=r[n];if(i.Rs(),"all"!==t&&i.fs===t)break}return e.Nf()})},t.prototype.kf=function(t){this.bf.push(t)},t.prototype.xf=function(t){var e=this.gf.indexOf(t);this.gf.splice(e,1)},t}();function mv(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var s=i[r];if(s in n&&"function"==typeof n[s])return!0}return!1}(t)}!function(){function t(){this.Mf={},this.Lf=new Zd,this.$f={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}t.prototype.onProgress=function(t,e,n){this.Mf={next:t,error:e,complete:n}},t.prototype.catch=function(t){return this.Lf.promise.catch(t)},t.prototype.then=function(t,e){return this.Lf.promise.then(t,e)},t.prototype.ql=function(t){this.Ul(t),this.Mf.complete&&this.Mf.complete(),this.Lf.resolve(t)},t.prototype.Kl=function(t){this.$f.taskState="Error",this.Mf.next&&this.Mf.next(this.$f),this.Mf.error&&this.Mf.error(t),this.Lf.reject(t)},t.prototype.Ul=function(t){this.$f=t,this.Mf.next&&this.Mf.next(t)}}();var gv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Bf=new pv,r.w_="name"in e?e.name:"[DEFAULT]",r}return Object(ol.c)(e,t),e.prototype.b_=function(){return this.qf||bv(this),this.qf.terminate()},e}(vb);function yv(t){return t.qf||bv(t),t.qf.df(),t.qf}function bv(t){var e=t.p_(),n=function(t,e,n){return new al(t,e,n.host,n.ssl,n.experimentalForceLongPolling,n.experimentalAutoDetectLongPolling)}(t.I_,t.w_,e);t.qf=new nv(t.m_,t.Bf,n)}function vv(t,e,n){var r=this,i=new Zd;return t._s.enqueue(function(){return Object(ol.b)(r,void 0,void 0,function(){var r;return Object(ol.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,rv(t,n)];case 1:return s.sent(),[4,iv(t,e)];case 2:return s.sent(),i.resolve(),[3,4];case 3:if(!function(t){return"FirebaseError"===t.name?t.code===Cl.FAILED_PRECONDITION||t.code===Cl.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code}(r=s.sent()))throw r;return console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+r),i.reject(r),[3,4];case 4:return[2]}})})}).then(function(){return i.promise})}function _v(t){if(t.R_||t.P_)throw new Sl(Cl.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var wv=function(){function t(){}return t.prototype.Uf=function(t,e){switch(void 0===e&&(e="none"),eh(t)){case 0:return null;case 1:return t.booleanValue;case 2:return $l(t.integerValue||t.doubleValue);case 3:return this.Qf(t.timestampValue);case 4:return this.Kf(t,e);case 5:return t.stringValue;case 6:return this.Wf(Wl(t.bytesValue));case 7:return this.jf(t.referenceValue);case 8:return this.Gf(t.geoPointValue);case 9:return this.zf(t.arrayValue,e);case 10:return this.Hf(t.mapValue,e);default:throw ml()}},t.prototype.Hf=function(t,e){var n=this,r={};return Hl(t.fields||{},function(t,i){r[t]=n.Uf(i,e)}),r},t.prototype.Gf=function(t){return new Ib($l(t.latitude),$l(t.longitude))},t.prototype.zf=function(t,e){var n=this;return(t.values||[]).map(function(t){return n.Uf(t,e)})},t.prototype.Kf=function(t,e){switch(e){case"previous":var n=Yl(t);return null==n?null:this.Uf(n,e);case"estimate":return this.Qf(Zl(t));default:return null}},t.prototype.Qf=function(t){var e=Ql(t);return new Rl(e.seconds,e.nanos)},t.prototype.Jf=function(t,e){var n=Ll.ot(t);gl(Yd(n));var r=new ul(n.get(1),n.get(3)),i=new Ul(n.Y(5));return r.isEqual(e)||fl("Document "+i+" contains a document reference within a different database ("+r.projectId+"/"+r.database+") which is not supported. It will be treated as a reference in the current database ("+e.projectId+"/"+e.database+") instead."),i},t}(),Ev=function(){function t(t,e,n,r,i){this.Yf=t,this.Xf=e,this.S_=n,this.Zf=r,this.v_=i}return Object.defineProperty(t.prototype,"id",{get:function(){return this.S_.path.tt()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new _b(this.Yf,this.v_,this.S_)},enumerable:!1,configurable:!0}),t.prototype.exists=function(){return null!==this.Zf},t.prototype.data=function(){if(this.Zf){if(this.v_){var t=new Ov(this.Yf,this.Xf,this.S_,this.Zf,null);return this.v_.fromFirestore(t)}return this.Xf.Uf(this.Zf.bt())}},t.prototype.get=function(t){if(this.Zf){var e=this.Zf.data().field(Cv("DocumentSnapshot.get",t));if(null!==e)return this.Xf.Uf(e)}},t}(),Ov=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.data=function(){return t.prototype.data.call(this)},e}(Ev);function Cv(t,e){return"string"==typeof e?Zb(t,e):e instanceof ub?e.d_.f_:e.f_}function Sv(t){if(Gh(t)&&0===t.xt.length)throw new Sl(Cl.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Tv=function(){};function Iv(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=0,i=e;r<i.length;r++){var s=i[r];t=s.td(t)}return t}var xv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).ed=e,i.nd=n,i.sd=r,i.type="where",i}return Object(ol.c)(e,t),e.prototype.td=function(t){var e=Rb(t.firestore),n=function(t,e,n,r,i,s,o){var a;if(i.ut()){if("array-contains"===s||"array-contains-any"===s)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+s+"' queries on FieldPath.documentId().");if("in"===s||"not-in"===s){Pv(o,s);for(var u=[],c=0,l=o;c<l.length;c++)u.push(Rv(r,t,l[c]));a={arrayValue:{values:u}}}else a=Rv(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||Pv(o,s),a=Bb(n,"where",o,"in"===s||"not-in"===s);var h=Th.create(i,s,a);return function(t,e){if(e.Ct()){var n=$h(t);if(null!==n&&!n.isEqual(e.field))throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=Qh(t);null!==r&&Vv(0,e.field,r)}var i=function(t,e){for(var n=0,r=t.filters;n<r.length;n++){var i=r[n];if(e.indexOf(i.op)>=0)return i.op}return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw new Sl(Cl.INVALID_ARGUMENT,i===e.op?"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter.":"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,h),h}(t.C_,0,e,t.firestore.I_,this.ed,this.nd,this.sd);return new wb(t.firestore,t.v_,function(t,e){var n=t.filters.concat([e]);return new qh(t.path,t.collectionGroup,t.xt.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,n))},e}(Tv),Av=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).ed=e,r.rd=n,r.type="orderBy",r}return Object(ol.c)(e,t),e.prototype.td=function(t){var e=function(t,e,n){if(null!==t.startAt)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new Lh(e,n);return function(t,e){if(null===Qh(t)){var n=$h(t);null!==n&&Vv(0,n,e.field)}}(t,r),r}(t.C_,this.ed,this.rd);return new wb(t.firestore,t.v_,function(t,e){var n=t.xt.concat([e]);return new qh(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t.C_,e))},e}(Tv),kv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.od=n,i.ad=r,i}return Object(ol.c)(e,t),e.prototype.td=function(t){return new wb(t.firestore,t.v_,Zh(t.C_,this.od,this.ad))},e}(Tv),jv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(ol.c)(e,t),e.prototype.td=function(t){var e=Dv(t,this.type,this.ud,this.hd);return new wb(t.firestore,t.v_,function(t,e){return new qh(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,e,t.endAt)}(t.C_,e))},e}(Tv),Nv=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).type=e,i.ud=n,i.hd=r,i}return Object(ol.c)(e,t),e.prototype.td=function(t){var e=Dv(t,this.type,this.ud,this.hd);return new wb(t.firestore,t.v_,function(t,e){return new qh(t.path,t.collectionGroup,t.xt.slice(),t.filters.slice(),t.limit,t.limitType,t.startAt,e)}(t.C_,e))},e}(Tv);function Dv(t,e,n,r){if(n[0]instanceof ub&&(n[0]=n[0].d_),n[0]instanceof Ev)return function(t,e,n,r,i){if(!r)throw new Sl(Cl.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var s=[],o=0,a=Kh(t);o<a.length;o++){var u=a[o];if(u.field.ut())s.push(uh(e,r.key));else{var c=r.field(u.field);if(Kl(c))throw new Sl(Cl.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.rt();throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}s.push(c)}}return new Ph(s,i)}(t.C_,t.firestore.I_,e,n[0].Zf,r);var i=Rb(t.firestore);return function(t,e,n,r,i,s){var o=t.xt;if(i.length>o.length)throw new Sl(Cl.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(o[u].field.ut()){if("string"!=typeof c)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Wh(t)&&-1!==c.indexOf("/"))throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(Ll.ot(c));if(!Ul.wt(l))throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new Ul(l);a.push(uh(e,h))}else{var f=Bb(n,r,c);a.push(f)}}return new Ph(a,s)}(t.C_,t.firestore.I_,i,e,n,r)}function Rv(t,e,n){if(n instanceof ub&&(n=n.d_),"string"==typeof n){if(""===n)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Wh(e)&&-1!==n.indexOf("/"))throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(Ll.ot(n));if(!Ul.wt(r))throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return uh(t,new Ul(r))}if(n instanceof _b)return uh(t,n.S_);throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+pb(n)+".")}function Pv(t,e){if(!Array.isArray(t)||0===t.length)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.")}function Vv(t,e,n){if(!n.isEqual(e))throw new Sl(Cl.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first argument to orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function Lv(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var Mv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ol.c)(e,t),e.prototype.Wf=function(t){return new Tl(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new _b(this.firestore,null,e)},e}(wv),Fv=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),Uv=function(t){function e(e,n,r,i,s,o){var a=this;return(a=t.call(this,e,n,r,i,o)||this).Yf=e,a.ld=e,a.metadata=s,a}return Object(ol.c)(e,t),e.prototype.exists=function(){return t.prototype.exists.call(this)},e.prototype.data=function(t){if(void 0===t&&(t={}),this.Zf){if(this.v_){var e=new qv(this.Yf,this.Xf,this.S_,this.Zf,this.metadata,null);return this.v_.fromFirestore(e,t)}return this.Xf.Uf(this.Zf.bt(),t.serverTimestamps)}},e.prototype.get=function(t,e){if(void 0===e&&(e={}),this.Zf){var n=this.Zf.data().field(Cv("DocumentSnapshot.get",t));if(null!==n)return this.Xf.Uf(n,e.serverTimestamps)}},e}(Ev),qv=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.data=function(e){return void 0===e&&(e={}),t.prototype.data.call(this,e)},e}(Uv),Hv=function(){function t(t,e,n,r){this.Yf=t,this.Xf=e,this._d=r,this.metadata=new Fv(r.hasPendingWrites,r.fromCache),this.query=n}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._d.docs.size},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return 0===this.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;this._d.docs.forEach(function(r){t.call(e,new qv(n.Yf,n.Xf,r.key,r,new Fv(n._d.De.has(r.key),n._d.fromCache),n.query.v_))})},t.prototype.docChanges=function(t){void 0===t&&(t={});var e=!!t.includeMetadataChanges;if(e&&this._d.xe)throw new Sl(Cl.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.fd&&this.dd===e||(this.fd=function(t,e){if(t._d.Se.et()){var n=0;return t._d.docChanges.map(function(e){return{type:"added",doc:new qv(t.Yf,t.Xf,e.doc.key,e.doc,new Fv(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),oldIndex:-1,newIndex:n++}})}var r=t._d.Se;return t._d.docChanges.filter(function(t){return e||3!==t.type}).map(function(e){var n=new qv(t.Yf,t.Xf,e.doc.key,e.doc,new Fv(t._d.De.has(e.doc.key),t._d.fromCache),t.query.v_),i=-1,s=-1;return 0!==e.type&&(i=r.indexOf(e.doc.key),r=r.delete(e.doc.key)),1!==e.type&&(s=(r=r.add(e.doc)).indexOf(e.doc.key)),{type:zv(e.type),doc:n,oldIndex:i,newIndex:s}})}(this,e),this.dd=e),this.fd},t}();function zv(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ml()}}function Bv(t,e){return t instanceof Uv&&e instanceof Uv?t.Yf===e.Yf&&t.S_.isEqual(e.S_)&&(null===t.Zf?null===e.Zf:t.Zf.isEqual(e.Zf))&&t.v_===e.v_:t instanceof Hv&&e instanceof Hv&&t.Yf===e.Yf&&Tb(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._d.isEqual(e._d)}var Gv=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ol.c)(e,t),e.prototype.Wf=function(t){return new Tl(t)},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return new _b(this.firestore,null,e)},e}(wv);function Qv(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];t=mb(t,_b);var s=mb(t.firestore,gv),o=Rb(s);return e instanceof ub&&(e=e.d_),Wv(s,[("string"==typeof e||e instanceof ob?zb(o,"updateDoc",t.S_,e,n,r):Hb(o,"updateDoc",t.S_,e)).F_(t.S_,Of.exists(!0))])}function $v(t){for(var e,n,r,i=[],s=1;s<arguments.length;s++)i[s-1]=arguments[s];t instanceof ub&&(t=t.d_);var o={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||mv(i[a])||(o=i[a],a++);var u,c,l,h={includeMetadataChanges:o.includeMetadataChanges};if(mv(i[a])){var f=i[a];i[a]=null===(e=f.next)||void 0===e?void 0:e.bind(f),i[a+1]=null===(n=f.error)||void 0===n?void 0:n.bind(f),i[a+2]=null===(r=f.complete)||void 0===r?void 0:r.bind(f)}if(t instanceof _b)c=mb(t.firestore,gv),l=zh(t.S_.path),u={next:function(e){i[a]&&i[a](Kv(c,t,e))},error:i[a+1],complete:i[a+2]};else{var d=mb(t,wb);c=mb(d.firestore,gv),l=d.C_;var p=new Gv(c);u={next:function(t){i[a]&&i[a](new Hv(c,p,d,t))},error:i[a+1],complete:i[a+2]},Sv(t.C_)}return function(t,e,n,r){var i=this,s=new sb(r),o=new my(e,s,n);return t._s.Ps(function(){return Object(ol.b)(i,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return e=ly,[4,hv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})}),function(){s.i_(),t._s.Ps(function(){return Object(ol.b)(i,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return e=hy,[4,hv(t)];case 1:return[2,e.apply(void 0,[n.sent(),o])]}})})})}}(yv(c),l,h,u)}function Wv(t,e){return function(t,e){var n=this,r=new Zd;return t._s.Ps(function(){return Object(ol.b)(n,void 0,void 0,function(){var n;return Object(ol.d)(this,function(i){switch(i.label){case 0:return n=Iy,[4,lv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(yv(t),e)}function Kv(t,e,n){var r=n.docs.get(e.S_),i=new Gv(t);return new Uv(t,i,e.S_,r,new Fv(n.hasPendingWrites,n.fromCache),e.v_)}var Yv=function(){function t(t,e){this.Yf=t,this.wd=e,this.Ed=[],this.Td=!1,this.Id=Rb(t)}return t.prototype.set=function(t,e,n){this.md();var r=Zv(t,this.Yf),i=Lv(r.v_,e,n),s=Pb(this.Id,"WriteBatch.set",r.S_,i,null!==r.v_,n);return this.Ed.push(s.F_(r.S_,Of.Kt())),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.md();var s,o=Zv(t,this.Yf);return e instanceof ub&&(e=e.d_),s="string"==typeof e||e instanceof ob?zb(this.Id,"WriteBatch.update",o.S_,e,n,r):Hb(this.Id,"WriteBatch.update",o.S_,e),this.Ed.push(s.F_(o.S_,Of.exists(!0))),this},t.prototype.delete=function(t){this.md();var e=Zv(t,this.Yf);return this.Ed=this.Ed.concat(new Ff(e.S_,Of.Kt())),this},t.prototype.commit=function(){return this.md(),this.Td=!0,this.Ed.length>0?this.wd(this.Ed):Promise.resolve()},t.prototype.md=function(){if(this.Td)throw new Sl(Cl.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}();function Zv(t,e){if(t instanceof ub&&(t=t.d_),t.firestore!==e)throw new Sl(Cl.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}var Xv=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).Yf=e,r}return Object(ol.c)(e,t),e.prototype.get=function(e){var n=this,r=Zv(e,this.Yf),i=new Gv(this.Yf);return t.prototype.get.call(this,e).then(function(t){return new Uv(n.Yf,i,r.S_,t.Zf,new Fv(!1,!1),r.v_)})},e}(function(){function t(t,e){this.Yf=t,this.Ad=e,this.Id=Rb(t)}return t.prototype.get=function(t){var e=this,n=Zv(t,this.Yf),r=new Mv(this.Yf);return this.Ad.ef([n.S_]).then(function(t){if(!t||1!==t.length)return ml();var i=t[0];if(i instanceof vh)return new Ev(e.Yf,r,n.S_,null,n.v_);if(i instanceof bh)return new Ev(e.Yf,r,i.key,i,n.v_);throw ml()})},t.prototype.set=function(t,e,n){var r=Zv(t,this.Yf),i=Lv(r.v_,e,n),s=Pb(this.Id,"Transaction.set",r.S_,i,null!==r.v_,n);return this.Ad.set(r.S_,s),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var s,o=Zv(t,this.Yf);return e instanceof ub&&(e=e.d_),s="string"==typeof e||e instanceof ob?zb(this.Id,"Transaction.update",o.S_,e,n,r):Hb(this.Id,"Transaction.update",o.S_,e),this.Ad.update(o.S_,s),this},t.prototype.delete=function(t){var e=Zv(t,this.Yf);return this.Ad.delete(e.S_),this},t}());function Jv(){if("undefined"==typeof Uint8Array)throw new Sl(Cl.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function t_(){if("undefined"==typeof atob)throw new Sl(Cl.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var e_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.fromBase64String=function(t){return t_(),new e(Tl.fromBase64String(t))},e.fromUint8Array=function(t){return Jv(),new e(Tl.fromUint8Array(t))},e.prototype.toBase64=function(){return t_(),this.d_.toBase64()},e.prototype.toUint8Array=function(){return Jv(),this.d_.toUint8Array()},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},e}(ub),n_=function(){function t(){}return t.prototype.enableIndexedDbPersistence=function(t,e){return function(t,e){_v(t=mb(t,gv));var n=yv(t),r=t.p_(),i=new ib;return vv(n,i,new nb(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t.d_,{forceOwnership:e})},t.prototype.enableMultiTabIndexedDbPersistence=function(t){return function(t){_v(t=mb(t,gv));var e=yv(t),n=t.p_(),r=new ib;return vv(e,r,new rb(r,n.cacheSizeBytes))}(t.d_)},t.prototype.clearIndexedDbPersistence=function(t){return function(t){var e=this;if(t.R_&&!t.P_)throw new Sl(Cl.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var n=new Zd;return t.Bf.Tf(function(){return Object(ol.b)(e,void 0,void 0,function(){var e;return Object(ol.d)(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,function(t){return Object(ol.b)(this,void 0,void 0,function(){return Object(ol.d)(this,function(e){switch(e.label){case 0:return tp.Kn()?[4,tp.delete(t+"main")]:[2,Promise.resolve()];case 1:return e.sent(),[2]}})})}(Pm(t.I_,t.w_))];case 1:return r.sent(),n.resolve(),[3,3];case 2:return e=r.sent(),n.reject(e),[3,3];case 3:return[2]}})})}),n.promise}(t.d_)},t}(),r_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n)||this).Rd=r,i.INTERNAL={delete:function(){return i.terminate()}},e instanceof ul||(i.Pd=e),i}return Object(ol.c)(e,t),Object.defineProperty(e.prototype,"I_",{get:function(){return this.d_.I_},enumerable:!1,configurable:!0}),e.prototype.settings=function(t){t.merge&&delete(t=Object.assign(Object.assign({},this.d_.V_()),t)).merge,this.d_.g_(t)},e.prototype.useEmulator=function(t,e){!function(t,e,n){var r=(t=mb(t,vb)).V_();"firestore.googleapis.com"!==r.host&&r.host!==e&&dl("Host has been set in both settings() and useEmulator(), emulator host will be used"),t.g_(Object.assign(Object.assign({},r),{host:e+":"+n,ssl:!1}))}(this.d_,t,e)},e.prototype.enableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(ol.b)(e,void 0,void 0,function(){var e,n;return Object(ol.d)(this,function(r){switch(r.label){case 0:return[4,av(t)];case 1:return e=r.sent(),[4,cv(t)];case 2:return n=r.sent(),[2,(e.yo(!0),function(t){var e=yl(t);return e.Nh.delete(0),Lg(e)}(n))]}})})})}(yv(mb(this.d_,gv)))},e.prototype.disableNetwork=function(){return function(t){var e=this;return t._s.enqueue(function(){return Object(ol.b)(e,void 0,void 0,function(){var e,n;return Object(ol.d)(this,function(r){switch(r.label){case 0:return[4,av(t)];case 1:return e=r.sent(),[4,cv(t)];case 2:return n=r.sent(),[2,(e.yo(!1),function(t){return Object(ol.b)(this,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return(e=yl(t)).Nh.add(0),[4,Mg(e)];case 1:return n.sent(),e.kh.set("Offline"),[2]}})})}(n))]}})})})}(yv(mb(this.d_,gv)))},e.prototype.enablePersistence=function(t){var e=!1,n=!1;return t&&hb("synchronizeTabs",e=!!t.synchronizeTabs,"experimentalForceOwningTab",n=!!t.experimentalForceOwningTab),e?this.Rd.enableMultiTabIndexedDbPersistence(this):this.Rd.enableIndexedDbPersistence(this,n)},e.prototype.clearPersistence=function(){return this.Rd.clearIndexedDbPersistence(this)},e.prototype.terminate=function(){return this.Pd&&(this.Pd._removeServiceInstance("firestore"),this.Pd._removeServiceInstance("firestore-exp")),this.d_._delete()},e.prototype.waitForPendingWrites=function(){return function(t){var e=this,n=new Zd;return t._s.Ps(function(){return Object(ol.b)(e,void 0,void 0,function(){var e;return Object(ol.d)(this,function(r){switch(r.label){case 0:return e=Dy,[4,lv(t)];case 1:return[2,e.apply(void 0,[r.sent(),n])]}})})}),n.promise}(yv(mb(this.d_,gv)))},e.prototype.onSnapshotsInSync=function(t){return function(t,e){return function(t,e){var n=this,r=new sb(e);return t._s.Ps(function(){return Object(ol.b)(n,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){yl(t).Wh.add(e),e.next()},[4,hv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})}),function(){r.i_(),t._s.Ps(function(){return Object(ol.b)(n,void 0,void 0,function(){var e;return Object(ol.d)(this,function(n){switch(n.label){case 0:return e=function(t,e){yl(t).Wh.delete(e)},[4,hv(t)];case 1:return[2,e.apply(void 0,[n.sent(),r])]}})})})}}(yv(t=mb(t,gv)),mv(e)?e:{next:e})}(this.d_,t)},Object.defineProperty(e.prototype,"app",{get:function(){if(!this.Pd)throw new Sl(Cl.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.Pd},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new y_(this,Ob(this.d_,t))}catch(t){throw c_(t,"collection()","Firestore.collection()")}},e.prototype.doc=function(t){try{return new u_(this,Cb(this.d_,t))}catch(t){throw c_(t,"doc()","Firestore.doc()")}},e.prototype.collectionGroup=function(t){try{return new p_(this,function(t,e){if(t=mb(t,vb),cb("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid collection ID '"+e+"' passed to function collectionGroup(). Collection IDs must not contain '/'.");return new wb(t,null,function(t){return new qh(Ll.ct(),t)}(e))}(this.d_,t))}catch(t){throw c_(t,"collectionGroup()","Firestore.collectionGroup()")}},e.prototype.runTransaction=function(t){var e=this;return function(t,e){return function(t,e){var n=this,r=new Zd;return t._s.Ps(function(){return Object(ol.b)(n,void 0,void 0,function(){var n;return Object(ol.d)(this,function(i){switch(i.label){case 0:return[4,function(t){return ov(t).then(function(t){return t.Sh})}(t)];case 1:return n=i.sent(),new ev(t._s,n,e,r).run(),[2]}})})}),r.promise}(yv(t),function(n){return e(new Xv(t,n))})}(this.d_,function(n){return t(new s_(e,n))})},e.prototype.batch=function(){var t=this;return yv(this.d_),new o_(new Yv(this.d_,function(e){return Wv(t.d_,e)}))},e.prototype.loadBundle=function(t){throw new Sl(Cl.FAILED_PRECONDITION,'"loadBundle()" does not exist, have you imported "firebase/firestore/bundle"?')},e.prototype.namedQuery=function(t){throw new Sl(Cl.FAILED_PRECONDITION,'"namedQuery()" does not exist, have you imported "firebase/firestore/bundle"?')},e}(ub),i_=function(t){function e(e){var n=this;return(n=t.call(this)||this).firestore=e,n}return Object(ol.c)(e,t),e.prototype.Wf=function(t){return new e_(new Tl(t))},e.prototype.jf=function(t){var e=this.Jf(t,this.firestore.I_);return u_.yd(e,this.firestore,null)},e}(wv),s_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r.Xf=new i_(e),r}return Object(ol.c)(e,t),e.prototype.get=function(t){var e=this,n=b_(t);return this.d_.get(n).then(function(t){return new f_(e.Yf,new Uv(e.Yf.d_,e.Xf,t.S_,t.Zf,t.metadata,n.v_))})},e.prototype.set=function(t,e,n){var r=b_(t);return n?(lb("Transaction.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=b_(t);return 2===arguments.length?this.d_.update(o,e):(r=this.d_).update.apply(r,Object(ol.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=b_(t);return this.d_.delete(e),this},e}(ub),o_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.set=function(t,e,n){var r=b_(t);return n?(lb("WriteBatch.set",n),this.d_.set(r,e,n)):this.d_.set(r,e),this},e.prototype.update=function(t,e,n){for(var r,i=[],s=3;s<arguments.length;s++)i[s-3]=arguments[s];var o=b_(t);return 2===arguments.length?this.d_.update(o,e):(r=this.d_).update.apply(r,Object(ol.g)([o,e,n],i)),this},e.prototype.delete=function(t){var e=b_(t);return this.d_.delete(e),this},e.prototype.commit=function(){return this.d_.commit()},e}(ub),a_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,r)||this).Yf=e,i.Xf=n,i}return Object(ol.c)(e,t),e.prototype.fromFirestore=function(t,e){var n=new qv(this.Yf.d_,this.Xf,t.S_,t.Zf,t.metadata,null);return this.d_.fromFirestore(new d_(this.Yf,n),null!=e?e:{})},e.prototype.toFirestore=function(t,e){return e?this.d_.toFirestore(t,e):this.d_.toFirestore(t)},e.gd=function(t,n){var r=e.Vd,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var s=i.get(n);return s||(s=new e(t,new i_(t),n),i.set(n,s)),s},e}(ub);a_.Vd=new WeakMap;var u_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new i_(e),r}return Object(ol.c)(e,t),e.pd=function(t,n,r){if(t.length%2!=0)throw new Sl(Cl.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.rt()+" has "+t.length);return new e(n,new _b(n.d_,r,new Ul(t)))},e.yd=function(t,n,r){return new e(n,new _b(n.d_,r,t))},Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new y_(this.firestore,this.d_.parent)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){try{return new y_(this.firestore,Ob(this.d_,t))}catch(t){throw c_(t,"collection()","DocumentReference.collection()")}},e.prototype.isEqual=function(t){return t instanceof ub&&(t=t.d_),t instanceof _b&&Sb(this.d_,t)},e.prototype.set=function(t,e){e=lb("DocumentReference.set",e);try{return function(t,e,n){t=mb(t,_b);var r=mb(t.firestore,gv),i=Lv(t.v_,e,n);return Wv(r,[Pb(Rb(r),"setDoc",t.S_,i,null!==t.v_,n).F_(t.S_,Of.Kt())])}(this.d_,t,e)}catch(t){throw c_(t,"setDoc()","DocumentReference.set()")}},e.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];try{return 1===arguments.length?Qv(this.d_,t):Qv.apply(void 0,Object(ol.g)([this.d_,t,e],n))}catch(t){throw c_(t,"updateDoc()","DocumentReference.update()")}},e.prototype.delete=function(){return Wv(mb((t=this.d_).firestore,gv),[new Ff(t.S_,Of.Kt())]);var t},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=l_(e),i=h_(e,function(e){return new f_(t.firestore,new Uv(t.firestore.d_,t.Xf,e.S_,e.Zf,e.metadata,t.d_.v_))});return $v(this.d_,r,i)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mb(t,_b);var e=mb(t.firestore,gv),n=yv(e),r=new Gv(e);return function(t,e){var n=this,r=new Zd;return t._s.Ps(function(){return Object(ol.b)(n,void 0,void 0,function(){var n;return Object(ol.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i;return Object(ol.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,function(t,e){var n=yl(t);return n.persistence.runTransaction("read document","readonly",function(t){return n.Tc.Ho(t,e)})}(t,e)];case 1:return(i=s.sent())instanceof bh?n.resolve(i):i instanceof vh?n.resolve(null):n.reject(new Sl(Cl.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return r=s.sent(),i=cp(r,"Failed to get document '"+e+" from cache"),n.reject(i),[3,3];case 3:return[2]}})})},[4,uv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.S_).then(function(n){return new Uv(e,r,t.S_,n,new Fv(n instanceof bh&&n.Vt,!0),t.v_)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=mb(t,_b);var e=mb(t.firestore,gv);return fv(yv(e),t.S_,{source:"server"}).then(function(n){return Kv(e,t,n)})}(this.d_):function(t){t=mb(t,_b);var e=mb(t.firestore,gv);return fv(yv(e),t.S_).then(function(n){return Kv(e,t,n)})}(this.d_)).then(function(t){return new f_(e.firestore,new Uv(e.firestore.d_,e.Xf,t.S_,t.Zf,t.metadata,e.d_.v_))})},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(a_.gd(this.firestore,t)))},e}(ub);function c_(t,e,n){return t.message=t.message.replace(e,n),t}function l_(t){for(var e=0,n=t;e<n.length;e++){var r=n[e];if("object"==typeof r&&!mv(r))return r}return{}}function h_(t,e){var n,r,i;return{next:function(t){i.next&&i.next(e(t))},error:null===(n=(i=mv(t[0])?t[0]:mv(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var f_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(ol.c)(e,t),Object.defineProperty(e.prototype,"ref",{get:function(){return new u_(this.Yf,this.d_.ref)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exists",{get:function(){return this.d_.exists()},enumerable:!1,configurable:!0}),e.prototype.data=function(t){return this.d_.data(t)},e.prototype.get=function(t,e){return this.d_.get(t,e)},e.prototype.isEqual=function(t){return Bv(this.d_,t.d_)},e}(ub),d_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.prototype.data=function(t){return this.d_.data(t)},e}(f_),p_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).firestore=e,r.Xf=new i_(e),r}return Object(ol.c)(e,t),e.prototype.where=function(t,n,r){try{return new e(this.firestore,Iv(this.d_,function(t,e,n){var r=e,i=Cv("where",t);return new xv(i,r,n)}(t,n,r)))}catch(t){throw c_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.orderBy=function(t,n){try{return new e(this.firestore,Iv(this.d_,function(t,e){void 0===e&&(e="asc");var n=e,r=Cv("orderBy",t);return new Av(r,n)}(t,n)))}catch(t){throw c_(t,/(orderBy|where)\(\)/,"Query.$1()")}},e.prototype.limit=function(t){try{return new e(this.firestore,Iv(this.d_,function(t){return gb("limit",t),new kv("limit",t,"F")}(t)))}catch(t){throw c_(t,"limit()","Query.limit()")}},e.prototype.limitToLast=function(t){try{return new e(this.firestore,Iv(this.d_,function(t){return gb("limitToLast",t),new kv("limitToLast",t,"L")}(t)))}catch(t){throw c_(t,"limitToLast()","Query.limitToLast()")}},e.prototype.startAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iv(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jv("startAt",t,!0)}).apply(void 0,t)))}catch(t){throw c_(t,"startAt()","Query.startAt()")}},e.prototype.startAfter=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iv(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new jv("startAfter",t,!1)}).apply(void 0,t)))}catch(t){throw c_(t,"startAfter()","Query.startAfter()")}},e.prototype.endBefore=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iv(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Nv("endBefore",t,!0)}).apply(void 0,t)))}catch(t){throw c_(t,"endBefore()","Query.endBefore()")}},e.prototype.endAt=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];try{return new e(this.firestore,Iv(this.d_,(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Nv("endAt",t,!1)}).apply(void 0,t)))}catch(t){throw c_(t,"endAt()","Query.endAt()")}},e.prototype.isEqual=function(t){return Tb(this.d_,t.d_)},e.prototype.get=function(t){var e=this;return("cache"===(null==t?void 0:t.source)?function(t){t=mb(t,wb);var e=mb(t.firestore,gv),n=yv(e),r=new Gv(e);return function(t,e){var n=this,r=new Zd;return t._s.Ps(function(){return Object(ol.b)(n,void 0,void 0,function(){var n;return Object(ol.d)(this,function(i){switch(i.label){case 0:return n=function(t,e,n){return Object(ol.b)(this,void 0,void 0,function(){var r,i,s,o,a;return Object(ol.d)(this,function(u){switch(u.label){case 0:return u.trys.push([0,2,,3]),[4,Ym(t,e,!0)];case 1:return a=u.sent(),r=new _y(e,a.Rc),i=r.fl(a.documents),s=r.wi(i,!1),n.resolve(s.snapshot),[3,3];case 2:return o=u.sent(),a=cp(o,"Failed to execute query '"+e+" against cache"),n.reject(a),[3,3];case 3:return[2]}})})},[4,uv(t)];case 1:return[2,n.apply(void 0,[i.sent(),e,r])]}})})}),r.promise}(n,t.C_).then(function(n){return new Hv(e,r,t,n)})}(this.d_):"server"===(null==t?void 0:t.source)?function(t){t=mb(t,wb);var e=mb(t.firestore,gv),n=yv(e),r=new Gv(e);return dv(n,t.C_,{source:"server"}).then(function(n){return new Hv(e,r,t,n)})}(this.d_):function(t){t=mb(t,wb);var e=mb(t.firestore,gv),n=yv(e),r=new Gv(e);return Sv(t.C_),dv(n,t.C_).then(function(n){return new Hv(e,r,t,n)})}(this.d_)).then(function(t){return new g_(e.firestore,new Hv(e.firestore.d_,e.Xf,e.d_,t._d))})},e.prototype.onSnapshot=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=l_(e),i=h_(e,function(e){return new g_(t.firestore,new Hv(t.firestore.d_,t.Xf,t.d_,e._d))});return $v(this.d_,r,i)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(a_.gd(this.firestore,t)))},e}(ub),m_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(ol.c)(e,t),Object.defineProperty(e.prototype,"type",{get:function(){return this.d_.type},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doc",{get:function(){return new d_(this.Yf,this.d_.doc)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"oldIndex",{get:function(){return this.d_.oldIndex},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"newIndex",{get:function(){return this.d_.newIndex},enumerable:!1,configurable:!0}),e}(ub),g_=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).Yf=e,r}return Object(ol.c)(e,t),Object.defineProperty(e.prototype,"query",{get:function(){return new p_(this.Yf,this.d_.query)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this.d_.metadata},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this.d_.size},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"empty",{get:function(){return this.d_.empty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"docs",{get:function(){var t=this;return this.d_.docs.map(function(e){return new d_(t.Yf,e)})},enumerable:!1,configurable:!0}),e.prototype.docChanges=function(t){var e=this;return this.d_.docChanges(t).map(function(t){return new m_(e.Yf,t)})},e.prototype.forEach=function(t,e){var n=this;this.d_.forEach(function(r){t.call(e,new d_(n.Yf,r))})},e.prototype.isEqual=function(t){return Bv(this.d_,t.d_)},e}(ub),y_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,n)||this).firestore=e,r.d_=n,r}return Object(ol.c)(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.d_.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.d_.path},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.d_.parent;return t?new u_(this.firestore,t):null},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){try{return new u_(this.firestore,void 0===t?Cb(this.d_):Cb(this.d_,t))}catch(t){throw c_(t,"doc()","CollectionReference.doc()")}},e.prototype.add=function(t){var e=this;return function(t,e){var n=mb(t.firestore,gv),r=Cb(t),i=Lv(t.v_,e);return Wv(n,[Pb(Rb(t.firestore),"addDoc",r.S_,i,null!==t.v_,{}).F_(r.S_,Of.exists(!1))]).then(function(){return r})}(this.d_,t).then(function(t){return new u_(e.firestore,t)})},e.prototype.isEqual=function(t){return Sb(this.d_,t.d_)},e.prototype.withConverter=function(t){return new e(this.firestore,this.d_.withConverter(a_.gd(this.firestore,t)))},e}(p_);function b_(t){return t instanceof ub&&(t=t.d_),mb(t,_b)}var v_,__=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,new(ob.bind.apply(ob,Object(ol.g)([void 0],e))))||this}return Object(ol.c)(e,t),e.documentId=function(){return new e(Fl.ht().rt())},e.prototype.isEqual=function(t){return t instanceof ub&&(t=t.d_),t instanceof ob&&this.d_.f_.isEqual(t.f_)},e}(ub),w_=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(ol.c)(e,t),e.serverTimestamp=function(){var t=new Mb("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)},e.delete=function(){var t=new Vb("deleteField");return t._methodName="FieldValue.delete",new e(t)},e.arrayUnion=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Fb("arrayUnion",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayUnion",new e(r)},e.arrayRemove=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return new Ub("arrayRemove",t)}).apply(void 0,t);return r._methodName="FieldValue.arrayRemove",new e(r)},e.increment=function(t){var n=function(t){return new qb("increment",t)}(t);return n._methodName="FieldValue.increment",new e(n)},e.prototype.isEqual=function(t){return this.d_.isEqual(t.d_)},e}(ub),E_=n("/6Yf"),O_={Firestore:r_,GeoPoint:Ib,Timestamp:Rl,Blob:e_,Transaction:s_,WriteBatch:o_,DocumentReference:u_,DocumentSnapshot:f_,Query:p_,QueryDocumentSnapshot:d_,QuerySnapshot:g_,CollectionReference:y_,FieldPath:__,FieldValue:w_,setLogLevel:function(t){cl.setLogLevel(t)},CACHE_SIZE_UNLIMITED:-1};(function(t,e){t.INTERNAL.registerComponent(new E_.a("firestore",function(t){return function(t,e){return new r_(t,new gv(t,e),new n_)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))},"PUBLIC").setServiceProps(Object.assign({},O_)))})(v_=eo.a),v_.registerVersion("@firebase/firestore","2.1.5");var C_=n("VRyK"),S_=n("qgXg"),T_=n("Ylt2");class I_ extends St.a{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new x_(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new Tt.a;if(this.isStopped||this.hasError?s=Se.a.EMPTY:(this.observers.push(t),s=new T_.a(this,t)),r&&t.add(t=new Js.a(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||S_.a).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class x_{constructor(t,e){this.time=t,this.value=e}}function A_(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new I_(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}})):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}function k_(t,e){return e?$t(()=>t,e):$t(()=>t)}var j_=n("tf+s");const N_=new r.r("angularfire2.auth.use-emulator"),D_=new r.r("angularfire2.auth.settings"),R_=new r.r("angularfire2.auth.tenant-id"),P_=new r.r("angularfire2.auth.langugage-code"),V_=new r.r("angularfire2.auth.use-device-language"),L_=new r.r("angularfire.auth.persistence");let M_=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l){const h=new to.d(i),f=Object(to.h)(h),d=new St.a,p=Object(Ct.a)(void 0).pipe(Object(Js.b)(h.outsideAngular),$t(()=>i.runOutsideAngular(()=>n.e(4).then(n.bind(null,"6nsN")))),Object(Gt.a)(()=>Object(to.g)(t,i,e)),Object(Gt.a)(t=>i.runOutsideAngular(()=>{const e=s,n=o;return Object(to.f)(`${t.name}.auth`,"AngularFireAuth",t,()=>{const r=i.runOutsideAngular(()=>t.auth());return e&&r.useEmulator(`http://${e.join(":")}`),a&&(r.tenantId=a),r.languageCode=u,c&&r.useDeviceLanguage(),n&&(r.settings=n),l&&r.setPersistence(l),r},[e,a,u,c,n,l])})),A_({bufferSize:1,refCount:!1}));if(B(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Object(Ct.a)(null);else{p.pipe(Oe()).subscribe();const t=p.pipe($t(t=>t.getRedirectResult().then(t=>t,()=>null)),f,A_({bufferSize:1,refCount:!1})),e=t=>new Rt.a(e=>({unsubscribe:i.runOutsideAngular(()=>t(e))})),n=p.pipe($t(t=>e(t.onAuthStateChanged.bind(t)))),r=p.pipe($t(t=>e(t.onIdTokenChanged.bind(t))));this.authState=t.pipe(k_(n),Object(j_.a)(h.outsideAngular),Object(Js.b)(h.insideAngular)),this.user=t.pipe(k_(r),Object(j_.a)(h.outsideAngular),Object(Js.b)(h.insideAngular)),this.idToken=this.user.pipe($t(t=>t?Object(Ot.a)(t.getIdToken()):Object(Ct.a)(null))),this.idTokenResult=this.user.pipe($t(t=>t?Object(Ot.a)(t.getIdTokenResult()):Object(Ct.a)(null))),this.credential=Object(C_.a)(t,d,this.authState.pipe(ie(t=>!t))).pipe(Object(Gt.a)(t=>(null==t?void 0:t.user)?t:null),Object(j_.a)(h.outsideAngular),Object(Js.b)(h.insideAngular))}return Object(to.i)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>d.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(to.c),r.Vb(to.b,8),r.Vb(r.C),r.Vb(r.A),r.Vb(N_,8),r.Vb(D_,8),r.Vb(R_,8),r.Vb(P_,8),r.Vb(V_,8),r.Vb(L_,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(to.c),Object(r.Vb)(to.b,8),Object(r.Vb)(r.C),Object(r.Vb)(r.A),Object(r.Vb)(N_,8),Object(r.Vb)(D_,8),Object(r.Vb)(R_,8),Object(r.Vb)(P_,8),Object(r.Vb)(V_,8),Object(r.Vb)(L_,8))},token:t,providedIn:"any"}),t})();function F_(t,e){return function(t,e=$s.b){return new Rt.a(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function U_(t,e){return F_(t,e).pipe(Object(Gt.a)(t=>({payload:t,type:"query"})))}function q_(t,e){return U_(t,e).pipe(te(void 0),Ws(),Object(Gt.a)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function H_(t,e,n){return q_(t,n).pipe(ee((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return z_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return z_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return z_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new Zs(void 0,void 0)),Object(Gt.a)(t=>t.map(t=>({type:t.type,payload:t}))))}function z_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function B_(t){return t&&0!==t.length||(t=["added","removed","modified"]),t}Object(to.e)(M_,[{app:null,applyActionCode:null,checkActionCode:null,confirmPasswordReset:null,createUserWithEmailAndPassword:null,currentUser:null,fetchSignInMethodsForEmail:null,isSignInWithEmailLink:null,getRedirectResult:null,languageCode:null,settings:null,onAuthStateChanged:null,onIdTokenChanged:null,sendSignInLinkToEmail:null,sendPasswordResetEmail:null,setPersistence:null,signInAndRetrieveDataWithCredential:null,signInAnonymously:null,signInWithCredential:null,signInWithCustomToken:null,signInWithEmailAndPassword:null,signInWithPhoneNumber:null,signInWithEmailLink:null,signInWithPopup:null,signInWithRedirect:null,signOut:null,tenantId:null,updateCurrentUser:null,useDeviceLanguage:null,useEmulator:null,verifyPasswordResetCode:null}]);class G_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=q_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe(Object(Gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(te(void 0),Ws(),ie(([t,e])=>e.length>0||!t),Object(Gt.a)(([t,e])=>e),this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ee((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=B_(t);return H_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return U_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Js.b)(this.afs.schedulers.insideAngular))}add(t){return this.ref.add(t)}doc(t){return new Q_(this.ref.doc(t),this.afs)}}class Q_{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=X_(n,e);return new G_(r,i,this.afs)}snapshotChanges(){return F_(this.ref,this.afs.schedulers.outsideAngular).pipe(te(void 0),Ws(),Object(Gt.a)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"})).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return this.snapshotChanges().pipe(Object(Gt.a)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return Object(Ot.a)(this.ref.get(t)).pipe(Object(Js.b)(this.afs.schedulers.insideAngular))}}class $_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?q_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.filter(e=>t.indexOf(e.type)>-1)),ie(t=>t.length>0),this.afs.keepUnstableUntilFirst):q_(this.query,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}auditTrail(t){return this.stateChanges(t).pipe(ee((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=B_(t);return H_(this.query,e,this.afs.schedulers.outsideAngular).pipe(this.afs.keepUnstableUntilFirst)}valueChanges(t={}){return U_(this.query,this.afs.schedulers.outsideAngular).pipe(Object(Gt.a)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),this.afs.keepUnstableUntilFirst)}get(t){return Object(Ot.a)(this.query.get(t)).pipe(Object(Js.b)(this.afs.schedulers.insideAngular))}}const W_=new r.r("angularfire2.enableFirestorePersistence"),K_=new r.r("angularfire2.firestore.persistenceSettings"),Y_=new r.r("angularfire2.firestore.settings"),Z_=new r.r("angularfire2.firestore.use-emulator");function X_(t,e=(t=>t)){return{query:e(t),ref:t}}let J_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u){this.schedulers=new to.d(s),this.keepUnstableUntilFirst=Object(to.h)(this.schedulers);const c=Object(to.g)(t,s,e);!Qs.a.auth&&u&&Object(to.j)();const l=a;[this.firestore,this.persistenceEnabled$]=Object(to.f)(`${c.name}.firestore`,"AngularFirestore",c,()=>{const t=s.runOutsideAngular(()=>c.firestore());if(r&&t.settings(r),l&&t.useEmulator(...l),n&&!B(i)){const e=()=>{try{return Object(Ot.a)(t.enablePersistence(o||void 0).then(()=>!0,()=>!1))}catch(v_){return"undefined"!=typeof console&&console.warn(v_),Object(Ct.a)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,Object(Ct.a)(!1)]},[r,l,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=X_(n,e),s=this.schedulers.ngZone.run(()=>r);return new G_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new $_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new Q_(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(to.c),r.Vb(to.b,8),r.Vb(W_,8),r.Vb(Y_,8),r.Vb(r.C),r.Vb(r.A),r.Vb(K_,8),r.Vb(Z_,8),r.Vb(N_,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(to.c),Object(r.Vb)(to.b,8),Object(r.Vb)(W_,8),Object(r.Vb)(Y_,8),Object(r.Vb)(r.C),Object(r.Vb)(r.A),Object(r.Vb)(K_,8),Object(r.Vb)(Z_,8),Object(r.Vb)(N_,8))},token:t,providedIn:"any"}),t})(),tw=(()=>{class t{static enablePersistence(e){return{ngModule:t,providers:[{provide:W_,useValue:!0},{provide:K_,useValue:e}]}}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[J_]}),t})(),ew=(()=>{class t{constructor(t){this.firestore=t}initializeDB(){Qs.a.initializeApp({apiKey:"AIzaSyCaN6DKKOIVP0tQbkg5up2TJdTw18HTtBQ",authDomain:"flatcalc-22be6.firebaseapp.com",databaseURL:"https://flatcalc-22be6-default-rtdb.firebaseio.com",projectId:"flatcalc-22be6",storageBucket:"flatcalc-22be6.appspot.com",messagingSenderId:"568952496390",appId:"1:568952496390:web:b004c78f49ad15e20bbe87"})}getMessages(){return this.firestore.collection("messages").snapshotChanges()}getServices(){return this.firestore.collection("services").snapshotChanges()}putMessage(t){return new Promise((e,n)=>{this.firestore.collection("messages").add(t).then(t=>{},t=>n(t))})}putService(t){return new Promise((e,n)=>{this.firestore.collection("services").add(t).then(t=>{},t=>n(t))})}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(J_))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function nw(t){return null!=t&&"false"!=`${t}`}function rw(t){return t instanceof r.l?t.nativeElement:t}class iw{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new sw(t,this.dueTime,this.scheduler))}}class sw extends kt.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(ow,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function ow(t){t.debouncedNext()}let aw,uw=(()=>{class t{create(t){return"undefined"==typeof MutationObserver?null:new MutationObserver(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),cw=(()=>{class t{constructor(t){this._mutationObserverFactory=t,this._observedElements=new Map}ngOnDestroy(){this._observedElements.forEach((t,e)=>this._cleanupObserver(e))}observe(t){const e=rw(t);return new Rt.a(t=>{const n=this._observeElement(e).subscribe(t);return()=>{n.unsubscribe(),this._unobserveElement(e)}})}_observeElement(t){if(this._observedElements.has(t))this._observedElements.get(t).count++;else{const e=new St.a,n=this._mutationObserverFactory.create(t=>e.next(t));n&&n.observe(t,{characterData:!0,childList:!0,subtree:!0}),this._observedElements.set(t,{observer:n,stream:e,count:1})}return this._observedElements.get(t).stream}_unobserveElement(t){this._observedElements.has(t)&&(this._observedElements.get(t).count--,this._observedElements.get(t).count||this._cleanupObserver(t))}_cleanupObserver(t){if(this._observedElements.has(t)){const{observer:e,stream:n}=this._observedElements.get(t);e&&e.disconnect(),n.complete(),this._observedElements.delete(t)}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(uw))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(uw))},token:t,providedIn:"root"}),t})(),lw=(()=>{class t{constructor(t,e,n){this._contentObserver=t,this._elementRef=e,this._ngZone=n,this.event=new r.n,this._disabled=!1,this._currentSubscription=null}get disabled(){return this._disabled}set disabled(t){this._disabled=nw(t),this._disabled?this._unsubscribe():this._subscribe()}get debounce(){return this._debounce}set debounce(t){this._debounce=function(t,e=0){return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}(t),this._subscribe()}ngAfterContentInit(){this._currentSubscription||this.disabled||this._subscribe()}ngOnDestroy(){this._unsubscribe()}_subscribe(){this._unsubscribe();const t=this._contentObserver.observe(this._elementRef);this._ngZone.runOutsideAngular(()=>{this._currentSubscription=(this.debounce?t.pipe(function(t,e=$s.a){return n=>n.lift(new iw(t,e))}(this.debounce)):t).subscribe(this.event)})}_unsubscribe(){var t;null===(t=this._currentSubscription)||void 0===t||t.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(cw),r.Mb(r.l),r.Mb(r.A))},t.\u0275dir=r.Hb({type:t,selectors:[["","cdkObserveContent",""]],inputs:{disabled:["cdkObserveContentDisabled","disabled"],debounce:"debounce"},outputs:{event:"cdkObserveContent"},exportAs:["cdkObserveContent"]}),t})(),hw=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[uw]}),t})();try{aw="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(cS){aw=!1}let fw,dw=(()=>{class t{constructor(t){this._platformId=t,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!aw)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.C))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(r.C))},token:t,providedIn:"root"}),t})(),pw=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();const mw=["color","button","checkbox","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"];function gw(){if(fw)return fw;if("object"!=typeof document||!document)return fw=new Set(mw),fw;let t=document.createElement("input");return fw=new Set(mw.filter(e=>(t.setAttribute("type",e),t.type===e))),fw}let yw;function bw(t){return function(){if(null==yw&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yw=!0}))}finally{yw=yw||!1}return yw}()?t:!!t.capture}"undefined"!=typeof Element&&Element;const vw="cdk-high-contrast-black-on-white",_w="cdk-high-contrast-white-on-black",ww="cdk-high-contrast-active";let Ew=(()=>{class t{constructor(t,e){this._platform=t,this._document=e}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);const e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const t=this._document.body.classList;t.remove(ww),t.remove(vw),t.remove(_w);const e=this.getHighContrastMode();1===e?(t.add(ww),t.add(vw)):2===e&&(t.add(ww),t.add(_w))}}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(dw),r.Vb(o))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(dw),Object(r.Vb)(o))},token:t,providedIn:"root"}),t})();const Ow=new r.r("cdk-dir-doc",{providedIn:"root",factory:function(){return Object(r.W)(o)}});let Cw=(()=>{class t{constructor(t){if(this.value="ltr",this.change=new r.n,t){const e=t.documentElement?t.documentElement.dir:null,n=(t.body?t.body.dir:null)||e;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(Ow,8))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(Ow,8))},token:t,providedIn:"root"}),t})(),Sw=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})();const Tw=new r.Q("11.1.2");class Iw{}const xw="*";function Aw(t,e){return{type:7,name:t,definitions:e,options:{}}}function kw(t,e=null){return{type:4,styles:e,timings:t}}function jw(t,e=null){return{type:2,steps:t,options:e}}function Nw(t){return{type:6,styles:t,offset:null}}function Dw(t,e,n){return{type:0,name:t,styles:e,options:n}}function Rw(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function Pw(t){Promise.resolve(null).then(t)}class Vw{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){Pw(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class Lw{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?Pw(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}function Mw(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Fw(t){switch(t.length){case 0:return new Vw;case 1:return t[0];default:return new Lw(t)}}function Uw(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case xw:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function qw(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&Hw(n,"start",t)));break;case"done":t.onDone(()=>r(n&&Hw(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&Hw(n,"destroy",t)))}}function Hw(t,e,n){const r=n.totalTime,i=zw(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function zw(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function Bw(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function Gw(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let Qw=(t,e)=>!1,$w=(t,e)=>!1,Ww=(t,e,n)=>[];const Kw=Mw();(Kw||"undefined"!=typeof Element)&&(Qw=(t,e)=>t.contains(e),$w=(()=>{if(Kw||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):$w}})(),Ww=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let Yw=null,Zw=!1;const Xw=$w,Jw=Qw,tE=Ww;let eE=(()=>{class t{validateStyleProperty(t){return function(t){Yw||(Yw=("undefined"!=typeof document?document.body:null)||{},Zw=!!Yw.style&&"WebkitAppearance"in Yw.style);let e=!0;return Yw.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in Yw.style,!e&&Zw)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in Yw.style),e}(t)}matchesElement(t,e){return Xw(t,e)}containsElement(t,e){return Jw(t,e)}query(t,e,n){return tE(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Vw(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})(),nE=(()=>{class t{}return t.NOOP=new eE,t})();const rE="ng-enter",iE="ng-leave",sE="ng-trigger",oE=".ng-trigger",aE="ng-animating",uE=".ng-animating";function cE(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:lE(parseFloat(e[1]),e[2])}function lE(t,e){switch(e){case"s":return 1e3*t;default:return t}}function hE(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=lE(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=lE(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function fE(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function dE(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else fE(t,n);return n}function pE(t,e,n){return n?e+":"+n+";":""}function mE(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=pE(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=pE(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[n]));t.setAttribute("style",e)}function gE(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=CE(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),Mw()&&mE(t))}function yE(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=CE(e);t.style[n]=""}),Mw()&&mE(t))}function bE(t){return Array.isArray(t)?1==t.length?t[0]:jw(t):t}const vE=new RegExp("{{\\s*(.+?)\\s*}}","g");function _E(t){let e=[];if("string"==typeof t){let n;for(;n=vE.exec(t);)e.push(n[1]);vE.lastIndex=0}return e}function wE(t,e,n){const r=t.toString(),i=r.replace(vE,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function EE(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const OE=/-+([a-z0-9])/g;function CE(t){return t.replace(OE,(...t)=>t[1].toUpperCase())}function SE(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}const TE="*";function IE(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(kE(i,o)),"<"!=s[0]||i==TE&&o==TE||e.push(kE(o,i))}(t,n,e)):n.push(t),n}const xE=new Set(["true","1"]),AE=new Set(["false","0"]);function kE(t,e){const n=xE.has(t)||AE.has(t),r=xE.has(e)||AE.has(e);return(i,s)=>{let o=t==TE||t==i,a=e==TE||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?xE.has(t):AE.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?xE.has(e):AE.has(e)),o&&a}}const jE=new RegExp("s*:selfs*,?","g");function NE(t,e,n){return new DE(t).build(e,n)}class DE{constructor(t){this._driver=t}build(t,e){const n=new RE(e);return this._resetContextStyleTimingState(n),SE(this,bE(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(PE(t)){const e=t;Object.keys(e).forEach(t=>{_E(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=EE(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=SE(this,bE(t.animation),e);return{type:1,matchers:IE(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:VE(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>SE(this,t,e)),options:VE(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=SE(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:VE(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return LE(hE(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=LE(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||hE(r,e),LE(n.duration,n.delay,n.easing)}(t.timings,e.errors);let r;e.currentAnimateTimings=n;let i=t.styles?t.styles:Nw({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=Nw(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==xw?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(PE(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=_E(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(PE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(PE(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,f=e.currentTime,d=e.currentAnimateTimings,p=d.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=f+d.delay+o,d.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:SE(this,bE(t.animation),e),options:VE(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:VE(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:VE(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(jE,"")),[t=t.replace(/@\*/g,oE).replace(/@\w+/g,t=>".ng-trigger-"+t.substr(1)).replace(/:animating/g,uE),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,Bw(e.collectedStyles,e.currentQuerySelector,{});const o=SE(this,bE(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:VE(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:hE(t.timings,e.errors,!0);return{type:12,animation:SE(this,bE(t.animation),e),timings:n,options:null}}}class RE{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function PE(t){return!Array.isArray(t)&&"object"==typeof t}function VE(t){var e;return t?(t=fE(t)).params&&(t.params=(e=t.params)?fE(e):null):t={},t}function LE(t,e,n){return{duration:t,delay:e,easing:n}}function ME(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class FE{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const UE=new RegExp(":enter","g"),qE=new RegExp(":leave","g");function HE(t,e,n,r,i,s={},o={},a,u,c=[]){return(new zE).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class zE{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new FE;const l=new GE(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),SE(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[ME(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?cE(n.duration):null,s=null!=n.delay?cE(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),SE(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=BE);const t=cE(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>SE(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?cE(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),SE(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return hE(e.params?wE(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?cE(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=BE);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),SE(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;SE(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const BE={};class GE{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=BE,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new QE(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=cE(n.duration)),null!=n.delay&&(r.delay=cE(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{e&&t.hasOwnProperty(n)||(t[n]=wE(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new GE(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=BE,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new $E(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(UE,"."+this._enterClassName)).replace(qE,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return i||0!=o.length||s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class QE{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new QE(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||xw,this._currentKeyframe[t]=xw}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=xw})):dE(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=wE(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:xw),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=dE(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==xw&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?EE(t.values()):[],s=e.size?EE(e.values()):[];if(n){const t=r[0],e=fE(t);t.offset=0,e.offset=1,r=[t,e]}return ME(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class $E extends QE{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.element=e,this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=dE(t[0],!1);a.offset=0,i.push(a);const u=dE(t[0],!1);u.offset=WE(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=dE(t[r],!1);o.offset=WE((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return ME(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function WE(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class KE{}class YE extends KE{normalizePropertyName(t,e){return CE(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(ZE[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const ZE=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function XE(t,e,n,r,i,s,o,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}const JE={};class tO{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||JE,f=this.buildStyles(n,o&&o.params||JE,l),d=a&&a.params||JE,p=this.buildStyles(r,d,l),m=new Set,g=new Map,y=new Map,b="void"===r,v={params:Object.assign(Object.assign({},h),d)},_=c?[]:HE(t,e,this.ast.animation,i,s,f,p,v,u,l);let w=0;if(_.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return XE(e,this._triggerName,n,r,b,f,p,[],[],g,y,w,l);_.forEach(t=>{const n=t.element,r=Bw(g,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=Bw(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&m.add(n)});const E=EE(m.values());return XE(e,this._triggerName,n,r,b,f,p,_,E,g,y,w)}}class eO{constructor(t,e){this.styles=t,this.defaultParams=e}buildStyles(t,e){const n={},r=fE(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=wE(s,r,e)),n[t]=s})}}),n}}class nO{constructor(t,e){this.name=t,this.ast=e,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new eO(t.style,t.options&&t.options.params||{})}),rO(this.states,"true","1"),rO(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new tO(t,e,this.states))}),this.fallbackTransition=new tO(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function rO(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const iO=new FE;class sO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=NE(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=Uw(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=HE(this._driver,e,i,rE,iE,{},{},n,iO,r),s.forEach(t=>{const e=Bw(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,xw)})});const a=Fw(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=zw(e,"","","");return qw(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const oO="ng-animate-queued",aO="ng-animate-disabled",uO=".ng-animate-disabled",cO=[],lO={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},hO={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class fO{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=null!=(r=n?t.value:t)?r:null,n){const e=fE(t);delete e.value,this.options=e}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const dO="void",pO=new fO(dO);class mO{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,EO(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);var i;const s=Bw(this._elementListeners,t,[]),o={name:e,phase:n,callback:r};s.push(o);const a=Bw(this._engine.statesByElement,t,{});return a.hasOwnProperty(e)||(EO(t,sE),EO(t,"ng-trigger-"+e),a[e]=pO),()=>{this._engine.afterFlush(()=>{const t=s.indexOf(o);t>=0&&s.splice(t,1),this._triggers[e]||delete a[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new yO(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(EO(t,sE),EO(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new fO(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=pO),u.value!==dO&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{yE(t,n),gE(t,r)})}return}const c=Bw(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(EO(t,oO),s.onStart(()=>{OO(t,oO)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,oE,!0);n.forEach(t=>{if(t.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,dO,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Fw(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t);if(e){const n=new Set;e.forEach(e=>{const r=e.name;if(n.has(r))return;n.add(r);const i=this._triggers[r].fallbackTransition,s=this._engine.statesByElement.get(t)[r]||pO,o=new fO(dO),a=new yO(this.id,r,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:r,transition:i,fromState:s,toState:o,player:a,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t.__ng_removed;r&&r!==lO||(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){EO(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=zw(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,qw(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class gO{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new mO(t,e,this);return e.parentNode?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(bO(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!bO(e))return;const i=e.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),EO(t,aO)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),OO(t,aO))}removeNode(t,e,n,r){if(bO(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return bO(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,oE,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,uE,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return Fw(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t.__ng_removed;if(e&&e.setForRemoval){if(t.__ng_removed=lO,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,uO)&&this.markElementAsDisabled(t,!1),this.driver.query(t,uO,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)EO(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?Fw(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new FE,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),f=wO(h,this.collectedEnterElements),d=new Map;let p=0;f.forEach((t,e)=>{const n=rE+p++;d.set(e,n),t.forEach(t=>EO(t,n))});const m=[],g=new Set,y=new Set;for(let k=0;k<this.collectedLeaveElements.length;k++){const t=this.collectedLeaveElements[k],e=t.__ng_removed;e&&e.setForRemoval&&(m.push(t),g.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>g.add(t)):y.add(t))}const b=new Map,v=wO(h,Array.from(g));v.forEach((t,e)=>{const n=iE+p++;b.set(e,n),t.forEach(t=>EO(t,n))}),t.push(()=>{f.forEach((t,e)=>{const n=d.get(e);t.forEach(t=>OO(t,n))}),v.forEach((t,e)=>{const n=b.get(e);t.forEach(t=>OO(t,n))}),m.forEach(t=>{this.processLeaveNode(t)})});const _=[],w=[];for(let k=this._namespaceList.length-1;k>=0;k--)this._namespaceList[k].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(_.push(e),this.collectedEnterElements.length){const t=i.__ng_removed;if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=b.get(i),f=d.get(i),p=this._buildInstruction(t,n,f,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>yE(i,p.fromStyles)),e.onDestroy(()=>gE(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>yE(i,p.fromStyles)),e.onDestroy(()=>gE(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>Bw(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),_.forEach(t=>t.destroy()),this.reportError(t)}const E=new Map,O=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(O.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,E))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{Bw(E,e,[]).push(t),t.destroy()})});const C=m.filter(t=>TO(t,a,u)),S=new Map;_O(S,this.driver,y,u,xw).forEach(t=>{TO(t,a,u)&&C.push(t)});const T=new Map;f.forEach((t,e)=>{_O(T,this.driver,new Set(t),a,"!")}),C.forEach(t=>{const e=S.get(t),n=T.get(t);S.set(t,Object.assign(Object.assign({},e),n))});const I=[],x=[],A={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>gE(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=A;if(O.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=O.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>O.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,E,i,T,S);if(s.setRealPlayer(n),t===A)I.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=Fw(e)),r.push(s)}}else yE(e,o.fromStyles),s.onDestroy(()=>gE(e,o.toStyles)),x.push(s),c.has(e)&&r.push(s)}),x.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=Fw(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let k=0;k<m.length;k++){const t=m[k],e=t.__ng_removed;if(OO(t,iE),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,uE,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?CO(this,t,r):this.processLeaveNode(t)}return m.length=0,I.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),I}elementContainsData(t,e){let n=!1;const r=e.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==dO;e.forEach(e=>{e.queued||(t||e.triggerName==r)&&s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=Bw(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}yE(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const f=h.__ng_removed;if(f&&f.removedBeforeQueried)return new Vw(e.duration,e.delay);const d=h!==a,p=function(t){const e=[];return SO(t,e),e}((n.get(h)||cO).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),m=i.get(h),g=s.get(h),y=Uw(0,this._normalizer,0,e.keyframes,m,g),b=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),d){const e=new yO(t,o,h);e.setRealPlayer(b),u.push(e)}return b});u.forEach(t=>{Bw(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>EO(t,aE));const f=Fw(h);return f.onDestroy(()=>{c.forEach(t=>OO(t,aE)),gE(a,e.toStyles)}),l.forEach(t=>{Bw(r,t,[]).push(f)}),f}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Vw(t.duration,t.delay)}}class yO{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Vw,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>qw(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){Bw(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function bO(t){return t&&1===t.nodeType}function vO(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function _O(t,e,n,r,i){const s=[];n.forEach(t=>s.push(vO(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);n&&0!=n.length||(r.__ng_removed=hO,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>vO(t,s[a++])),o}function wO(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}function EO(t,e){if(t.classList)t.classList.add(e);else{let n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function OO(t,e){if(t.classList)t.classList.remove(e);else{let n=t.$$classes;n&&delete n[e]}}function CO(t,e,n){Fw(n).onDone(()=>t.processLeaveNode(e))}function SO(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof Lw?SO(r.players,e):e.push(r)}}function TO(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class IO{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new gO(t,e,n),this._timelineEngine=new sO(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=NE(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e){return new nO(t,e)}(r,e),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=Gw(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=Gw(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let xO=(()=>{class t extends Iw{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.S.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?jw(t):t;return jO(this._renderer,null,e,"register",[n]),new AO(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.G),r.Vb(o))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class AO extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new kO(this._id,t,e||{},this._renderer)}}class kO{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jO(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function jO(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const NO="@",DO="@.disabled";let RO=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new PO("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new VO(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(r.G),r.Vb(IO),r.Vb(r.A))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();class PO{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==NO&&e==DO?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class VO extends PO{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==NO?"."==e.charAt(1)&&e==DO?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if(e.charAt(0)==NO){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return i.charAt(0)!=NO&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let LO=(()=>{class t extends IO{constructor(t,e,n){super(t.body,e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(o),r.Vb(nE),r.Vb(KE))},t.\u0275prov=r.Ib({token:t,factory:t.\u0275fac}),t})();const MO=new r.r("AnimationModuleType"),FO=[{provide:nE,useClass:eE},{provide:MO,useValue:"NoopAnimations"},{provide:Iw,useClass:xO},{provide:KE,useFactory:function(){return new YE}},{provide:IO,useClass:LO},{provide:r.G,useFactory:function(t,e,n){return new RO(t,e,n)},deps:[ct,IO,r.A]}];let UO=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:FO,imports:[Et]}),t})();const qO=new r.Q("11.1.2"),HO=new r.r("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let zO,BO=(()=>{class t{constructor(t,e,n){this._hasDoneGlobalChecks=!1,this._document=n,t._applyBodyHighContrastModeCssClasses(),this._sanityChecks=e,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getWindow(){const t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Object(r.X)()&&!this._isTestEnv()}_isTestEnv(){const t=this._getWindow();return t&&(t.__karma__||t.jasmine)}_checkDoctypeIsDefined(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme||!this._document.body||"function"!=typeof getComputedStyle)return;const t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);const e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&qO.full!==Tw.full&&console.warn("The Angular Material version ("+qO.full+") does not match the Angular CDK version ("+Tw.full+").\nPlease ensure the versions of these two packages exactly match.")}}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)(r.Vb(Ew),r.Vb(HO,8),r.Vb(o))},imports:[[Sw],Sw]}),t})();function GO(t,e){return class extends t{constructor(...t){super(...t),this.defaultColor=e,this.color=e}get color(){return this._color}set color(t){const e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),e&&this._elementRef.nativeElement.classList.add(`mat-${e}`),this._color=e)}}}function QO(t){return class extends t{constructor(...t){super(...t),this.errorState=!1,this.stateChanges=new St.a}updateErrorState(){const t=this.errorState,e=(this.errorStateMatcher||this._defaultErrorStateMatcher).isErrorState(this.ngControl?this.ngControl.control:null,this._parentFormGroup||this._parentForm);e!==t&&(this.errorState=e,this.stateChanges.next())}}}try{zO="undefined"!=typeof Intl}catch(cS){zO=!1}let $O=(()=>{class t{isErrorState(t,e){return!!(t&&t.invalid&&(t.touched||e&&e.submitted))}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Ib)({factory:function(){return new t},token:t,providedIn:"root"}),t})(),WO=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[BO,pw],BO]}),t})();var KO=n("n6bG");function YO(t,e,n,r){return Object(KO.a)(n)&&(r=n,n=void 0),r?YO(t,e,n).pipe(Object(Gt.a)(t=>Object(At.a)(t)?r(...t):r(t))):new Rt.a(r=>{ZO(t,e,function(t){r.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},r,n)})}function ZO(t,e,n,r,i){let s;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){const r=t;t.addEventListener(e,n,i),s=()=>r.removeEventListener(e,n,i)}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){const r=t;t.on(e,n),s=()=>r.off(e,n)}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){const r=t;t.addListener(e,n),s=()=>r.removeListener(e,n)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,o=t.length;s<o;s++)ZO(t[s],e,n,r,i)}r.add(s)}function XO(t){return e=>e.lift(new JO(t))}class JO{constructor(t){this.notifier=t}call(t,e){const n=new tC(t),r=Object(Qt.c)(this.notifier,new Qt.a(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n}}class tC extends Qt.b{constructor(t){super(t),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}const eC=["underline"],nC=["connectionContainer"],rC=["inputContainer"],iC=["label"];function sC(t,e){1&t&&(r.Pb(0),r.Rb(1,"div",14),r.Nb(2,"div",15),r.Nb(3,"div",16),r.Nb(4,"div",17),r.Qb(),r.Rb(5,"div",18),r.Nb(6,"div",15),r.Nb(7,"div",16),r.Nb(8,"div",17),r.Qb(),r.Ob())}function oC(t,e){1&t&&(r.Rb(0,"div",19),r.fc(1,1),r.Qb())}function aC(t,e){if(1&t&&(r.Pb(0),r.fc(1,2),r.Rb(2,"span"),r.pc(3),r.Qb(),r.Ob()),2&t){const t=r.cc(2);r.Cb(3),r.qc(t._control.placeholder)}}function uC(t,e){1&t&&r.fc(0,3,["*ngSwitchCase","true"])}function cC(t,e){1&t&&(r.Rb(0,"span",23),r.pc(1," *"),r.Qb())}function lC(t,e){if(1&t){const t=r.Sb();r.Rb(0,"label",20,21),r.Yb("cdkObserveContent",function(){return r.lc(t),r.cc().updateOutlineGap()}),r.oc(2,aC,4,1,"ng-container",12),r.oc(3,uC,1,0,"ng-content",12),r.oc(4,cC,2,0,"span",22),r.Qb()}if(2&t){const t=r.cc();r.Eb("mat-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-form-field-empty",t._control.empty&&!t._shouldAlwaysFloat())("mat-accent","accent"==t.color)("mat-warn","warn"==t.color),r.hc("cdkObserveContentDisabled","outline"!=t.appearance)("id",t._labelId)("ngSwitch",t._hasLabel()),r.Db("for",t._control.id)("aria-owns",t._control.id),r.Cb(2),r.hc("ngSwitchCase",!1),r.Cb(1),r.hc("ngSwitchCase",!0),r.Cb(1),r.hc("ngIf",!t.hideRequiredMarker&&t._control.required&&!t._control.disabled)}}function hC(t,e){1&t&&(r.Rb(0,"div",24),r.fc(1,4),r.Qb())}function fC(t,e){if(1&t&&(r.Rb(0,"div",25,26),r.Nb(2,"span",27),r.Qb()),2&t){const t=r.cc();r.Cb(2),r.Eb("mat-accent","accent"==t.color)("mat-warn","warn"==t.color)}}function dC(t,e){if(1&t&&(r.Rb(0,"div"),r.fc(1,5),r.Qb()),2&t){const t=r.cc();r.hc("@transitionMessages",t._subscriptAnimationState)}}function pC(t,e){if(1&t&&(r.Rb(0,"div",31),r.pc(1),r.Qb()),2&t){const t=r.cc(2);r.hc("id",t._hintLabelId),r.Cb(1),r.qc(t.hintLabel)}}function mC(t,e){if(1&t&&(r.Rb(0,"div",28),r.oc(1,pC,2,2,"div",29),r.fc(2,6),r.Nb(3,"div",30),r.fc(4,7),r.Qb()),2&t){const t=r.cc();r.hc("@transitionMessages",t._subscriptAnimationState),r.Cb(1),r.hc("ngIf",t.hintLabel)}}const gC=["*",[["","matPrefix",""]],[["mat-placeholder"]],[["mat-label"]],[["","matSuffix",""]],[["mat-error"]],[["mat-hint",3,"align","end"]],[["mat-hint","align","end"]]],yC=["*","[matPrefix]","mat-placeholder","mat-label","[matSuffix]","mat-error","mat-hint:not([align='end'])","mat-hint[align='end']"],bC=new r.r("MatError"),vC={transitionMessages:Aw("transitionMessages",[Dw("enter",Nw({opacity:1,transform:"translateY(0%)"})),Rw("void => enter",[Nw({opacity:0,transform:"translateY(-5px)"}),kw("300ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])};let _C=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t}),t})();const wC=new r.r("MatHint");let EC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-label"]]}),t})(),OC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-placeholder"]]}),t})();const CC=new r.r("MatPrefix"),SC=new r.r("MatSuffix");let TC=0;class IC{constructor(t){this._elementRef=t}}const xC=GO(IC,"primary"),AC=new r.r("MAT_FORM_FIELD_DEFAULT_OPTIONS"),kC=new r.r("MatFormField");let jC=(()=>{class t extends xC{constructor(t,e,n,r,i,s,o,a){super(t),this._elementRef=t,this._changeDetectorRef=e,this._dir=r,this._defaults=i,this._platform=s,this._ngZone=o,this._outlineGapCalculationNeededImmediately=!1,this._outlineGapCalculationNeededOnStable=!1,this._destroyed=new St.a,this._showAlwaysAnimate=!1,this._subscriptAnimationState="",this._hintLabel="",this._hintLabelId="mat-hint-"+TC++,this._labelId="mat-form-field-label-"+TC++,this.floatLabel=this._getDefaultFloatLabelState(),this._animationsEnabled="NoopAnimations"!==a,this.appearance=i&&i.appearance?i.appearance:"legacy",this._hideRequiredMarker=!(!i||null==i.hideRequiredMarker)&&i.hideRequiredMarker}get appearance(){return this._appearance}set appearance(t){const e=this._appearance;this._appearance=t||this._defaults&&this._defaults.appearance||"legacy","outline"===this._appearance&&e!==t&&(this._outlineGapCalculationNeededOnStable=!0)}get hideRequiredMarker(){return this._hideRequiredMarker}set hideRequiredMarker(t){this._hideRequiredMarker=nw(t)}_shouldAlwaysFloat(){return"always"===this.floatLabel&&!this._showAlwaysAnimate}_canLabelFloat(){return"never"!==this.floatLabel}get hintLabel(){return this._hintLabel}set hintLabel(t){this._hintLabel=t,this._processHints()}get floatLabel(){return"legacy"!==this.appearance&&"never"===this._floatLabel?"auto":this._floatLabel}set floatLabel(t){t!==this._floatLabel&&(this._floatLabel=t||this._getDefaultFloatLabelState(),this._changeDetectorRef.markForCheck())}get _control(){return this._explicitFormFieldControl||this._controlNonStatic||this._controlStatic}set _control(t){this._explicitFormFieldControl=t}getLabelId(){return this._hasFloatingLabel()?this._labelId:null}getConnectedOverlayOrigin(){return this._connectionContainerRef||this._elementRef}ngAfterContentInit(){this._validateControlChild();const t=this._control;t.controlType&&this._elementRef.nativeElement.classList.add(`mat-form-field-type-${t.controlType}`),t.stateChanges.pipe(te(null)).subscribe(()=>{this._validatePlaceholders(),this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),t.ngControl&&t.ngControl.valueChanges&&t.ngControl.valueChanges.pipe(XO(this._destroyed)).subscribe(()=>this._changeDetectorRef.markForCheck()),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.pipe(XO(this._destroyed)).subscribe(()=>{this._outlineGapCalculationNeededOnStable&&this.updateOutlineGap()})}),Object(C_.a)(this._prefixChildren.changes,this._suffixChildren.changes).subscribe(()=>{this._outlineGapCalculationNeededOnStable=!0,this._changeDetectorRef.markForCheck()}),this._hintChildren.changes.pipe(te(null)).subscribe(()=>{this._processHints(),this._changeDetectorRef.markForCheck()}),this._errorChildren.changes.pipe(te(null)).subscribe(()=>{this._syncDescribedByIds(),this._changeDetectorRef.markForCheck()}),this._dir&&this._dir.change.pipe(XO(this._destroyed)).subscribe(()=>{"function"==typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this.updateOutlineGap())}):this.updateOutlineGap()})}ngAfterContentChecked(){this._validateControlChild(),this._outlineGapCalculationNeededImmediately&&this.updateOutlineGap()}ngAfterViewInit(){this._subscriptAnimationState="enter",this._changeDetectorRef.detectChanges()}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_shouldForward(t){const e=this._control?this._control.ngControl:null;return e&&e[t]}_hasPlaceholder(){return!!(this._control&&this._control.placeholder||this._placeholderChild)}_hasLabel(){return!(!this._labelChildNonStatic&&!this._labelChildStatic)}_shouldLabelFloat(){return this._canLabelFloat()&&(this._control&&this._control.shouldLabelFloat||this._shouldAlwaysFloat())}_hideControlPlaceholder(){return"legacy"===this.appearance&&!this._hasLabel()||this._hasLabel()&&!this._shouldLabelFloat()}_hasFloatingLabel(){return this._hasLabel()||"legacy"===this.appearance&&this._hasPlaceholder()}_getDisplayedMessages(){return this._errorChildren&&this._errorChildren.length>0&&this._control.errorState?"error":"hint"}_animateAndLockLabel(){this._hasFloatingLabel()&&this._canLabelFloat()&&(this._animationsEnabled&&this._label&&(this._showAlwaysAnimate=!0,YO(this._label.nativeElement,"transitionend").pipe(Zt(1)).subscribe(()=>{this._showAlwaysAnimate=!1})),this.floatLabel="always",this._changeDetectorRef.markForCheck())}_validatePlaceholders(){}_processHints(){this._validateHints(),this._syncDescribedByIds()}_validateHints(){}_getDefaultFloatLabelState(){return this._defaults&&this._defaults.floatLabel||"auto"}_syncDescribedByIds(){if(this._control){let t=[];if(this._control.userAriaDescribedBy&&"string"==typeof this._control.userAriaDescribedBy&&t.push(...this._control.userAriaDescribedBy.split(" ")),"hint"===this._getDisplayedMessages()){const e=this._hintChildren?this._hintChildren.find(t=>"start"===t.align):null,n=this._hintChildren?this._hintChildren.find(t=>"end"===t.align):null;e?t.push(e.id):this._hintLabel&&t.push(this._hintLabelId),n&&t.push(n.id)}else this._errorChildren&&t.push(...this._errorChildren.map(t=>t.id));this._control.setDescribedByIds(t)}}_validateControlChild(){}updateOutlineGap(){const t=this._label?this._label.nativeElement:null;if("outline"!==this.appearance||!t||!t.children.length||!t.textContent.trim())return;if(!this._platform.isBrowser)return;if(!this._isAttachedToDOM())return void(this._outlineGapCalculationNeededImmediately=!0);let e=0,n=0;const r=this._connectionContainerRef.nativeElement,i=r.querySelectorAll(".mat-form-field-outline-start"),s=r.querySelectorAll(".mat-form-field-outline-gap");if(this._label&&this._label.nativeElement.children.length){const i=r.getBoundingClientRect();if(0===i.width&&0===i.height)return this._outlineGapCalculationNeededOnStable=!0,void(this._outlineGapCalculationNeededImmediately=!1);const s=this._getStartEnd(i),o=t.children,a=this._getStartEnd(o[0].getBoundingClientRect());let u=0;for(let t=0;t<o.length;t++)u+=o[t].offsetWidth;e=Math.abs(a-s)-5,n=u>0?.75*u+10:0}for(let o=0;o<i.length;o++)i[o].style.width=`${e}px`;for(let o=0;o<s.length;o++)s[o].style.width=`${n}px`;this._outlineGapCalculationNeededOnStable=this._outlineGapCalculationNeededImmediately=!1}_getStartEnd(t){return this._dir&&"rtl"===this._dir.value?t.right:t.left}_isAttachedToDOM(){const t=this._elementRef.nativeElement;if(t.getRootNode){const e=t.getRootNode();return e&&e!==t}return document.documentElement.contains(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(r.h),r.Mb(r.l),r.Mb(Cw,8),r.Mb(AC,8),r.Mb(dw),r.Mb(r.A),r.Mb(MO,8))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-form-field"]],contentQueries:function(t,e,n){if(1&t&&(r.Fb(n,_C,1),r.Fb(n,_C,3),r.Fb(n,EC,1),r.Fb(n,EC,3),r.Fb(n,OC,1),r.Fb(n,bC,1),r.Fb(n,wC,1),r.Fb(n,CC,1),r.Fb(n,SC,1)),2&t){let t;r.jc(t=r.Zb())&&(e._controlNonStatic=t.first),r.jc(t=r.Zb())&&(e._controlStatic=t.first),r.jc(t=r.Zb())&&(e._labelChildNonStatic=t.first),r.jc(t=r.Zb())&&(e._labelChildStatic=t.first),r.jc(t=r.Zb())&&(e._placeholderChild=t.first),r.jc(t=r.Zb())&&(e._errorChildren=t),r.jc(t=r.Zb())&&(e._hintChildren=t),r.jc(t=r.Zb())&&(e._prefixChildren=t),r.jc(t=r.Zb())&&(e._suffixChildren=t)}},viewQuery:function(t,e){if(1&t&&(r.sc(eC,1),r.sc(nC,3),r.sc(rC,1),r.sc(iC,1)),2&t){let t;r.jc(t=r.Zb())&&(e.underlineRef=t.first),r.jc(t=r.Zb())&&(e._connectionContainerRef=t.first),r.jc(t=r.Zb())&&(e._inputContainerRef=t.first),r.jc(t=r.Zb())&&(e._label=t.first)}},hostAttrs:[1,"mat-form-field"],hostVars:44,hostBindings:function(t,e){2&t&&r.Eb("mat-form-field-appearance-standard","standard"==e.appearance)("mat-form-field-appearance-fill","fill"==e.appearance)("mat-form-field-appearance-outline","outline"==e.appearance)("mat-form-field-appearance-legacy","legacy"==e.appearance)("mat-form-field-invalid",e._control.errorState)("mat-form-field-can-float",e._canLabelFloat())("mat-form-field-should-float",e._shouldLabelFloat())("mat-form-field-has-label",e._hasFloatingLabel())("mat-form-field-hide-placeholder",e._hideControlPlaceholder())("mat-form-field-disabled",e._control.disabled)("mat-form-field-autofilled",e._control.autofilled)("mat-focused",e._control.focused)("mat-accent","accent"==e.color)("mat-warn","warn"==e.color)("ng-untouched",e._shouldForward("untouched"))("ng-touched",e._shouldForward("touched"))("ng-pristine",e._shouldForward("pristine"))("ng-dirty",e._shouldForward("dirty"))("ng-valid",e._shouldForward("valid"))("ng-invalid",e._shouldForward("invalid"))("ng-pending",e._shouldForward("pending"))("_mat-animation-noopable",!e._animationsEnabled)},inputs:{color:"color",floatLabel:"floatLabel",appearance:"appearance",hideRequiredMarker:"hideRequiredMarker",hintLabel:"hintLabel"},exportAs:["matFormField"],features:[r.Bb([{provide:kC,useExisting:t}]),r.zb],ngContentSelectors:yC,decls:15,vars:8,consts:[[1,"mat-form-field-wrapper"],[1,"mat-form-field-flex",3,"click"],["connectionContainer",""],[4,"ngIf"],["class","mat-form-field-prefix",4,"ngIf"],[1,"mat-form-field-infix"],["inputContainer",""],[1,"mat-form-field-label-wrapper"],["class","mat-form-field-label",3,"cdkObserveContentDisabled","id","mat-empty","mat-form-field-empty","mat-accent","mat-warn","ngSwitch","cdkObserveContent",4,"ngIf"],["class","mat-form-field-suffix",4,"ngIf"],["class","mat-form-field-underline",4,"ngIf"],[1,"mat-form-field-subscript-wrapper",3,"ngSwitch"],[4,"ngSwitchCase"],["class","mat-form-field-hint-wrapper",4,"ngSwitchCase"],[1,"mat-form-field-outline"],[1,"mat-form-field-outline-start"],[1,"mat-form-field-outline-gap"],[1,"mat-form-field-outline-end"],[1,"mat-form-field-outline","mat-form-field-outline-thick"],[1,"mat-form-field-prefix"],[1,"mat-form-field-label",3,"cdkObserveContentDisabled","id","ngSwitch","cdkObserveContent"],["label",""],["class","mat-placeholder-required mat-form-field-required-marker","aria-hidden","true",4,"ngIf"],["aria-hidden","true",1,"mat-placeholder-required","mat-form-field-required-marker"],[1,"mat-form-field-suffix"],[1,"mat-form-field-underline"],["underline",""],[1,"mat-form-field-ripple"],[1,"mat-form-field-hint-wrapper"],["class","mat-hint",3,"id",4,"ngIf"],[1,"mat-form-field-hint-spacer"],[1,"mat-hint",3,"id"]],template:function(t,e){1&t&&(r.gc(gC),r.Rb(0,"div",0),r.Rb(1,"div",1,2),r.Yb("click",function(t){return e._control.onContainerClick&&e._control.onContainerClick(t)}),r.oc(3,sC,9,0,"ng-container",3),r.oc(4,oC,2,0,"div",4),r.Rb(5,"div",5,6),r.fc(7),r.Rb(8,"span",7),r.oc(9,lC,5,16,"label",8),r.Qb(),r.Qb(),r.oc(10,hC,2,0,"div",9),r.Qb(),r.oc(11,fC,3,4,"div",10),r.Rb(12,"div",11),r.oc(13,dC,2,1,"div",12),r.oc(14,mC,5,2,"div",13),r.Qb(),r.Qb()),2&t&&(r.Cb(3),r.hc("ngIf","outline"==e.appearance),r.Cb(1),r.hc("ngIf",e._prefixChildren.length),r.Cb(5),r.hc("ngIf",e._hasFloatingLabel()),r.Cb(1),r.hc("ngIf",e._suffixChildren.length),r.Cb(1),r.hc("ngIf","outline"!=e.appearance),r.Cb(1),r.hc("ngSwitch",e._getDisplayedMessages()),r.Cb(1),r.hc("ngSwitchCase","error"),r.Cb(1),r.hc("ngSwitchCase","hint"))},directives:[j,P,V,lw],styles:[".mat-form-field{display:inline-block;position:relative;text-align:left}[dir=rtl] .mat-form-field{text-align:right}.mat-form-field-wrapper{position:relative}.mat-form-field-flex{display:inline-flex;align-items:baseline;box-sizing:border-box;width:100%}.mat-form-field-prefix,.mat-form-field-suffix{white-space:nowrap;flex:none;position:relative}.mat-form-field-infix{display:block;position:relative;flex:auto;min-width:0;width:180px}.cdk-high-contrast-active .mat-form-field-infix{border-image:linear-gradient(transparent, transparent)}.mat-form-field-label-wrapper{position:absolute;left:0;box-sizing:content-box;width:100%;height:100%;overflow:hidden;pointer-events:none}[dir=rtl] .mat-form-field-label-wrapper{left:auto;right:0}.mat-form-field-label{position:absolute;left:0;font:inherit;pointer-events:none;width:100%;white-space:nowrap;text-overflow:ellipsis;overflow:hidden;transform-origin:0 0;transition:transform 400ms cubic-bezier(0.25, 0.8, 0.25, 1),color 400ms cubic-bezier(0.25, 0.8, 0.25, 1),width 400ms cubic-bezier(0.25, 0.8, 0.25, 1);display:none}[dir=rtl] .mat-form-field-label{transform-origin:100% 0;left:auto;right:0}.mat-form-field-empty.mat-form-field-label,.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label{display:block}.mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-form-field-autofill-control:-webkit-autofill+.mat-form-field-label-wrapper .mat-form-field-label{display:block;transition:none}.mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:none}.mat-form-field-can-float .mat-input-server:focus+.mat-form-field-label-wrapper .mat-form-field-label,.mat-form-field-can-float .mat-input-server[placeholder]:not(:placeholder-shown)+.mat-form-field-label-wrapper .mat-form-field-label{display:block}.mat-form-field-label:not(.mat-form-field-empty){transition:none}.mat-form-field-underline{position:absolute;width:100%;pointer-events:none;transform:scale3d(1, 1.0001, 1)}.mat-form-field-ripple{position:absolute;left:0;width:100%;transform-origin:50%;transform:scaleX(0.5);opacity:0;transition:background-color 300ms cubic-bezier(0.55, 0, 0.55, 0.2)}.mat-form-field.mat-focused .mat-form-field-ripple,.mat-form-field.mat-form-field-invalid .mat-form-field-ripple{opacity:1;transform:none;transition:transform 300ms cubic-bezier(0.25, 0.8, 0.25, 1),opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1),background-color 300ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-subscript-wrapper{position:absolute;box-sizing:border-box;width:100%;overflow:hidden}.mat-form-field-subscript-wrapper .mat-icon,.mat-form-field-label-wrapper .mat-icon{width:1em;height:1em;font-size:inherit;vertical-align:baseline}.mat-form-field-hint-wrapper{display:flex}.mat-form-field-hint-spacer{flex:1 0 1em}.mat-error{display:block}.mat-form-field-control-wrapper{position:relative}.mat-form-field-hint-end{order:1}.mat-form-field._mat-animation-noopable .mat-form-field-label,.mat-form-field._mat-animation-noopable .mat-form-field-ripple{transition:none}\n",'.mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;padding:.75em .75em 0 .75em}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-flex{outline:solid 1px}.mat-form-field-appearance-fill .mat-form-field-underline::before{content:"";display:block;position:absolute;bottom:0;height:1px;width:100%}.mat-form-field-appearance-fill .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-fill .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-fill:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-fill._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}.mat-form-field-appearance-fill .mat-form-field-subscript-wrapper{padding:0 1em}\n','.mat-input-element{font:inherit;background:transparent;color:currentColor;border:none;outline:none;padding:0;margin:0;width:100%;max-width:100%;vertical-align:bottom;text-align:inherit}.mat-input-element:-moz-ui-invalid{box-shadow:none}.mat-input-element::-ms-clear,.mat-input-element::-ms-reveal{display:none}.mat-input-element,.mat-input-element::-webkit-search-cancel-button,.mat-input-element::-webkit-search-decoration,.mat-input-element::-webkit-search-results-button,.mat-input-element::-webkit-search-results-decoration{-webkit-appearance:none}.mat-input-element::-webkit-contacts-auto-fill-button,.mat-input-element::-webkit-caps-lock-indicator,.mat-input-element::-webkit-credentials-auto-fill-button{visibility:hidden}.mat-input-element[type=date],.mat-input-element[type=datetime],.mat-input-element[type=datetime-local],.mat-input-element[type=month],.mat-input-element[type=week],.mat-input-element[type=time]{line-height:1}.mat-input-element[type=date]::after,.mat-input-element[type=datetime]::after,.mat-input-element[type=datetime-local]::after,.mat-input-element[type=month]::after,.mat-input-element[type=week]::after,.mat-input-element[type=time]::after{content:" ";white-space:pre;width:1px}.mat-input-element::-webkit-inner-spin-button,.mat-input-element::-webkit-calendar-picker-indicator,.mat-input-element::-webkit-clear-button{font-size:.75em}.mat-input-element::placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-moz-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-moz-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element::-webkit-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element::-webkit-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-input-element:-ms-input-placeholder{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;transition:color 400ms 133.3333333333ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-input-element:-ms-input-placeholder:-ms-input-placeholder{-ms-user-select:text}.mat-form-field-hide-placeholder .mat-input-element::placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-moz-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element::-webkit-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}.mat-form-field-hide-placeholder .mat-input-element:-ms-input-placeholder{color:transparent !important;-webkit-text-fill-color:transparent;transition:none}textarea.mat-input-element{resize:vertical;overflow:auto}textarea.mat-input-element.cdk-textarea-autosize{resize:none}textarea.mat-input-element{padding:2px 0;margin:-2px 0}select.mat-input-element{-moz-appearance:none;-webkit-appearance:none;position:relative;background-color:transparent;display:inline-flex;box-sizing:border-box;padding-top:1em;top:-1em;margin-bottom:-1em}select.mat-input-element::-ms-expand{display:none}select.mat-input-element::-moz-focus-inner{border:0}select.mat-input-element:not(:disabled){cursor:pointer}select.mat-input-element::-ms-value{color:inherit;background:none}.mat-focused .cdk-high-contrast-active select.mat-input-element::-ms-value{color:inherit}.mat-form-field-type-mat-native-select .mat-form-field-infix::after{content:"";width:0;height:0;border-left:5px solid transparent;border-right:5px solid transparent;border-top:5px solid;position:absolute;top:50%;right:0;margin-top:-2.5px;pointer-events:none}[dir=rtl] .mat-form-field-type-mat-native-select .mat-form-field-infix::after{right:auto;left:0}.mat-form-field-type-mat-native-select .mat-input-element{padding-right:15px}[dir=rtl] .mat-form-field-type-mat-native-select .mat-input-element{padding-right:0;padding-left:15px}.mat-form-field-type-mat-native-select .mat-form-field-label-wrapper{max-width:calc(100% - 10px)}.mat-form-field-type-mat-native-select.mat-form-field-appearance-outline .mat-form-field-infix::after{margin-top:-5px}.mat-form-field-type-mat-native-select.mat-form-field-appearance-fill .mat-form-field-infix::after{margin-top:-10px}\n',".mat-form-field-appearance-legacy .mat-form-field-label{transform:perspective(100px);-ms-transform:none}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon{width:1em}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button{font:inherit;vertical-align:baseline}.mat-form-field-appearance-legacy .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field-appearance-legacy .mat-form-field-suffix .mat-icon-button .mat-icon{font-size:inherit}.mat-form-field-appearance-legacy .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-legacy .mat-form-field-ripple{top:0;height:2px;overflow:hidden}.cdk-high-contrast-active .mat-form-field-appearance-legacy .mat-form-field-ripple{height:0;border-top:solid 2px}.mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-legacy.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-legacy.mat-form-field-invalid:not(.mat-focused) .mat-form-field-ripple{height:1px}\n",".mat-form-field-appearance-outline .mat-form-field-wrapper{margin:.25em 0}.mat-form-field-appearance-outline .mat-form-field-flex{padding:0 .75em 0 .75em;margin-top:-0.25em;position:relative}.mat-form-field-appearance-outline .mat-form-field-prefix,.mat-form-field-appearance-outline .mat-form-field-suffix{top:.25em}.mat-form-field-appearance-outline .mat-form-field-outline{display:flex;position:absolute;top:.25em;left:0;right:0;bottom:0;pointer-events:none}.mat-form-field-appearance-outline .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-end{border:1px solid currentColor;min-width:5px}.mat-form-field-appearance-outline .mat-form-field-outline-start{border-radius:5px 0 0 5px;border-right-style:none}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-start{border-right-style:solid;border-left-style:none;border-radius:0 5px 5px 0}.mat-form-field-appearance-outline .mat-form-field-outline-end{border-radius:0 5px 5px 0;border-left-style:none;flex-grow:1}[dir=rtl] .mat-form-field-appearance-outline .mat-form-field-outline-end{border-left-style:solid;border-right-style:none;border-radius:5px 0 0 5px}.mat-form-field-appearance-outline .mat-form-field-outline-gap{border-radius:.000001px;border:1px solid currentColor;border-left-style:none;border-right-style:none}.mat-form-field-appearance-outline.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-outline-gap{border-top-color:transparent}.mat-form-field-appearance-outline .mat-form-field-outline-thick{opacity:0}.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-start,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-end,.mat-form-field-appearance-outline .mat-form-field-outline-thick .mat-form-field-outline-gap{border-width:2px}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline{opacity:0;transition:opacity 100ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline.mat-focused .mat-form-field-outline-thick,.mat-form-field-appearance-outline.mat-form-field-invalid .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline{opacity:0;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-outline:not(.mat-form-field-disabled) .mat-form-field-flex:hover .mat-form-field-outline-thick{opacity:1}.mat-form-field-appearance-outline .mat-form-field-subscript-wrapper{padding:0 1em}.mat-form-field-appearance-outline._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-start,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-end,.mat-form-field-appearance-outline._mat-animation-noopable .mat-form-field-outline-gap{transition:none}\n",".mat-form-field-appearance-standard .mat-form-field-flex{padding-top:.75em}.mat-form-field-appearance-standard .mat-form-field-underline{height:1px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-underline{height:0;border-top:solid 1px}.mat-form-field-appearance-standard .mat-form-field-ripple{bottom:0;height:2px}.cdk-high-contrast-active .mat-form-field-appearance-standard .mat-form-field-ripple{height:0;border-top:2px}.mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{background-position:0;background-color:transparent}.cdk-high-contrast-active .mat-form-field-appearance-standard.mat-form-field-disabled .mat-form-field-underline{border-top-style:dotted;border-top-width:2px}.mat-form-field-appearance-standard:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{opacity:1;transform:none;transition:opacity 600ms cubic-bezier(0.25, 0.8, 0.25, 1)}.mat-form-field-appearance-standard._mat-animation-noopable:not(.mat-form-field-disabled) .mat-form-field-flex:hover~.mat-form-field-underline .mat-form-field-ripple{transition:none}\n"],encapsulation:2,data:{animation:[vC.transitionMessages]},changeDetection:0}),t})(),NC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[z,BO,hw],BO]}),t})();n("Y7HM");const DC=bw({passive:!0});let RC=(()=>{class t{constructor(t,e){this._platform=t,this._ngZone=e,this._monitoredElements=new Map}monitor(t){if(!this._platform.isBrowser)return zt.a;const e=rw(t),n=this._monitoredElements.get(e);if(n)return n.subject;const r=new St.a,i="cdk-text-field-autofilled",s=t=>{"cdk-text-field-autofill-start"!==t.animationName||e.classList.contains(i)?"cdk-text-field-autofill-end"===t.animationName&&e.classList.contains(i)&&(e.classList.remove(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!1}))):(e.classList.add(i),this._ngZone.run(()=>r.next({target:t.target,isAutofilled:!0})))};return this._ngZone.runOutsideAngular(()=>{e.addEventListener("animationstart",s,DC),e.classList.add("cdk-text-field-autofill-monitored")}),this._monitoredElements.set(e,{subject:r,unlisten:()=>{e.removeEventListener("animationstart",s,DC)}}),r}stopMonitoring(t){const e=rw(t),n=this._monitoredElements.get(e);n&&(n.unlisten(),n.subject.complete(),e.classList.remove("cdk-text-field-autofill-monitored"),e.classList.remove("cdk-text-field-autofilled"),this._monitoredElements.delete(e))}ngOnDestroy(){this._monitoredElements.forEach((t,e)=>this.stopMonitoring(e))}}return t.\u0275fac=function(e){return new(e||t)(r.Vb(dw),r.Vb(r.A))},t.\u0275prov=Object(r.Ib)({factory:function(){return new t(Object(r.Vb)(dw),Object(r.Vb)(r.A))},token:t,providedIn:"root"}),t})(),PC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[pw]]}),t})();const VC=new r.r("MAT_INPUT_VALUE_ACCESSOR"),LC=["button","checkbox","file","hidden","image","radio","range","reset","submit"];let MC=0;class FC{constructor(t,e,n,r){this._defaultErrorStateMatcher=t,this._parentForm=e,this._parentFormGroup=n,this.ngControl=r}}const UC=QO(FC);let qC=(()=>{class t extends UC{constructor(t,e,n,r,i,s,o,a,u,c){super(s,r,i,n),this._elementRef=t,this._platform=e,this.ngControl=n,this._autofillMonitor=a,this._formField=c,this._uid="mat-input-"+MC++,this.focused=!1,this.stateChanges=new St.a,this.controlType="mat-input",this.autofilled=!1,this._disabled=!1,this._required=!1,this._type="text",this._readonly=!1,this._neverEmptyInputTypes=["date","datetime","datetime-local","month","time","week"].filter(t=>gw().has(t));const l=this._elementRef.nativeElement,h=l.nodeName.toLowerCase();this._inputValueAccessor=o||l,this._previousNativeValue=this.value,this.id=this.id,e.IOS&&u.runOutsideAngular(()=>{t.nativeElement.addEventListener("keyup",t=>{let e=t.target;e.value||e.selectionStart||e.selectionEnd||(e.setSelectionRange(1,1),e.setSelectionRange(0,0))})}),this._isServer=!this._platform.isBrowser,this._isNativeSelect="select"===h,this._isTextarea="textarea"===h,this._isNativeSelect&&(this.controlType=l.multiple?"mat-native-select-multiple":"mat-native-select")}get disabled(){return this.ngControl&&null!==this.ngControl.disabled?this.ngControl.disabled:this._disabled}set disabled(t){this._disabled=nw(t),this.focused&&(this.focused=!1,this.stateChanges.next())}get id(){return this._id}set id(t){this._id=t||this._uid}get required(){return this._required}set required(t){this._required=nw(t)}get type(){return this._type}set type(t){this._type=t||"text",this._validateType(),!this._isTextarea&&gw().has(this._type)&&(this._elementRef.nativeElement.type=this._type)}get value(){return this._inputValueAccessor.value}set value(t){t!==this.value&&(this._inputValueAccessor.value=t,this.stateChanges.next())}get readonly(){return this._readonly}set readonly(t){this._readonly=nw(t)}ngAfterViewInit(){this._platform.isBrowser&&this._autofillMonitor.monitor(this._elementRef.nativeElement).subscribe(t=>{this.autofilled=t.isAutofilled,this.stateChanges.next()})}ngOnChanges(){this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete(),this._platform.isBrowser&&this._autofillMonitor.stopMonitoring(this._elementRef.nativeElement)}ngDoCheck(){this.ngControl&&this.updateErrorState(),this._dirtyCheckNativeValue(),this._dirtyCheckPlaceholder()}focus(t){this._elementRef.nativeElement.focus(t)}_focusChanged(t){t===this.focused||this.readonly&&t||(this.focused=t,this.stateChanges.next())}_onInput(){}_dirtyCheckPlaceholder(){var t,e;const n=(null===(e=null===(t=this._formField)||void 0===t?void 0:t._hideControlPlaceholder)||void 0===e?void 0:e.call(t))?null:this.placeholder;if(n!==this._previousPlaceholder){const t=this._elementRef.nativeElement;this._previousPlaceholder=n,n?t.setAttribute("placeholder",n):t.removeAttribute("placeholder")}}_dirtyCheckNativeValue(){const t=this._elementRef.nativeElement.value;this._previousNativeValue!==t&&(this._previousNativeValue=t,this.stateChanges.next())}_validateType(){LC.indexOf(this._type)}_isNeverEmpty(){return this._neverEmptyInputTypes.indexOf(this._type)>-1}_isBadInput(){let t=this._elementRef.nativeElement.validity;return t&&t.badInput}get empty(){return!(this._isNeverEmpty()||this._elementRef.nativeElement.value||this._isBadInput()||this.autofilled)}get shouldLabelFloat(){if(this._isNativeSelect){const t=this._elementRef.nativeElement,e=t.options[0];return this.focused||t.multiple||!this.empty||!!(t.selectedIndex>-1&&e&&e.label)}return this.focused||!this.empty}setDescribedByIds(t){t.length?this._elementRef.nativeElement.setAttribute("aria-describedby",t.join(" ")):this._elementRef.nativeElement.removeAttribute("aria-describedby")}onContainerClick(){this.focused||this.focus()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(dw),r.Mb(Yi,10),r.Mb(Vs,8),r.Mb(Us,8),r.Mb($O),r.Mb(VC,10),r.Mb(RC),r.Mb(r.A),r.Mb(kC,8))},t.\u0275dir=r.Hb({type:t,selectors:[["input","matInput",""],["textarea","matInput",""],["select","matNativeControl",""],["input","matNativeControl",""],["textarea","matNativeControl",""]],hostAttrs:[1,"mat-input-element","mat-form-field-autofill-control"],hostVars:9,hostBindings:function(t,e){1&t&&r.Yb("focus",function(){return e._focusChanged(!0)})("blur",function(){return e._focusChanged(!1)})("input",function(){return e._onInput()}),2&t&&(r.Ub("disabled",e.disabled)("required",e.required),r.Db("id",e.id)("data-placeholder",e.placeholder)("readonly",e.readonly&&!e._isNativeSelect||null)("aria-invalid",e.errorState)("aria-required",e.required.toString()),r.Eb("mat-input-server",e._isServer))},inputs:{id:"id",disabled:"disabled",required:"required",type:"type",value:"value",readonly:"readonly",placeholder:"placeholder",errorStateMatcher:"errorStateMatcher",userAriaDescribedBy:["aria-describedby","userAriaDescribedBy"]},exportAs:["matInput"],features:[r.Bb([{provide:_C,useExisting:t}]),r.zb,r.Ab]}),t})(),HC=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[$O],imports:[[PC,NC,BO],PC,NC]}),t})();function zC(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.Rb(1,"form",4),r.Rb(2,"mat-form-field",5),r.Rb(3,"mat-label"),r.pc(4,"Add new cleaning service:"),r.Qb(),r.Nb(5,"input",6),r.Qb(),r.Rb(6,"mat-form-field",5),r.Rb(7,"mat-label"),r.pc(8,"Some optional details:"),r.Qb(),r.Nb(9,"input",7),r.Qb(),r.Rb(10,"mat-form-field",5),r.Rb(11,"mat-label"),r.pc(12,"Points:"),r.Qb(),r.Nb(13,"input",8),r.Qb(),r.Qb(),r.Rb(14,"div"),r.Rb(15,"button",9),r.Yb("click",function(){return r.lc(t),r.cc().submit()}),r.pc(16,"Submit"),r.Qb(),r.Qb(),r.Qb()}if(2&t){const t=r.cc();r.Cb(1),r.hc("formGroup",t.newServiceForm)}}function BC(t,e){if(1&t&&(r.Rb(0,"li"),r.pc(1),r.dc(2,"json"),r.Qb()),2&t){const t=e.$implicit;r.Cb(1),r.rc(" ",r.ec(2,1,t.payload.doc.data())," ")}}let GC=(()=>{class t{constructor(t){this.databaseService=t}ngOnInit(){this.newServiceForm=new Ns({name:new js("",Vi.required),comment:new js(""),points:new js("",Vi.required)}),this.services$=this.databaseService.getServices()}submit(){var t,e,n,r,i,s;this.databaseService.putService({name:null===(e=null===(t=this.newServiceForm)||void 0===t?void 0:t.get("name"))||void 0===e?void 0:e.value,comment:null===(r=null===(n=this.newServiceForm)||void 0===n?void 0:n.get("comment"))||void 0===r?void 0:r.value,points:null===(s=null===(i=this.newServiceForm)||void 0===i?void 0:i.get("points"))||void 0===s?void 0:s.value}).then(t=>console.log(t)).catch(t=>console.log(t)),this.services$=this.databaseService.getServices()}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ew))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-cleaning"]],decls:12,vars:4,consts:[[1,"container"],[1,"row"],[4,"ngIf"],[4,"ngFor","ngForOf"],[3,"formGroup"],["appearance","fill"],["formControlName","name","matInput","","type","text"],["formControlName","comment","matInput","","type","text"],["formControlName","points","matInput","","type","number"],["mat-raised-button","",3,"click"]],template:function(t,e){1&t&&(r.Rb(0,"p"),r.pc(1,"cleaning works!"),r.Qb(),r.Rb(2,"div",0),r.Rb(3,"div",1),r.Rb(4,"h1"),r.pc(5,"Add service"),r.Qb(),r.oc(6,zC,17,1,"div",2),r.Rb(7,"h2"),r.pc(8,"Services:"),r.Qb(),r.Rb(9,"div"),r.oc(10,BC,3,3,"li",3),r.dc(11,"async"),r.Qb(),r.Qb(),r.Qb()),2&t&&(r.Cb(6),r.hc("ngIf",e.newServiceForm),r.Cb(4),r.hc("ngForOf",r.ec(11,2,e.services$)))},directives:[j,A,Ls,Ji,Us,jC,EC,ki,qC,Xi,Hs,es],pipes:[q,H],styles:[""]}),t})();const QC=[{path:"cleaning",component:GC},{path:"expences",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-expences"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.pc(1,"expences works!"),r.Qb())},styles:[""]}),t})()},{path:"household",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-household"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.pc(1,"household works!"),r.Qb())},styles:[""]}),t})()},{path:"not-found",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Gb({type:t,selectors:[["app-not-found"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Rb(0,"p"),r.pc(1,"not-found works!"),r.Qb())},styles:[""]}),t})()}];let $C=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[pi.forRoot(QC)],pi]}),t})();const WC=["*",[["mat-toolbar-row"]]],KC=["*","mat-toolbar-row"];class YC{constructor(t){this._elementRef=t}}const ZC=GO(YC);let XC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Hb({type:t,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),t})(),JC=(()=>{class t extends ZC{constructor(t,e,n){super(t),this._platform=e,this._document=n}ngAfterViewInit(){this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(r.l),r.Mb(dw),r.Mb(o))},t.\u0275cmp=r.Gb({type:t,selectors:[["mat-toolbar"]],contentQueries:function(t,e,n){if(1&t&&r.Fb(n,XC,1),2&t){let t;r.jc(t=r.Zb())&&(e._toolbarRows=t)}},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(t,e){2&t&&r.Eb("mat-toolbar-multiple-rows",e._toolbarRows.length>0)("mat-toolbar-single-row",0===e._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[r.zb],ngContentSelectors:KC,decls:2,vars:0,template:function(t,e){1&t&&(r.gc(WC),r.fc(0),r.fc(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),t})(),tS=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[BO],BO]}),t})();function eS(t,e){if(1&t&&(r.Rb(0,"li"),r.pc(1),r.dc(2,"json"),r.Qb()),2&t){const t=e.$implicit;r.Cb(1),r.rc(" ",r.ec(2,1,t.payload.doc.data())," ")}}function nS(t,e){if(1&t){const t=r.Sb();r.Rb(0,"div"),r.Rb(1,"form",9),r.Rb(2,"mat-form-field",10),r.Rb(3,"mat-label"),r.pc(4,"Leave a message:"),r.Qb(),r.Nb(5,"input",11),r.Qb(),r.Qb(),r.Rb(6,"div"),r.Rb(7,"button",12),r.Yb("click",function(){return r.lc(t),r.cc().submit()}),r.pc(8,"Submit"),r.Qb(),r.Qb(),r.Rb(9,"div"),r.pc(10," Output: "),r.oc(11,eS,3,3,"li",13),r.dc(12,"async"),r.Qb(),r.Qb()}if(2&t){const t=r.cc();r.Cb(1),r.hc("formGroup",t.mainForm),r.Cb(10),r.hc("ngForOf",r.ec(12,2,t.messages$))}}let rS=(()=>{class t{constructor(t){this.databaseService=t}ngOnInit(){this.mainForm=new Ns({who:new js(""),whom:new js(""),amount:new js(""),message:new js("")}),this.messages$=this.databaseService.getMessages()}submit(){var t,e;this.databaseService.putMessage({message:null===(e=null===(t=this.mainForm)||void 0===t?void 0:t.get("message"))||void 0===e?void 0:e.value}).then(t=>console.log(t)).catch(t=>console.log(t)),this.messages$=this.databaseService.getMessages()}goTo(t){}}return t.\u0275fac=function(e){return new(e||t)(r.Mb(ew))},t.\u0275cmp=r.Gb({type:t,selectors:[["app-root"]],decls:19,vars:1,consts:[["color","primary"],[1,"logo"],[1,"logo--top"],[1,"logo--bottom"],["routerLink","/cleaning","routerLinkActive","active"],["routerLink","/expences","routerLinkActive","active"],["routerLink","/hoursehold","routerLinkActive","active"],[1,"container"],[4,"ngIf"],[3,"formGroup"],["appearance","fill"],["formControlName","message","matInput","","type","text"],["mat-raised-button","",3,"click"],[4,"ngFor","ngForOf"]],template:function(t,e){1&t&&(r.Rb(0,"mat-toolbar",0),r.Rb(1,"div",1),r.Rb(2,"span",2),r.pc(3,"\ud83c\udf38\ud83c\udf40\ud83c\udf3a"),r.Qb(),r.Rb(4,"span",3),r.pc(5,"Nerdy calc"),r.Qb(),r.Qb(),r.Rb(6,"a",4),r.pc(7,"\ud83e\uddfc Cleaning"),r.Qb(),r.Rb(8,"span"),r.pc(9,"|"),r.Qb(),r.Rb(10,"a",5),r.pc(11,"\ud83d\udcb8 Expences"),r.Qb(),r.Rb(12,"span"),r.pc(13,"|"),r.Qb(),r.Rb(14,"a",6),r.pc(15,"\ud83c\udfe1 Household list"),r.Qb(),r.Qb(),r.Rb(16,"div",7),r.oc(17,nS,13,4,"div",8),r.Qb(),r.Nb(18,"app-cleaning")),2&t&&(r.Cb(17),r.hc("ngIf",e.mainForm))},directives:[JC,ei,ri,j,GC,Ls,Ji,Us,jC,EC,ki,qC,Xi,Hs,A],pipes:[q,H],styles:["mat-toolbar[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-right:60px;padding:4px 0}mat-toolbar[_ngcontent-%COMP%]   .logo--top[_ngcontent-%COMP%]{float:left}mat-toolbar[_ngcontent-%COMP%]   .logo--bottom[_ngcontent-%COMP%]{float:left;clear:left}mat-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none;color:#fff}mat-toolbar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], mat-toolbar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-right:20px}"]}),t})(),iS=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)}}),t})(),sS=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[WO,BO,hw,iS],BO,iS]}),t})(),oS=(()=>{class t{}return t.\u0275mod=r.Kb({type:t}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},imports:[[WO,BO],BO]}),t})();const aS={apiKey:"AIzaSyCaN6DKKOIVP0tQbkg5up2TJdTw18HTtBQ",authDomain:"flatcalc-22be6.firebaseapp.com",projectId:"flatcalc-22be6",storageBucket:"flatcalc-22be6.appspot.com",messagingSenderId:"568952496390",appId:"1:568952496390:web:b004c78f49ad15e20bbe87"};let uS=(()=>{class t{}return t.\u0275mod=r.Kb({type:t,bootstrap:[rS]}),t.\u0275inj=r.Jb({factory:function(e){return new(e||t)},providers:[ew],imports:[[to.a.initializeApp(aS),tw,Et,$C,UO,NC,Gs,sS,oS,HC,tS]]}),t})();Object(r.U)(),_t().bootstrapModule(uS).catch(t=>console.error(t))},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"},zx2A:function(t,e,n){"use strict";n.d(e,"a",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return u});var r=n("7o/Q"),i=n("HDdC"),s=n("SeVD");class o extends r.a{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.a{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(!e.closed)return t instanceof i.a?t.subscribe(e):Object(s.a)(t)(e)}}},[[0,0]]]);